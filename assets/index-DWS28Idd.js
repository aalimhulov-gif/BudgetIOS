(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var pd={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function HA(){if(g_)return sl;g_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return sl.Fragment=t,sl.jsx=i,sl.jsxs=i,sl}var y_;function GA(){return y_||(y_=1,pd.exports=HA()),pd.exports}var V=GA(),gd={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function FA(){if(__)return Et;__=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),U=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=U&&D[U]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function at(D,Q,tt){this.props=D,this.context=Q,this.refs=J,this.updater=tt||Z}at.prototype.isReactComponent={},at.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},at.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function gt(){}gt.prototype=at.prototype;function ut(D,Q,tt){this.props=D,this.context=Q,this.refs=J,this.updater=tt||Z}var Nt=ut.prototype=new gt;Nt.constructor=ut,W(Nt,at.prototype),Nt.isPureReactComponent=!0;var ct=Array.isArray;function mt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(D,Q,tt){var st=tt.ref;return{$$typeof:s,type:D,key:Q,ref:st!==void 0?st:null,props:tt}}function O(D,Q){return w(D.type,Q,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function L(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(tt){return Q[tt]})}var I=/\/+/g;function Te(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):Q.toString(36)}function Oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(mt,mt):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,Q,tt,st,yt){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var Mt=!1;if(D===null)Mt=!0;else switch(wt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(D.$$typeof){case s:case t:Mt=!0;break;case A:return Mt=D._init,F(Mt(D._payload),Q,tt,st,yt)}}if(Mt)return yt=yt(D),Mt=st===""?"."+Te(D,0):st,ct(yt)?(tt="",Mt!=null&&(tt=Mt.replace(I,"$&/")+"/"),F(yt,Q,tt,"",function(Qn){return Qn})):yt!=null&&(x(yt)&&(yt=O(yt,tt+(yt.key==null||D&&D.key===yt.key?"":(""+yt.key).replace(I,"$&/")+"/")+Mt)),Q.push(yt)),1;Mt=0;var xe=st===""?".":st+":";if(ct(D))for(var re=0;re<D.length;re++)st=D[re],wt=xe+Te(st,re),Mt+=F(st,Q,tt,wt,yt);else if(re=H(D),typeof re=="function")for(D=re.call(D),re=0;!(st=D.next()).done;)st=st.value,wt=xe+Te(st,re++),Mt+=F(st,Q,tt,wt,yt);else if(wt==="object"){if(typeof D.then=="function")return F(Oe(D),Q,tt,st,yt);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function nt(D,Q,tt){if(D==null)return D;var st=[],yt=0;return F(D,st,"","",function(wt){return Q.call(tt,wt,yt++)}),st}function ft(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(tt){(D._status===0||D._status===-1)&&(D._status=1,D._result=tt)},function(tt){(D._status===0||D._status===-1)&&(D._status=2,D._result=tt)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var kt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ht={map:nt,forEach:function(D,Q,tt){nt(D,function(){Q.apply(this,arguments)},tt)},count:function(D){var Q=0;return nt(D,function(){Q++}),Q},toArray:function(D){return nt(D,function(Q){return Q})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Et.Activity=b,Et.Children=Ht,Et.Component=at,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ut,Et.StrictMode=a,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(D,Q,tt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=W({},D.props),yt=D.key;if(Q!=null)for(wt in Q.key!==void 0&&(yt=""+Q.key),Q)!S.call(Q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Q.ref===void 0||(st[wt]=Q[wt]);var wt=arguments.length-2;if(wt===1)st.children=tt;else if(1<wt){for(var Mt=Array(wt),xe=0;xe<wt;xe++)Mt[xe]=arguments[xe+2];st.children=Mt}return w(D.type,yt,st)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Et.createElement=function(D,Q,tt){var st,yt={},wt=null;if(Q!=null)for(st in Q.key!==void 0&&(wt=""+Q.key),Q)S.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Q[st]);var Mt=arguments.length-2;if(Mt===1)yt.children=tt;else if(1<Mt){for(var xe=Array(Mt),re=0;re<Mt;re++)xe[re]=arguments[re+2];yt.children=xe}if(D&&D.defaultProps)for(st in Mt=D.defaultProps,Mt)yt[st]===void 0&&(yt[st]=Mt[st]);return w(D,wt,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:p,render:D}},Et.isValidElement=x,Et.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:ft}},Et.memo=function(D,Q){return{$$typeof:v,type:D,compare:Q===void 0?null:Q}},Et.startTransition=function(D){var Q=C.T,tt={};C.T=tt;try{var st=D(),yt=C.S;yt!==null&&yt(tt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(mt,kt)}catch(wt){kt(wt)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),C.T=Q}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(D){return C.H.use(D)},Et.useActionState=function(D,Q,tt){return C.H.useActionState(D,Q,tt)},Et.useCallback=function(D,Q){return C.H.useCallback(D,Q)},Et.useContext=function(D){return C.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,Q){return C.H.useDeferredValue(D,Q)},Et.useEffect=function(D,Q){return C.H.useEffect(D,Q)},Et.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(D,Q,tt){return C.H.useImperativeHandle(D,Q,tt)},Et.useInsertionEffect=function(D,Q){return C.H.useInsertionEffect(D,Q)},Et.useLayoutEffect=function(D,Q){return C.H.useLayoutEffect(D,Q)},Et.useMemo=function(D,Q){return C.H.useMemo(D,Q)},Et.useOptimistic=function(D,Q){return C.H.useOptimistic(D,Q)},Et.useReducer=function(D,Q,tt){return C.H.useReducer(D,Q,tt)},Et.useRef=function(D){return C.H.useRef(D)},Et.useState=function(D){return C.H.useState(D)},Et.useSyncExternalStore=function(D,Q,tt){return C.H.useSyncExternalStore(D,Q,tt)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.0",Et}var v_;function sm(){return v_||(v_=1,gd.exports=FA()),gd.exports}var Zt=sm(),yd={exports:{}},al={},_d={exports:{}},vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function QA(){return E_||(E_=1,(function(s){function t(F,nt){var ft=F.length;F.push(nt);t:for(;0<ft;){var kt=ft-1>>>1,Ht=F[kt];if(0<l(Ht,nt))F[kt]=nt,F[ft]=Ht,ft=kt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],ft=F.pop();if(ft!==nt){F[0]=ft;t:for(var kt=0,Ht=F.length,D=Ht>>>1;kt<D;){var Q=2*(kt+1)-1,tt=F[Q],st=Q+1,yt=F[st];if(0>l(tt,ft))st<Ht&&0>l(yt,tt)?(F[kt]=yt,F[st]=ft,kt=st):(F[kt]=tt,F[Q]=ft,kt=Q);else if(st<Ht&&0>l(yt,ft))F[kt]=yt,F[st]=ft,kt=st;else break t}}return nt}function l(F,nt){var ft=F.sortIndex-nt.sortIndex;return ft!==0?ft:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],v=[],A=1,b=null,U=3,H=!1,Z=!1,W=!1,J=!1,at=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Nt(F){for(var nt=i(v);nt!==null;){if(nt.callback===null)a(v);else if(nt.startTime<=F)a(v),nt.sortIndex=nt.expirationTime,t(g,nt);else break;nt=i(v)}}function ct(F){if(W=!1,Nt(F),!Z)if(i(g)!==null)Z=!0,mt||(mt=!0,L());else{var nt=i(v);nt!==null&&Oe(ct,nt.startTime-F)}}var mt=!1,C=-1,S=5,w=-1;function O(){return J?!0:!(s.unstable_now()-w<S)}function x(){if(J=!1,mt){var F=s.unstable_now();w=F;var nt=!0;try{t:{Z=!1,W&&(W=!1,gt(C),C=-1),H=!0;var ft=U;try{e:{for(Nt(F),b=i(g);b!==null&&!(b.expirationTime>F&&O());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,U=b.priorityLevel;var Ht=kt(b.expirationTime<=F);if(F=s.unstable_now(),typeof Ht=="function"){b.callback=Ht,Nt(F),nt=!0;break e}b===i(g)&&a(g),Nt(F)}else a(g);b=i(g)}if(b!==null)nt=!0;else{var D=i(v);D!==null&&Oe(ct,D.startTime-F),nt=!1}}break t}finally{b=null,U=ft,H=!1}nt=void 0}}finally{nt?L():mt=!1}}}var L;if(typeof ut=="function")L=function(){ut(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Te=I.port2;I.port1.onmessage=x,L=function(){Te.postMessage(null)}}else L=function(){at(x,0)};function Oe(F,nt){C=at(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_next=function(F){switch(U){case 1:case 2:case 3:var nt=3;break;default:nt=U}var ft=U;U=nt;try{return F()}finally{U=ft}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=U;U=F;try{return nt()}finally{U=ft}},s.unstable_scheduleCallback=function(F,nt,ft){var kt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?kt+ft:kt):ft=kt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,F={id:A++,callback:nt,priorityLevel:F,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>kt?(F.sortIndex=ft,t(v,F),i(g)===null&&F===i(v)&&(W?(gt(C),C=-1):W=!0,Oe(ct,ft-kt))):(F.sortIndex=Ht,t(g,F),Z||H||(Z=!0,mt||(mt=!0,L()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var nt=U;return function(){var ft=U;U=nt;try{return F.apply(this,arguments)}finally{U=ft}}}})(vd)),vd}var T_;function KA(){return T_||(T_=1,_d.exports=QA()),_d.exports}var Ed={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function YA(){if(A_)return Qe;A_=1;var s=sm();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(g,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(g,v,null,A)},Qe.flushSync=function(g){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=v,a.p=A,a.d.f()}},Qe.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(g,v))},Qe.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Qe.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:U,fetchPriority:H}):A==="script"&&a.d.X(g,{crossOrigin:b,integrity:U,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(g,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(g)},Qe.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);a.d.L(g,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(g,v){if(typeof g=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(g)},Qe.requestFormReset=function(g){a.d.r(g)},Qe.unstable_batchedUpdates=function(g,v){return g(v)},Qe.useFormState=function(g,v,A){return d.H.useFormState(g,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var S_;function XA(){if(S_)return Ed.exports;S_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ed.exports=YA(),Ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function $A(){if(b_)return al;b_=1;var s=KA(),t=sm(),i=XA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,o=f;break}if(E===o){y=!0,o=h,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,o=h;break}if(E===o){y=!0,o=f,r=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,U=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case at:return"Profiler";case J:return"StrictMode";case ct:return"Suspense";case mt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ut:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Te(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Te(e(n))}catch{}}return null}var Oe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function D(e){return{current:e}}function Q(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function tt(e,n){Ht++,kt[Ht]=e.current,e.current=n}var st=D(null),yt=D(null),wt=D(null),Mt=D(null);function xe(e,n){switch(tt(wt,n),tt(yt,e),tt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=zy(n),e=jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),tt(st,e)}function re(){Q(st),Q(yt),Q(wt)}function Qn(e){e.memoizedState!==null&&tt(Mt,e);var n=st.current,r=jy(n,e.type);n!==r&&(tt(yt,e),tt(st,r))}function fi(e){yt.current===e&&(Q(st),Q(yt)),Mt.current===e&&(Q(Mt),el._currentValue=ft)}var es,Gs;function Ln(e){if(es===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);es=n&&n[1]||"",Gs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+es+e+Gs}var ns=!1;function Fs(e,n){if(!e||ns)return"";ns=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var j=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){j=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){j=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ns=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ln(r):""}function hh(e,n){switch(e.tag){case 26:case 27:case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return e.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Fs(e.type,!1);case 11:return Fs(e.type.render,!1);case 1:return Fs(e.type,!0);case 31:return Ln("Activity");default:return""}}function Bl(e){try{var n="",r=null;do n+=hh(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Qs=Object.prototype.hasOwnProperty,is=s.unstable_scheduleCallback,Ks=s.unstable_cancelCallback,fh=s.unstable_shouldYield,io=s.unstable_requestPaint,Me=s.unstable_now,ql=s.unstable_getCurrentPriorityLevel,Ae=s.unstable_ImmediatePriority,we=s.unstable_UserBlockingPriority,di=s.unstable_NormalPriority,Hl=s.unstable_LowPriority,ro=s.unstable_IdlePriority,dh=s.log,rs=s.unstable_setDisableYieldValue,Yi=null,Ge=null;function Sn(e){if(typeof dh=="function"&&rs(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Yi,e)}catch{}}var Je=Math.clz32?Math.clz32:Gl,mh=Math.log,so=Math.LN2;function Gl(e){return e>>>=0,e===0?32:31-(mh(e)/so|0)|0}var ss=256,Kn=262144,Xi=4194304;function kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=kn(o):(y&=E,y!==0?h=kn(y):r||(r=E&~e,r!==0&&(h=kn(r))))):(E=o&~f,E!==0?h=kn(E):y!==0?h=kn(y):r||(r=o&~e,r!==0&&(h=kn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function $i(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ys(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var e=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),e}function mi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Zi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ve(e,n,r,o,h,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=y&~r;0<r;){var G=31-Je(r),Y=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var B=j[G];B!==null&&(B.lane&=-536870913)}r&=~Y}o!==0&&oo(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function oo(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Je(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Ji(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Je(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Wi(e,n){var r=n&-n;return r=(r&42)!==0?1:lo(r),(r&(e.suspendedLanes|n))!==0?0:r}function lo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:u_(e.type))}function Fl(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Yn=Math.random().toString(36).slice(2),ae="__reactFiber$"+Yn,Ue="__reactProps$"+Yn,Xn="__reactContainer$"+Yn,tr="__reactEvents$"+Yn,$n="__reactListeners$"+Yn,Ql="__reactHandles$"+Yn,co="__reactResources$"+Yn,gi="__reactMarker$"+Yn;function as(e){delete e[ae],delete e[Ue],delete e[tr],delete e[$n],delete e[Ql]}function yi(e){var n=e[ae];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Xn]||r[ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Ky(e);e!==null;){if(r=e[ae])return r;e=Ky(e)}return n}e=r,r=e.parentNode}return null}function _i(e){if(e=e[ae]||e[Xn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function os(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Pn(e){var n=e[co];return n||(n=e[co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[gi]=!0}var Xs=new Set,er={};function We(e,n){Zn(e,n),Zn(e+"Capture",n)}function Zn(e,n){for(er[e]=n,e=0;e<n.length;e++)Xs.add(n[e])}var ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ho={},fo={};function Kl(e){return Qs.call(fo,e)?!0:Qs.call(ho,e)?!1:ph.test(e)?fo[e]=!0:(ho[e]=!0,!1)}function nr(e,n,r){if(Kl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function ir(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function wn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gh(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $s(e){if(!e._valueTracker){var n=Yl(e)?"checked":"value";e._valueTracker=gh(e,n,""+e[n])}}function mo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Yl(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vi=/[\n"\\]/g;function oe(e){return e.replace(vi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rr(e,n,r,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+tn(n)):e.value!==""+tn(n)&&(e.value=""+tn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Js(e,y,tn(n)):r!=null?Js(e,y,tn(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+tn(E):e.removeAttribute("name")}function ls(e,n,r,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$s(e);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),$s(e)}function Js(e,n,r){n==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Pt(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function us(e,n,r){if(n!=null&&(n=""+tn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+tn(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Oe(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=tn(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),$s(e)}function Rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||yh.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Xl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&po(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&po(e,f,n[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(e){return vh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Re(){}var Ws=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,dn=null;function $l(e){var n=_i(e);if(n&&(e=n.stateNode)){var r=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(rr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+oe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));rr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&mo(o)}break t;case"textarea":us(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Pt(e,!!r.multiple,n,!1)}}}var yo=!1;function Zl(e,n,r){if(yo)return e(n,r);yo=!0;try{var o=e(n);return o}finally{if(yo=!1,(Ei!==null||dn!==null)&&(Ku(),Ei&&(n=Ei,e=dn,dn=Ei=null,$l(n),e)))for(n=0;n<e.length;n++)$l(e[n])}}function an(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ue]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=!1;if(zn)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{_o=!1}var mn=null,ea=null,ti=null;function ar(){if(ti)return ti;var e,n=ea,r=n.length,o,h="value"in mn?mn.value:mn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var y=r-e;for(o=1;o<=y&&n[r-o]===h[f-o];o++);return ti=h.slice(e,1<o?1-o:void 0)}function cs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Wt(){return!1}function Fe(e){function n(r,o,h,f,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?or:Wt,this.isPropagationStopped=Wt,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),n}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=Fe(Ti),lr=b({},Ti,{view:0,detail:0}),Jl=Fe(lr),ur,na,en,fs=b({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(ur=e.screenX-en.screenX,na=e.screenY-en.screenY):na=ur=0,en=e),ur)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Wl=Fe(fs),ds=b({},fs,{dataTransfer:0}),tu=Fe(ds),vo=b({},lr,{relatedTarget:0}),cr=Fe(vo),eu=b({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Fe(eu),Eh=b({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nu=Fe(Eh),ms=b({},Ti,{data:0}),Eo=Fe(ms),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ao[e])?!!n[e]:!1}function hr(){return ru}var su=b({},lr,{key:function(e){if(e.key){var n=iu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?To[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),au=Fe(su),Ai=b({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Fe(Ai),ou=b({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),lu=Fe(ou),uu=b({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),ra=Fe(uu),nn=b({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cu=Fe(nn),hu=b({},Ti,{newState:0,oldState:0}),fr=Fe(hu),u=[9,13,27,32],m=zn&&"CompositionEvent"in window,_=null;zn&&"documentMode"in document&&(_=document.documentMode);var T=zn&&"TextEvent"in window&&!_,k=zn&&(!m||_&&8<_&&11>=_),q=" ",et=!1;function Gt(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rt=!1;function Ie(e,n){switch(e){case"compositionend":return me(n);case"keypress":return n.which!==32?null:(et=!0,q);case"textInput":return e=n.data,e===q&&et?null:e;default:return null}}function Ce(e,n){if(Rt)return e==="compositionend"||!m&&Gt(e,n)?(e=ar(),ti=ea=mn=null,Rt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return k&&n.locale!=="ko"?null:n.data;default:return null}}var dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!dr[e.type]:n==="textarea"}function ps(e,n,r,o){Ei?dn?dn.push(o):dn=[o]:Ei=o,n=tc(n,"onChange"),0<n.length&&(r=new hs("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Si=null,bo=null;function gT(e){My(e,0)}function fu(e){var n=os(e);if(mo(n))return e}function Jm(e,n){if(e==="change")return n}var Wm=!1;if(zn){var Th;if(zn){var Ah="oninput"in document;if(!Ah){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),Ah=typeof tp.oninput=="function"}Th=Ah}else Th=!1;Wm=Th&&(!document.documentMode||9<document.documentMode)}function ep(){Si&&(Si.detachEvent("onpropertychange",np),bo=Si=null)}function np(e){if(e.propertyName==="value"&&fu(bo)){var n=[];ps(n,bo,e,ta(e)),Zl(gT,n)}}function yT(e,n,r){e==="focusin"?(ep(),Si=n,bo=r,Si.attachEvent("onpropertychange",np)):e==="focusout"&&ep()}function _T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fu(bo)}function vT(e,n){if(e==="click")return fu(n)}function ET(e,n){if(e==="input"||e==="change")return fu(n)}function TT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:TT;function wo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Qs.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rp(e,n){var r=ip(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ip(r)}}function sp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ap(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Zs(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Zs(e.document)}return n}function Sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var AT=zn&&"documentMode"in document&&11>=document.documentMode,sa=null,bh=null,Ro=null,wh=!1;function op(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wh||sa==null||sa!==Zs(o)||(o=sa,"selectionStart"in o&&Sh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ro&&wo(Ro,o)||(Ro=o,o=tc(bh,"onSelect"),0<o.length&&(n=new hs("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=sa)))}function gs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var aa={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Rh={},lp={};zn&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function ys(e){if(Rh[e])return Rh[e];if(!aa[e])return e;var n=aa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in lp)return Rh[e]=n[r];return e}var up=ys("animationend"),cp=ys("animationiteration"),hp=ys("animationstart"),ST=ys("transitionrun"),bT=ys("transitionstart"),wT=ys("transitioncancel"),fp=ys("transitionend"),dp=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function jn(e,n){dp.set(e,n),We(n,[e])}var du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],oa=0,Ch=0;function mu(){for(var e=oa,n=Ch=oa=0;n<e;){var r=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&mp(r,h,f)}}function pu(e,n,r,o){In[oa++]=e,In[oa++]=n,In[oa++]=r,In[oa++]=o,Ch|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nh(e,n,r,o){return pu(e,n,r,o),gu(e)}function _s(e,n){return pu(e,null,null,n),gu(e)}function mp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Je(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function gu(e){if(50<Yo)throw Yo=0,zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function RT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,r,o){return new RT(e,n,r,o)}function Dh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,n){var r=e.alternate;return r===null?(r=gn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function pp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function yu(e,n,r,o,h,f){var y=0;if(o=e,typeof e=="function")Dh(e)&&(y=1);else if(typeof e=="string")y=OA(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=gn(31,r,n,h),e.elementType=w,e.lanes=f,e;case W:return vs(r.children,h,f,n);case J:y=8,h|=24;break;case at:return e=gn(12,r,n,h|2),e.elementType=at,e.lanes=f,e;case ct:return e=gn(13,r,n,h),e.elementType=ct,e.lanes=f,e;case mt:return e=gn(19,r,n,h),e.elementType=mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:y=10;break t;case gt:y=9;break t;case Nt:y=11;break t;case C:y=14;break t;case S:y=16,o=null;break t}y=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(y,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vs(e,n,r,o){return e=gn(7,e,o,n),e.lanes=r,e}function Oh(e,n,r){return e=gn(6,e,null,n),e.lanes=r,e}function gp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function xh(e,n,r){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var yp=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var r=yp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Bl(n)},yp.set(e,n),n)}return{value:e,source:n,stack:Bl(n)}}var ua=[],ca=0,_u=null,Io=0,Nn=[],Dn=0,mr=null,ei=1,ni="";function wi(e,n){ua[ca++]=Io,ua[ca++]=_u,_u=e,Io=n}function _p(e,n,r){Nn[Dn++]=ei,Nn[Dn++]=ni,Nn[Dn++]=mr,mr=e;var o=ei;e=ni;var h=32-Je(o)-1;o&=~(1<<h),r+=1;var f=32-Je(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,ei=1<<32-Je(n)+h|r<<h|o,ni=f+e}else ei=1<<f|r<<h|o,ni=e}function Mh(e){e.return!==null&&(wi(e,1),_p(e,1,0))}function Vh(e){for(;e===_u;)_u=ua[--ca],ua[ca]=null,Io=ua[--ca],ua[ca]=null;for(;e===mr;)mr=Nn[--Dn],Nn[Dn]=null,ni=Nn[--Dn],Nn[Dn]=null,ei=Nn[--Dn],Nn[Dn]=null}function vp(e,n){Nn[Dn++]=ei,Nn[Dn++]=ni,Nn[Dn++]=mr,ei=n.id,ni=n.overflow,mr=e}var Le=null,te=null,Vt=!1,pr=null,On=!1,Uh=Error(a(519));function gr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Co(Cn(n,e)),Uh}function Ep(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ae]=e,n[Ue]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<$o.length;r++)Ct($o[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ls(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||ky(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Re),n=!0):n=!1,n||gr(e,!0)}function Tp(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Le=Le.return}}function ha(e){if(e!==Le)return!1;if(!Vt)return Tp(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||td(e.type,e.memoizedProps)),r=!r),r&&te&&gr(e),Tp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Qy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Qy(e)}else n===27?(n=te,Dr(e.type)?(e=sd,sd=null,te=e):te=n):te=Le?Mn(e.stateNode.nextSibling):null;return!0}function Es(){te=Le=null,Vt=!1}function Lh(){var e=pr;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),pr=null),e}function Co(e){pr===null?pr=[e]:pr.push(e)}var kh=D(null),Ts=null,Ri=null;function yr(e,n,r){tt(kh,n._currentValue),n._currentValue=r}function Ii(e){e._currentValue=kh.current,Q(kh)}function Ph(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function zh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Ph(f.return,r,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Ph(y,r,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function fa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;pn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(el):e=[el])}h=h.return}e!==null&&zh(n,e,r,o),n.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ke(e){return Ap(Ts,e)}function Eu(e,n){return Ts===null&&As(e),Ap(e,n)}function Ap(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(e===null)throw Error(a(308));Ri=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ri=Ri.next=n;return r}var IT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},CT=s.unstable_scheduleCallback,NT=s.unstable_NormalPriority,pe={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new IT,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&CT(NT,function(){e.controller.abort()})}var Do=null,Bh=0,da=0,ma=null;function DT(e,n){if(Do===null){var r=Do=[];Bh=0,da=Ff(),ma={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Bh++,n.then(Sp,Sp),n}function Sp(){if(--Bh===0&&Do!==null){ma!==null&&(ma.status="fulfilled");var e=Do;Do=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function OT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var bp=F.S;F.S=function(e,n){oy=Me(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&DT(e,n),bp!==null&&bp(e,n)};var Ss=D(null);function qh(){var e=Ss.current;return e!==null?e:Jt.pooledCache}function Tu(e,n){n===null?tt(Ss,Ss.current):tt(Ss,n.pool)}function wp(){var e=qh();return e===null?null:{parent:pe._currentValue,pool:e}}var pa=Error(a(460)),Hh=Error(a(474)),Au=Error(a(542)),Su={then:function(){}};function Rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ip(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Re,Re),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Np(e),e;default:if(typeof n.status=="string")n.then(Re,Re);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Np(e),e}throw ws=n,pa}}function bs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ws=r,pa):r}}var ws=null;function Cp(){if(ws===null)throw Error(a(459));var e=ws;return ws=null,e}function Np(e){if(e===pa||e===Au)throw Error(a(483))}var ga=null,Oo=0;function bu(e){var n=Oo;return Oo+=1,ga===null&&(ga=[]),Ip(ga,e,n)}function xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wu(e,n){throw n.$$typeof===U?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Dp(e){function n(M,N){if(e){var P=M.deletions;P===null?(M.deletions=[N],M.flags|=16):P.push(N)}}function r(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function o(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=bi(M,N),M.index=0,M.sibling=null,M}function f(M,N,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<N?(M.flags|=67108866,N):P):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function y(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,P,K){return N===null||N.tag!==6?(N=Oh(P,M.mode,K),N.return=M,N):(N=h(N,P),N.return=M,N)}function R(M,N,P,K){var ht=P.type;return ht===W?G(M,N,P.props.children,K,P.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&bs(ht)===N.type)?(N=h(N,P.props),xo(N,P),N.return=M,N):(N=yu(P.type,P.key,P.props,null,M.mode,K),xo(N,P),N.return=M,N)}function z(M,N,P,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=xh(P,M.mode,K),N.return=M,N):(N=h(N,P.children||[]),N.return=M,N)}function G(M,N,P,K,ht){return N===null||N.tag!==7?(N=vs(P,M.mode,K,ht),N.return=M,N):(N=h(N,P),N.return=M,N)}function Y(M,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Oh(""+N,M.mode,P),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return P=yu(N.type,N.key,N.props,null,M.mode,P),xo(P,N),P.return=M,P;case Z:return N=xh(N,M.mode,P),N.return=M,N;case S:return N=bs(N),Y(M,N,P)}if(Oe(N)||L(N))return N=vs(N,M.mode,P,null),N.return=M,N;if(typeof N.then=="function")return Y(M,bu(N),P);if(N.$$typeof===ut)return Y(M,Eu(M,N),P);wu(M,N)}return null}function j(M,N,P,K){var ht=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(M,N,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ht?R(M,N,P,K):null;case Z:return P.key===ht?z(M,N,P,K):null;case S:return P=bs(P),j(M,N,P,K)}if(Oe(P)||L(P))return ht!==null?null:G(M,N,P,K,null);if(typeof P.then=="function")return j(M,N,bu(P),K);if(P.$$typeof===ut)return j(M,N,Eu(M,P),K);wu(M,P)}return null}function B(M,N,P,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(P)||null,E(N,M,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return M=M.get(K.key===null?P:K.key)||null,R(N,M,K,ht);case Z:return M=M.get(K.key===null?P:K.key)||null,z(N,M,K,ht);case S:return K=bs(K),B(M,N,P,K,ht)}if(Oe(K)||L(K))return M=M.get(P)||null,G(N,M,K,ht,null);if(typeof K.then=="function")return B(M,N,P,bu(K),ht);if(K.$$typeof===ut)return B(M,N,P,Eu(N,K),ht);wu(N,K)}return null}function it(M,N,P,K){for(var ht=null,zt=null,lt=N,bt=N=0,Ot=null;lt!==null&&bt<P.length;bt++){lt.index>bt?(Ot=lt,lt=null):Ot=lt.sibling;var jt=j(M,lt,P[bt],K);if(jt===null){lt===null&&(lt=Ot);break}e&&lt&&jt.alternate===null&&n(M,lt),N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt,lt=Ot}if(bt===P.length)return r(M,lt),Vt&&wi(M,bt),ht;if(lt===null){for(;bt<P.length;bt++)lt=Y(M,P[bt],K),lt!==null&&(N=f(lt,N,bt),zt===null?ht=lt:zt.sibling=lt,zt=lt);return Vt&&wi(M,bt),ht}for(lt=o(lt);bt<P.length;bt++)Ot=B(lt,M,bt,P[bt],K),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?bt:Ot.key),N=f(Ot,N,bt),zt===null?ht=Ot:zt.sibling=Ot,zt=Ot);return e&&lt.forEach(function(Ur){return n(M,Ur)}),Vt&&wi(M,bt),ht}function pt(M,N,P,K){if(P==null)throw Error(a(151));for(var ht=null,zt=null,lt=N,bt=N=0,Ot=null,jt=P.next();lt!==null&&!jt.done;bt++,jt=P.next()){lt.index>bt?(Ot=lt,lt=null):Ot=lt.sibling;var Ur=j(M,lt,jt.value,K);if(Ur===null){lt===null&&(lt=Ot);break}e&&lt&&Ur.alternate===null&&n(M,lt),N=f(Ur,N,bt),zt===null?ht=Ur:zt.sibling=Ur,zt=Ur,lt=Ot}if(jt.done)return r(M,lt),Vt&&wi(M,bt),ht;if(lt===null){for(;!jt.done;bt++,jt=P.next())jt=Y(M,jt.value,K),jt!==null&&(N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return Vt&&wi(M,bt),ht}for(lt=o(lt);!jt.done;bt++,jt=P.next())jt=B(lt,M,bt,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?bt:jt.key),N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(qA){return n(M,qA)}),Vt&&wi(M,bt),ht}function $t(M,N,P,K){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ht=P.key;N!==null;){if(N.key===ht){if(ht=P.type,ht===W){if(N.tag===7){r(M,N.sibling),K=h(N,P.props.children),K.return=M,M=K;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&bs(ht)===N.type){r(M,N.sibling),K=h(N,P.props),xo(K,P),K.return=M,M=K;break t}r(M,N);break}else n(M,N);N=N.sibling}P.type===W?(K=vs(P.props.children,M.mode,K,P.key),K.return=M,M=K):(K=yu(P.type,P.key,P.props,null,M.mode,K),xo(K,P),K.return=M,M=K)}return y(M);case Z:t:{for(ht=P.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(M,N.sibling),K=h(N,P.children||[]),K.return=M,M=K;break t}else{r(M,N);break}else n(M,N);N=N.sibling}K=xh(P,M.mode,K),K.return=M,M=K}return y(M);case S:return P=bs(P),$t(M,N,P,K)}if(Oe(P))return it(M,N,P,K);if(L(P)){if(ht=L(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),pt(M,N,P,K)}if(typeof P.then=="function")return $t(M,N,bu(P),K);if(P.$$typeof===ut)return $t(M,N,Eu(M,P),K);wu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(M,N.sibling),K=h(N,P),K.return=M,M=K):(r(M,N),K=Oh(P,M.mode,K),K.return=M,M=K),y(M)):r(M,N)}return function(M,N,P,K){try{Oo=0;var ht=$t(M,N,P,K);return ga=null,ht}catch(lt){if(lt===pa||lt===Au)throw lt;var zt=gn(29,lt,null,M.mode);return zt.lanes=K,zt.return=M,zt}finally{}}}var Rs=Dp(!0),Op=Dp(!1),_r=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=gu(e),mp(e,null,r),n}return pu(e,o,n,r),gu(e)}function Mo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ji(e,r)}}function Qh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Kh=!1;function Vo(){if(Kh){var e=ma;if(e!==null)throw e}}function Uo(e,n,r,o){Kh=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;y=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,B=j!==E.lane;if(B?(Dt&j)===j:(o&j)===j){j!==0&&j===da&&(Kh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var it=e,pt=E;j=n;var $t=r;switch(pt.tag){case 1:if(it=pt.payload,typeof it=="function"){Y=it.call($t,Y,j);break t}Y=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=pt.payload,j=typeof it=="function"?it.call($t,Y,j):it,j==null)break t;Y=b({},Y,j);break t;case 2:_r=!0}}j=E.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=B,R=Y):G=G.next=B,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),wr|=y,e.lanes=y,e.memoizedState=Y}}function xp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Mp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)xp(r[e],n)}var ya=D(null),Ru=D(0);function Vp(e,n){e=Li,tt(Ru,e),tt(ya,n),Li=e|n.baseLanes}function Yh(){tt(Ru,Li),tt(ya,ya.current)}function Xh(){Li=Ru.current,Q(ya),Q(Ru)}var yn=D(null),xn=null;function Tr(e){var n=e.alternate;tt(he,he.current&1),tt(yn,e),xn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(xn=e)}function $h(e){tt(he,he.current),tt(yn,e),xn===null&&(xn=e)}function Up(e){e.tag===22?(tt(he,he.current),tt(yn,e),xn===null&&(xn=e)):Ar()}function Ar(){tt(he,he.current),tt(yn,yn.current)}function _n(e){Q(yn),xn===e&&(xn=null),Q(he)}var he=D(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||id(r)||rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ci=0,St=null,Yt=null,ge=null,Cu=!1,_a=!1,Is=!1,Nu=0,Lo=0,va=null,xT=0;function le(){throw Error(a(321))}function Zh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!pn(e[r],n[r]))return!1;return!0}function Jh(e,n,r,o,h,f){return Ci=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?_g:mf,Is=!1,f=r(o,h),Is=!1,_a&&(f=kp(n,r,o,h)),Lp(e),f}function Lp(e){F.H=zo;var n=Yt!==null&&Yt.next!==null;if(Ci=0,ge=Yt=St=null,Cu=!1,Lo=0,va=null,n)throw Error(a(300));e===null||ye||(e=e.dependencies,e!==null&&vu(e)&&(ye=!0))}function kp(e,n,r,o){St=e;var h=0;do{if(_a&&(va=null),Lo=0,_a=!1,25<=h)throw Error(a(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=vg,f=n(r,o)}while(_a);return f}function MT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?ko(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(St.flags|=1024),n}function Wh(){var e=Nu!==0;return Nu=0,e}function tf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ef(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Ci=0,ge=Yt=St=null,_a=!1,Lo=Nu=0,va=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=e:ge=ge.next=e,ge}function fe(){if(Yt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=ge===null?St.memoizedState:ge.next;if(n!==null)ge=n,Yt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?St.memoizedState=ge=e:ge=ge.next=e}return ge}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var n=Lo;return Lo+=1,va===null&&(va=[]),e=Ip(va,e,n),n=St,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?_g:mf),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===ut)return ke(e)}throw Error(a(438,String(e)))}function nf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Du(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function Ni(e,n){return typeof n=="function"?n(e):n}function xu(e){var n=fe();return rf(n,Yt,e)}function rf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Dt&Y)===Y:(Ci&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===da&&(G=!0);else if((Ci&j)===j){z=z.next,j===da&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,y=f):R=R.next=Y,St.lanes|=j,wr|=j;Y=z.action,Is&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,St.lanes|=Y,wr|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!pn(f,e.memoizedState)&&(ye=!0,G&&(r=ma,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sf(e){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);pn(f,n.memoizedState)||(ye=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Pp(e,n,r){var o=St,h=fe(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!pn((Yt||h).memoizedState,r);if(y&&(h.memoizedState=r,ye=!0),h=h.queue,lf(Bp.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},jp.bind(null,o,h,r,n),null),Jt===null)throw Error(a(349));f||(Ci&127)!==0||zp(o,n,r)}return r}function zp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Du(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function jp(e,n,r,o){n.value=r,n.getSnapshot=o,qp(n)&&Hp(e)}function Bp(e,n,r){return r(function(){qp(n)&&Hp(e)})}function qp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!pn(e,r)}catch{return!0}}function Hp(e){var n=_s(e,2);n!==null&&fn(n,e,2)}function af(e){var n=rn();if(typeof e=="function"){var r=e;if(e=r(),Is){Sn(!0);try{r()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},n}function Gp(e,n,r,o){return e.baseState=r,rf(e,Yt,typeof o=="function"?o:Ni)}function VT(e,n,r,o,h){if(Uu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Fp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Fp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=r(h,o),R=F.S;R!==null&&R(y,E),Qp(e,n,E)}catch(z){of(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=r(h,o),Qp(e,n,f)}catch(z){of(e,n,z)}}function Qp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Kp(e,n,o)},function(o){return of(e,n,o)}):Kp(e,n,r)}function Kp(e,n,r){n.status="fulfilled",n.value=r,Yp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Fp(e,r)))}function of(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Yp(n),n=n.next;while(n!==o)}e.action=null}function Yp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xp(e,n){return n}function $p(e,n){if(Vt){var r=Jt.formState;if(r!==null){t:{var o=St;if(Vt){if(te){e:{for(var h=te,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Mn(h.nextSibling),o=h.data==="F!";break t}}gr(o)}o=!1}o&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:n},r.queue=o,r=pg.bind(null,St,o),o.dispatch=r,o=af(!1),f=df.bind(null,St,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=VT.bind(null,St,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Zp(e){var n=fe();return Jp(n,Yt,e)}function Jp(e,n,r){if(n=rf(e,n,Xp)[0],e=xu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ko(n)}catch(y){throw y===pa?Au:y}else o=n;n=fe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Ea(9,{destroy:void 0},UT.bind(null,h,r),null)),[o,f,e]}function UT(e,n){e.action=n}function Wp(e){var n=fe(),r=Yt;if(r!==null)return Jp(n,r,e);fe(),n=n.memoizedState,r=fe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ea(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Du(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function tg(){return fe().memoizedState}function Mu(e,n,r,o){var h=rn();St.flags|=e,h.memoizedState=Ea(1|n,{destroy:void 0},r,o===void 0?null:o)}function Vu(e,n,r,o){var h=fe();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&Zh(o,Yt.memoizedState.deps)?h.memoizedState=Ea(n,f,r,o):(St.flags|=e,h.memoizedState=Ea(1|n,f,r,o))}function eg(e,n){Mu(8390656,8,e,n)}function lf(e,n){Vu(2048,8,e,n)}function LT(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Du(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function ng(e){var n=fe().memoizedState;return LT({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ig(e,n){return Vu(4,2,e,n)}function rg(e,n){return Vu(4,4,e,n)}function sg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ag(e,n,r){r=r!=null?r.concat([e]):null,Vu(4,4,sg.bind(null,n,e),r)}function uf(){}function og(e,n){var r=fe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Zh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function lg(e,n){var r=fe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Zh(n,o[1]))return o[0];if(o=e(),Is){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[o,n],o}function cf(e,n,r){return r===void 0||(Ci&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=uy(),St.lanes|=e,wr|=e,r)}function ug(e,n,r,o){return pn(r,n)?r:ya.current!==null?(e=cf(e,r,o),pn(e,n)||(ye=!0),e):(Ci&42)===0||(Ci&1073741824)!==0&&(Dt&261930)===0?(ye=!0,e.memoizedState=r):(e=uy(),St.lanes|=e,wr|=e,n)}function cg(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,df(e,!1,n,r);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=OT(R,o);Po(e,n,G,Tn(e))}else Po(e,n,o,Tn(e))}catch(Y){Po(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{nt.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function kT(){}function hf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=hg(e).queue;cg(e,h,n,ft,r===null?kT:function(){return fg(e),r(o)})}function hg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function fg(e){var n=hg(e);n.next===null&&(n=e.alternate.memoizedState),Po(e,n.next.queue,{},Tn())}function ff(){return ke(el)}function dg(){return fe().memoizedState}function mg(){return fe().memoizedState}function PT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();e=vr(r);var o=Er(n,e,r);o!==null&&(fn(o,n,r),Mo(o,n,r)),n={cache:jh()},e.payload=n;return}n=n.return}}function zT(e,n,r){var o=Tn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Uu(e)?gg(n,r):(r=Nh(e,n,r,o),r!==null&&(fn(r,e,o),yg(r,n,o)))}function pg(e,n,r){var o=Tn();Po(e,n,r,o)}function Po(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))gg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(h.hasEagerState=!0,h.eagerState=E,pn(E,y))return pu(e,n,h,0),Jt===null&&mu(),!1}catch{}finally{}if(r=Nh(e,n,h,o),r!==null)return fn(r,e,o),yg(r,n,o),!0}return!1}function df(e,n,r,o){if(o={lane:2,revertLane:Ff(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(n)throw Error(a(479))}else n=Nh(e,r,o,2),n!==null&&fn(n,e,2)}function Uu(e){var n=e.alternate;return e===St||n!==null&&n===St}function gg(e,n){_a=Cu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function yg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ji(e,r)}}var zo={readContext:ke,use:Ou,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};zo.useEffectEvent=le;var _g={readContext:ke,use:Ou,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:ke,useEffect:eg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Mu(4194308,4,sg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var r=rn();n=n===void 0?null:n;var o=e();if(Is){Sn(!0);try{e()}finally{Sn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=rn();if(r!==void 0){var h=r(n);if(Is){Sn(!0);try{r(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=zT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=af(e);var n=e.queue,r=pg.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:uf,useDeferredValue:function(e,n){var r=rn();return cf(r,e,n)},useTransition:function(){var e=af(!1);return e=cg.bind(null,St,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,h=rn();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(Dt&127)!==0||zp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,eg(Bp.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},jp.bind(null,o,f,r,n),null),r},useId:function(){var e=rn(),n=Jt.identifierPrefix;if(Vt){var r=ni,o=ei;r=(o&~(1<<32-Je(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Nu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=xT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ff,useFormState:$p,useActionState:$p,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=df.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:nf,useCacheRefresh:function(){return rn().memoizedState=PT.bind(null,St)},useEffectEvent:function(e){var n=rn(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},mf={readContext:ke,use:Ou,useCallback:og,useContext:ke,useEffect:lf,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:lg,useReducer:xu,useRef:tg,useState:function(){return xu(Ni)},useDebugValue:uf,useDeferredValue:function(e,n){var r=fe();return ug(r,Yt.memoizedState,e,n)},useTransition:function(){var e=xu(Ni)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:Pp,useId:dg,useHostTransitionStatus:ff,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,n){var r=fe();return Gp(r,Yt,e,n)},useMemoCache:nf,useCacheRefresh:mg};mf.useEffectEvent=ng;var vg={readContext:ke,use:Ou,useCallback:og,useContext:ke,useEffect:lf,useImperativeHandle:ag,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:lg,useReducer:sf,useRef:tg,useState:function(){return sf(Ni)},useDebugValue:uf,useDeferredValue:function(e,n){var r=fe();return Yt===null?cf(r,e,n):ug(r,Yt.memoizedState,e,n)},useTransition:function(){var e=sf(Ni)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:Pp,useId:dg,useHostTransitionStatus:ff,useFormState:Wp,useActionState:Wp,useOptimistic:function(e,n){var r=fe();return Yt!==null?Gp(r,Yt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:nf,useCacheRefresh:mg};vg.useEffectEvent=ng;function pf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Tn(),h=vr(o);h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(fn(n,e,o),Mo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Tn(),h=vr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(fn(n,e,o),Mo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Tn(),o=vr(r);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,r),n!==null&&(fn(n,e,r),Mo(n,e,r))}};function Eg(e,n,r,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!wo(r,o)||!wo(h,f):!0}function Tg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&gf.enqueueReplaceState(n,n.state,null)}function Cs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Ag(e){du(e)}function Sg(e){console.error(e)}function bg(e){du(e)}function Lu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function wg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yf(e,n,r){return r=vr(r),r.tag=3,r.payload={element:null},r.callback=function(){Lu(e,n)},r}function Rg(e){return e=vr(e),e.tag=3,e}function Ig(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){wg(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){wg(n,r,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function jT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&fa(n,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return xn===null?Yu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Su?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),qf(e,o,h)),!1;case 22:return r.flags|=65536,o===Su?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),qf(e,o,h)),!1}throw Error(a(435,r.tag))}return qf(e,o,h),Yu(),!1}if(Vt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Uh&&(e=Error(a(422),{cause:o}),Co(Cn(e,r)))):(o!==Uh&&(n=Error(a(423),{cause:o}),Co(Cn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,r),h=yf(e.stateNode,o,h),Qh(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,r),Ko===null?Ko=[f]:Ko.push(f),ue!==4&&(ue=2),n===null)return!0;o=Cn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=yf(r.stateNode,o,e),Qh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Rg(h),Ig(h,e,r,o),Qh(r,h),!1}r=r.return}while(r!==null);return!1}var _f=Error(a(461)),ye=!1;function Pe(e,n,r,o){n.child=e===null?Op(n,null,r,o):Rs(n,e.child,r,o)}function Cg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return As(n),o=Jh(e,n,r,y,f,h),E=Wh(),e!==null&&!ye?(tf(e,n,h),Di(e,n,h)):(Vt&&E&&Mh(n),n.flags|=1,Pe(e,n,o,h),n.child)}function Ng(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Dh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Dg(e,n,f,o,h)):(e=yu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Rf(e,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:wo,r(y,o)&&e.ref===n.ref)return Di(e,n,h)}return n.flags|=1,e=bi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Dg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(wo(f,o)&&e.ref===n.ref)if(ye=!1,n.pendingProps=o=f,Rf(e,h))(e.flags&131072)!==0&&(ye=!0);else return n.lanes=e.lanes,Di(e,n,h)}return vf(e,n,r,o,h)}function Og(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return xg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(n,f!==null?f.cachePool:null),f!==null?Vp(n,f):Yh(),Up(n);else return o=n.lanes=536870912,xg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Tu(n,f.cachePool),Vp(n,f),Ar(),n.memoizedState=null):(e!==null&&Tu(n,null),Yh(),Ar());return Pe(e,n,h,r),n.child}function jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xg(e,n,r,o,h){var f=qh();return f=f===null?null:{parent:pe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Tu(n,null),Yh(),Up(n),e!==null&&fa(e,n,o,!0),n.childLanes=h,null}function ku(e,n){return n=zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Mg(e,n,r){return Rs(n,e.child,null,r),e=ku(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function BT(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=ku(n,o),n.lanes=536870912,jo(null,e);if($h(n),(e=te)?(e=Fy(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:ei,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},r=gp(e),r.return=n,n.child=r,Le=n,te=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return ku(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if($h(n),h)if(n.flags&256)n.flags&=-257,n=Mg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ye||fa(e,n,r,!1),h=(r&e.childLanes)!==0,ye||h){if(o=Jt,o!==null&&(y=Wi(o,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,_s(e,y),fn(o,e,y),_f;Yu(),n=Mg(e,n,r)}else e=f.treeContext,te=Mn(y.nextSibling),Le=n,Vt=!0,pr=null,On=!1,e!==null&&vp(n,e),n=ku(n,o),n.flags|=4096;return n}return e=bi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Pu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function vf(e,n,r,o,h){return As(n),r=Jh(e,n,r,o,void 0,h),o=Wh(),e!==null&&!ye?(tf(e,n,h),Di(e,n,h)):(Vt&&o&&Mh(n),n.flags|=1,Pe(e,n,r,h),n.child)}function Vg(e,n,r,o,h,f){return As(n),n.updateQueue=null,r=kp(n,o,r,h),Lp(e),o=Wh(),e!==null&&!ye?(tf(e,n,f),Di(e,n,f)):(Vt&&o&&Mh(n),n.flags|=1,Pe(e,n,r,f),n.child)}function Ug(e,n,r,o,h){if(As(n),n.stateNode===null){var f=la,y=r.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Gh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ke(y):la,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(pf(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&gf.enqueueReplaceState(f,f.state,null),Uo(n,o,f,h),Vo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Cs(r,E);f.props=R;var z=f.context,G=r.contextType;y=la,typeof G=="object"&&G!==null&&(y=ke(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Tg(n,f,o,y),_r=!1;var j=n.memoizedState;f.state=j,Uo(n,o,f,h),Vo(),z=n.memoizedState,E||j!==z||_r?(typeof Y=="function"&&(pf(n,r,Y,o),z=n.memoizedState),(R=_r||Eg(n,r,R,o,j,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Fh(e,n),y=n.memoizedProps,G=Cs(r,y),f.props=G,Y=n.pendingProps,j=f.context,z=r.contextType,R=la,typeof z=="object"&&z!==null&&(R=ke(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||j!==R)&&Tg(n,f,o,R),_r=!1,j=n.memoizedState,f.state=j,Uo(n,o,f,h),Vo();var B=n.memoizedState;y!==Y||j!==B||_r||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof E=="function"&&(pf(n,r,E,o),B=n.memoizedState),(G=_r||Eg(n,r,G,o,j,B,R)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Pu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rs(n,e.child,null,h),n.child=Rs(n,null,r,h)):Pe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Di(e,n,h),e}function Lg(e,n,r,o){return Es(),n.flags|=256,Pe(e,n,r,o),n.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(e){return{baseLanes:e,cachePool:wp()}}function Af(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=En),e}function kg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(he.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Tr(n):Ar(),(e=te)?(e=Fy(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:ei,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},r=gp(e),r.return=n,n.child=r,Le=n,te=null)):e=null,e===null)throw gr(n);return rd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ar(),h=n.mode,E=zu({mode:"hidden",children:E},h),o=vs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Tf(r),o.childLanes=Af(e,y,r),n.memoizedState=Ef,jo(null,o)):(Tr(n),Sf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=bf(e,n,r)):n.memoizedState!==null?(Ar(),n.child=e.child,n.flags|=128,n=null):(Ar(),E=o.fallback,h=n.mode,o=zu({mode:"visible",children:o.children},h),E=vs(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rs(n,e.child,null,r),o=n.child,o.memoizedState=Tf(r),o.childLanes=Af(e,y,r),n.memoizedState=Ef,n=jo(null,o));else if(Tr(n),rd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(a(419)),o.stack="",o.digest=y,Co({value:o,source:null,stack:null}),n=bf(e,n,r)}else if(ye||fa(e,n,r,!1),y=(r&e.childLanes)!==0,ye||y){if(y=Jt,y!==null&&(o=Wi(y,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,_s(e,o),fn(y,e,o),_f;id(E)||Yu(),n=bf(e,n,r)}else id(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=Mn(E.nextSibling),Le=n,Vt=!0,pr=null,On=!1,e!==null&&vp(n,e),n=Sf(n,o.children),n.flags|=4096);return n}return h?(Ar(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=bi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=bi(z,E):(E=vs(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Tf(r):(h=E.cachePool,h!==null?(R=pe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=wp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Af(e,y,r),n.memoizedState=Ef,jo(e.child,o)):(Tr(n),r=e.child,e=r.sibling,r=bi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function Sf(e,n){return n=zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function zu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function bf(e,n,r){return Rs(n,e.child,null,r),e=Sf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Pg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ph(e.return,n,r)}function wf(e,n,r,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function zg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=he.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,tt(he,y),Pe(e,n,o,r),o=Vt?Io:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pg(e,r,n);else if(e.tag===19)Pg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Iu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),wf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Iu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}wf(n,!0,r,null,f,o);break;case"together":wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Di(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(fa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=bi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=bi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Rf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function qT(e,n,r){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),yr(n,pe,e.memoizedState.cache),Es();break;case 27:case 5:Qn(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,$h(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?kg(e,n,r):(Tr(n),e=Di(e,n,r),e!==null?e.sibling:null);Tr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(fa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return zg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(he,he.current),o)break;return null;case 22:return n.lanes=0,Og(e,n,r,n.pendingProps);case 24:yr(n,pe,e.memoizedState.cache)}return Di(e,n,r)}function jg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ye=!0;else{if(!Rf(e,r)&&(n.flags&128)===0)return ye=!1,qT(e,n,r);ye=(e.flags&131072)!==0}else ye=!1,Vt&&(n.flags&1048576)!==0&&_p(n,Io,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=bs(n.elementType),n.type=e,typeof e=="function")Dh(e)?(o=Cs(e,o),n.tag=1,n=Ug(null,n,e,o,r)):(n.tag=0,n=vf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Nt){n.tag=11,n=Cg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Ng(null,n,e,o,r);break t}}throw n=Te(e)||e,Error(a(306,n,""))}}return n;case 0:return vf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Cs(o,n.pendingProps),Ug(e,n,o,h,r);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Fh(e,n),Uo(n,o,null,r);var y=n.memoizedState;if(o=y.cache,yr(n,pe,o),o!==f.cache&&zh(n,[pe],r,!0),Vo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lg(e,n,o,r);break t}else if(o!==h){h=Cn(Error(a(424)),n),Co(h),n=Lg(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Mn(e.firstChild),Le=n,Vt=!0,pr=null,On=!0,r=Op(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Es(),o===h){n=Di(e,n,r);break t}Pe(e,n,o,r)}n=n.child}return n;case 26:return Pu(e,n),e===null?(r=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=ec(wt.current).createElement(r),o[ae]=n,o[Ue]=e,ze(o,r,e),ce(o),n.stateNode=o):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qn(n),e===null&&Vt&&(o=n.stateNode=Yy(n.type,n.pendingProps,wt.current),Le=n,On=!0,h=te,Dr(n.type)?(sd=h,te=Mn(o.firstChild)):te=h),Pe(e,n,n.pendingProps.children,r),Pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=_A(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Le=n,te=Mn(o.firstChild),On=!1,h=!0):h=!1),h||gr(n)),Qn(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,td(h,f)?o=null:y!==null&&td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Jh(e,n,MT,null,null,r),el._currentValue=h),Pu(e,n),Pe(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=te)&&(r=vA(r,n.pendingProps,On),r!==null?(n.stateNode=r,Le=n,te=null,e=!0):e=!1),e||gr(n)),null;case 13:return kg(e,n,r);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rs(n,null,o,r):Pe(e,n,o,r),n.child;case 11:return Cg(e,n,n.type,n.pendingProps,r);case 7:return Pe(e,n,n.pendingProps,r),n.child;case 8:return Pe(e,n,n.pendingProps.children,r),n.child;case 12:return Pe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,yr(n,n.type,o.value),Pe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,As(n),h=ke(h),o=o(h),n.flags|=1,Pe(e,n,o,r),n.child;case 14:return Ng(e,n,n.type,n.pendingProps,r);case 15:return Dg(e,n,n.type,n.pendingProps,r);case 19:return zg(e,n,r);case 31:return BT(e,n,r);case 22:return Og(e,n,r,n.pendingProps);case 24:return As(n),o=ke(pe),e===null?(h=qh(),h===null&&(h=Jt,f=jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Gh(n),yr(n,pe,h)):((e.lanes&r)!==0&&(Fh(e,n),Uo(n,null,null,r),Vo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yr(n,pe,o)):(o=f.cache,yr(n,pe,o),o!==h.cache&&zh(n,[pe],r,!0))),Pe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Oi(e){e.flags|=4}function If(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(dy())e.flags|=8192;else throw ws=Su,Hh}else e.flags&=-16777217}function Bg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!n_(n))if(dy())e.flags|=8192;else throw ws=Su,Hh}function ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ao():536870912,e.lanes|=n,ba|=n)}function Bo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function HT(e,n,r){var o=n.pendingProps;switch(Vh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ii(pe),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ha(n)?Oi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Oi(n),f!==null?(ee(n),Bg(n,f)):(ee(n),If(n,h,null,o,r))):f?f!==e.memoizedState?(Oi(n),ee(n),Bg(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Oi(n),ee(n),If(n,h,e,o,r)),null;case 27:if(fi(n),r=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=st.current,ha(n)?Ep(n):(e=Yy(h,o,r),n.stateNode=e,Oi(n))}return ee(n),null;case 5:if(fi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=st.current,ha(n))Ep(n);else{var y=ec(wt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ae]=n,f[Ue]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Oi(n)}}return ee(n),If(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ha(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Le,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ae]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||ky(e.nodeValue,r)),e||gr(n,!0)}else e=ec(e).createTextNode(o),e[ae]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ae]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=Lh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ae]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Lh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ju(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&Xf(n.stateNode.containerInfo),ee(n),null;case 10:return Ii(n.type),ee(n),null;case 19:if(Q(he),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Bo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,Bo(o,!1),e=f.updateQueue,n.updateQueue=e,ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)pp(r,e),r=r.sibling;return tt(he,he.current&1|2),Vt&&wi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Me()>Fu&&(n.flags|=128,h=!0,Bo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Iu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ju(n,e),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*Me()-o.renderingStartTime>Fu&&r!==536870912&&(n.flags|=128,h=!0,Bo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Me(),e.sibling=null,r=he.current,tt(he,h?r&1|2:r&1),Vt&&wi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return _n(n),Xh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Ss),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ii(pe),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function GT(e,n){switch(Vh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ii(pe),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(he),null;case 4:return re(),null;case 10:return Ii(n.type),null;case 22:case 23:return _n(n),Xh(),e!==null&&Q(Ss),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ii(pe),null;case 25:return null;default:return null}}function qg(e,n){switch(Vh(n),n.tag){case 3:Ii(pe),re();break;case 26:case 27:case 5:fi(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Q(he);break;case 10:Ii(n.type);break;case 22:case 23:_n(n),Xh(),e!==null&&Q(Ss);break;case 24:Ii(pe)}}function qo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==h)}}catch(E){Qt(n,n.return,E)}}function Sr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(G){Qt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Qt(n,n.return,G)}}function Hg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Mp(n,r)}catch(o){Qt(e,e.return,o)}}}function Gg(e,n,r){r.props=Cs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Ho(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Qt(e,n,h)}}function ii(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Qt(e,n,h)}else r.current=null}function Fg(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Qt(e,e.return,h)}}function Cf(e,n,r){try{var o=e.stateNode;fA(o,e.type,r,n),o[Ue]=n}catch(h){Qt(e,e.return,h)}}function Qg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Nf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Re));else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Df(e,n,r),e=e.sibling;e!==null;)Df(e,n,r),e=e.sibling}function Bu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Bu(e,n,r),e=e.sibling;e!==null;)Bu(e,n,r),e=e.sibling}function Kg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ze(n,o,r),n[ae]=e,n[Ue]=r}catch(f){Qt(e,e.return,f)}}var xi=!1,_e=!1,Of=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function FT(e,n){if(e=e.containerInfo,Jf=lc,e=ap(e),Sh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var B;Y!==r||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(R=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(B=Y.firstChild)!==null;)j=Y,Y=B;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(E=y),j===f&&++G===o&&(R=y),(B=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wf={focusedElem:e,selectionRange:r},lc=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var it=Cs(r.type,h);e=o.getSnapshotBeforeUpdate(it,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Qt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)nd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}}function Xg(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Vi(e,r),o&4&&qo(5,r);break;case 1:if(Vi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(y){Qt(r,r.return,y)}else{var h=Cs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Qt(r,r.return,y)}}o&64&&Hg(r),o&512&&Ho(r,r.return);break;case 3:if(Vi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Mp(e,n)}catch(y){Qt(r,r.return,y)}}break;case 27:n===null&&o&4&&Kg(r);case 26:case 5:Vi(e,r),n===null&&o&4&&Fg(r),o&512&&Ho(r,r.return);break;case 12:Vi(e,r);break;case 31:Vi(e,r),o&4&&Jg(e,r);break;case 13:Vi(e,r),o&4&&Wg(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=tA.bind(null,r),EA(e,r))));break;case 22:if(o=r.memoizedState!==null||xi,!o){n=n!==null&&n.memoizedState!==null||_e,h=xi;var f=_e;xi=o,(_e=n)&&!f?Ui(e,r,(r.subtreeFlags&8772)!==0):Vi(e,r),xi=h,_e=f}break;case 30:break;default:Vi(e,r)}}function $g(e){var n=e.alternate;n!==null&&(e.alternate=null,$g(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&as(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,ln=!1;function Mi(e,n,r){for(r=r.child;r!==null;)Zg(e,n,r),r=r.sibling}function Zg(e,n,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Yi,r)}catch{}switch(r.tag){case 26:_e||ii(r,n),Mi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:_e||ii(r,n);var o=ie,h=ln;Dr(r.type)&&(ie=r.stateNode,ln=!1),Mi(e,n,r),Jo(r.stateNode),ie=o,ln=h;break;case 5:_e||ii(r,n);case 6:if(o=ie,h=ln,ie=null,Mi(e,n,r),ie=o,ln=h,ie!==null)if(ln)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{ie.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:ie!==null&&(ln?(e=ie,Hy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),xa(e)):Hy(ie,r.stateNode));break;case 4:o=ie,h=ln,ie=r.stateNode.containerInfo,ln=!0,Mi(e,n,r),ie=o,ln=h;break;case 0:case 11:case 14:case 15:Sr(2,r,n),_e||Sr(4,r,n),Mi(e,n,r);break;case 1:_e||(ii(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Gg(r,n,o)),Mi(e,n,r);break;case 21:Mi(e,n,r);break;case 22:_e=(o=_e)||r.memoizedState!==null,Mi(e,n,r),_e=o;break;default:Mi(e,n,r)}}function Jg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xa(e)}catch(r){Qt(n,n.return,r)}}}function Wg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(r){Qt(n,n.return,r)}}function QT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yg),n;default:throw Error(a(435,e.tag))}}function qu(e,n){var r=QT(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=eA.bind(null,e,o);o.then(h,h)}})}function un(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){ie=E.stateNode,ln=!1;break t}break;case 5:ie=E.stateNode,ln=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(ie===null)throw Error(a(160));Zg(f,y,h),ie=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ty(n,e),n=n.sibling}var Bn=null;function ty(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Sr(3,e,e.return),qo(3,e),Sr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(_e||r===null||ii(r,r.return)),o&64&&xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Bn;if(un(n,e),cn(e),o&512&&(_e||r===null||ii(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[gi]||f[ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,o,r),f[ae]=e,ce(f),o=f;break t;case"link":var y=t_("link","href",h).get(o+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),ze(f,o,r),h.head.appendChild(f);break;case"meta":if(y=t_("meta","content",h).get(o+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=h.createElement(o),ze(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ae]=e,ce(f),o=f}e.stateNode=o}else e_(h,e.type,e.stateNode);else e.stateNode=Wy(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?e_(h,e.type,e.stateNode):Wy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,r.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(_e||r===null||ii(r,r.return)),r!==null&&o&4&&Cf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(_e||r===null||ii(r,r.return)),e.flags&32){h=e.stateNode;try{Rn(h,"")}catch(it){Qt(e,e.return,it)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Cf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Of=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(it){Qt(e,e.return,it)}}break;case 3:if(rc=null,h=Bn,Bn=nc(n.containerInfo),un(n,e),Bn=h,cn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(it){Qt(e,e.return,it)}Of&&(Of=!1,ey(e));break;case 4:o=Bn,Bn=nc(e.stateNode.containerInfo),un(n,e),cn(e),Bn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Gu=Me()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=xi,G=_e;if(xi=z||h,_e=G||R,un(n,e),_e=G,xi=z,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||xi||_e||Ns(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(it){Qt(R,R.return,it)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(it){Qt(R,R.return,it)}}}else if(n.tag===18){if(r===null){R=n;try{var B=R.stateNode;h?Gy(B,!0):Gy(R.stateNode,!1)}catch(it){Qt(R,R.return,it)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,qu(e,r))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Qg(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Nf(e);Bu(e,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(Rn(y,""),r.flags&=-33);var E=Nf(e);Bu(e,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Nf(e);Df(e,z,R);break;default:throw Error(a(161))}}catch(G){Qt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Vi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(e,n.alternate,n),n=n.sibling}function Ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Sr(4,n,n.return),Ns(n);break;case 1:ii(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Gg(n,n.return,r),Ns(n);break;case 27:Jo(n.stateNode);case 26:case 5:ii(n,n.return),Ns(n);break;case 22:n.memoizedState===null&&Ns(n);break;case 30:Ns(n);break;default:Ns(n)}e=e.sibling}}function Ui(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(h,f,r),qo(4,f);break;case 1:if(Ui(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)xp(R[h],E)}catch(z){Qt(o,o.return,z)}}r&&y&64&&Hg(f),Ho(f,f.return);break;case 27:Kg(f);case 26:case 5:Ui(h,f,r),r&&o===null&&y&4&&Fg(f),Ho(f,f.return);break;case 12:Ui(h,f,r);break;case 31:Ui(h,f,r),r&&y&4&&Jg(h,f);break;case 13:Ui(h,f,r),r&&y&4&&Wg(h,f);break;case 22:f.memoizedState===null&&Ui(h,f,r),Ho(f,f.return);break;case 30:break;default:Ui(h,f,r)}n=n.sibling}}function xf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&No(r))}function Mf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e))}function qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(e,n,r,o),n=n.sibling}function ny(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:qn(e,n,r,o),h&2048&&qo(9,n);break;case 1:qn(e,n,r,o);break;case 3:qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e)));break;case 12:if(h&2048){qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else qn(e,n,r,o);break;case 31:qn(e,n,r,o);break;case 13:qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?qn(e,n,r,o):Go(e,n):f._visibility&2?qn(e,n,r,o):(f._visibility|=2,Ta(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&xf(y,n);break;case 24:qn(e,n,r,o),h&2048&&Mf(n.alternate,n);break;default:qn(e,n,r,o)}}function Ta(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=r,R=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ta(f,y,E,R,h),qo(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ta(f,y,E,R,h):Go(f,y):(G._visibility|=2,Ta(f,y,E,R,h)),h&&z&2048&&xf(y.alternate,y);break;case 24:Ta(f,y,E,R,h),h&&z&2048&&Mf(y.alternate,y);break;default:Ta(f,y,E,R,h)}n=n.sibling}}function Go(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Go(r,o),h&2048&&xf(o.alternate,o);break;case 24:Go(r,o),h&2048&&Mf(o.alternate,o);break;default:Go(r,o)}n=n.sibling}}var Fo=8192;function Aa(e,n,r){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)iy(e,n,r),e=e.sibling}function iy(e,n,r){switch(e.tag){case 26:Aa(e,n,r),e.flags&Fo&&e.memoizedState!==null&&xA(r,Bn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,n,r);break;case 3:case 4:var o=Bn;Bn=nc(e.stateNode.containerInfo),Aa(e,n,r),Bn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Fo,Fo=16777216,Aa(e,n,r),Fo=o):Aa(e,n,r));break;default:Aa(e,n,r)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ne=o,ay(o,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Hu(e)):Qo(e);break;default:Qo(e)}}function Hu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ne=o,ay(o,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Sr(8,n,n.return),Hu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Hu(n));break;default:Hu(n)}e=e.sibling}}function ay(e,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:Sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:No(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ne=o;else t:for(r=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if($g(o),o===r){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var KT={getCacheForType:function(e){var n=ke(pe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return ke(pe).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,It=null,Dt=0,Ft=0,vn=null,br=!1,Sa=!1,Vf=!1,Li=0,ue=0,wr=0,Ds=0,Uf=0,En=0,ba=0,Ko=null,hn=null,Lf=!1,Gu=0,oy=0,Fu=1/0,Qu=null,Rr=null,Se=0,Ir=null,wa=null,ki=0,kf=0,Pf=null,ly=null,Yo=0,zf=null;function Tn(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:F.T!==null?Ff():pi()}function uy(){if(En===0)if((Dt&536870912)===0||Vt){var e=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function fn(e,n,r){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),Cr(e,Dt,En,!1)),Zi(e,r),((qt&2)===0||e!==Jt)&&(e===Jt&&((qt&2)===0&&(Ds|=r),ue===4&&Cr(e,Dt,En,!1)),ri(e))}function cy(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||$i(e,n),h=o?ZT(e,n):Bf(e,n,!0),f=o;do{if(h===0){Sa&&!o&&Cr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!XT(r)){h=Bf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Ko;var R=E.current.memoizedState.isDehydrated;if(R&&(Ra(E,y).flags|=256),y=Bf(E,y,!1),y!==2){if(Vf&&!R){E.errorRecoveryDisabledLanes|=f,Ds|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ra(e,0),Cr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cr(o,n,En,!br);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gu+300-Me(),10<h)){if(Cr(o,n,En,!br),bn(o,0,!0)!==0)break t;ki=n,o.timeoutHandle=By(hy.bind(null,o,r,hn,Qu,Lf,n,En,Ds,ba,br,f,"Throttled",-0,0),h);break t}hy(o,r,hn,Qu,Lf,n,En,Ds,ba,br,f,null,-0,0)}}break}while(!0);ri(e)}function hy(e,n,r,o,h,f,y,E,R,z,G,Y,j,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Re},iy(n,f,Y);var it=(f&62914560)===f?Gu-Me():(f&4194048)===f?oy-Me():0;if(it=MA(Y,it),it!==null){ki=f,e.cancelPendingCommit=it(vy.bind(null,e,n,f,r,o,h,y,E,R,G,Y,null,j,B)),Cr(e,f,y,!z);return}}vy(e,n,f,r,o,h,y,E,R)}function XT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(e,n,r,o){n&=~Uf,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Je(h),y=1<<f;o[f]=-1,h&=~y}r!==0&&oo(e,r,n)}function Ku(){return(qt&6)===0?(Xo(0),!1):!0}function jf(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Ri=Ts=null,ef(e),ga=null,Oo=0,e=It;for(;e!==null;)qg(e.alternate,e),e=e.return;It=null}}function Ra(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,pA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ki=0,jf(),Jt=e,It=r=bi(e.current,null),Dt=n,Ft=0,vn=null,br=!1,Sa=$i(e,n),Vf=!1,ba=En=Uf=Ds=wr=ue=0,hn=Ko=null,Lf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Je(o),f=1<<h;n|=e[h],o&=~f}return Li=n,mu(),r}function fy(e,n){St=null,F.H=zo,n===pa||n===Au?(n=Cp(),Ft=3):n===Hh?(n=Cp(),Ft=4):Ft=n===_f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(ue=1,Lu(e,Cn(n,e.current)))}function dy(){var e=yn.current;return e===null?!0:(Dt&4194048)===Dt?xn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===xn:!1}function my(){var e=F.H;return F.H=zo,e===null?zo:e}function py(){var e=F.A;return F.A=KT,e}function Yu(){ue=4,br||(Dt&4194048)!==Dt&&yn.current!==null||(Sa=!0),(wr&134217727)===0&&(Ds&134217727)===0||Jt===null||Cr(Jt,Dt,En,!1)}function Bf(e,n,r){var o=qt;qt|=2;var h=my(),f=py();(Jt!==e||Dt!==n)&&(Qu=null,Ra(e,n)),n=!1;var y=ue;t:do try{if(Ft!==0&&It!==null){var E=It,R=vn;switch(Ft){case 8:jf(),y=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Ft;if(Ft=0,vn=null,Ia(e,E,R,z),r&&Sa){y=0;break t}break;default:z=Ft,Ft=0,vn=null,Ia(e,E,R,z)}}$T(),y=ue;break}catch(G){fy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ri=Ts=null,qt=o,F.H=h,F.A=f,It===null&&(Jt=null,Dt=0,mu()),y}function $T(){for(;It!==null;)gy(It)}function ZT(e,n){var r=qt;qt|=2;var o=my(),h=py();Jt!==e||Dt!==n?(Qu=null,Fu=Me()+500,Ra(e,n)):Sa=$i(e,n);t:do try{if(Ft!==0&&It!==null){n=It;var f=vn;e:switch(Ft){case 1:Ft=0,vn=null,Ia(e,n,f,1);break;case 2:case 9:if(Rp(f)){Ft=0,vn=null,yy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ri(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Rp(f)?(Ft=0,vn=null,yy(n)):(Ft=0,vn=null,Ia(e,n,f,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var E=It;if(y?n_(y):E.stateNode.complete){Ft=0,vn=null;var R=E.sibling;if(R!==null)It=R;else{var z=E.return;z!==null?(It=z,Xu(z)):It=null}break e}}Ft=0,vn=null,Ia(e,n,f,5);break;case 6:Ft=0,vn=null,Ia(e,n,f,6);break;case 8:jf(),ue=6;break t;default:throw Error(a(462))}}JT();break}catch(G){fy(e,G)}while(!0);return Ri=Ts=null,F.H=o,F.A=h,qt=r,It!==null?0:(Jt=null,Dt=0,mu(),ue)}function JT(){for(;It!==null&&!fh();)gy(It)}function gy(e){var n=jg(e.alternate,e,Li);e.memoizedProps=e.pendingProps,n===null?Xu(e):It=n}function yy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Vg(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Vg(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:ef(n);default:qg(r,n),n=It=pp(n,Li),n=jg(r,n,Li)}e.memoizedProps=e.pendingProps,n===null?Xu(e):It=n}function Ia(e,n,r,o){Ri=Ts=null,ef(n),ga=null,Oo=0;var h=n.return;try{if(jT(e,h,n,r,Dt)){ue=1,Lu(e,Cn(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ue=1,Lu(e,Cn(r,e.current)),It=null;return}n.flags&32768?(Vt||o===1?e=!0:Sa||(Dt&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),_y(n,e)):Xu(n)}function Xu(e){var n=e;do{if((n.flags&32768)!==0){_y(n,br);return}e=n.return;var r=HT(n.alternate,n,Li);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function _y(e,n){do{var r=GT(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);ue=6,It=null}function vy(e,n,r,o,h,f,y,E,R){e.cancelPendingCommit=null;do $u();while(Se!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ch,Ve(e,r,f,y,E,R),e===Jt&&(It=Jt=null,Dt=0),wa=n,Ir=e,ki=r,kf=f,Pf=h,ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nA(di,function(){return by(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,y=qt,qt|=4;try{FT(e,n,r)}finally{qt=y,nt.p=h,F.T=o}}Se=1,Ey(),Ty(),Ay()}}function Ey(){if(Se===1){Se=0;var e=Ir,n=wa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{ty(n,e);var f=Wf,y=ap(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&sp(E.ownerDocument.documentElement,E)){if(R!==null&&Sh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var B=j.getSelection(),it=E.textContent.length,pt=Math.min(R.start,it),$t=R.end===void 0?pt:Math.min(R.end,it);!B.extend&&pt>$t&&(y=$t,$t=pt,pt=y);var M=rp(E,pt),N=rp(E,$t);if(M&&N&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var P=Y.createRange();P.setStart(M.node,M.offset),B.removeAllRanges(),pt>$t?(B.addRange(P),B.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),B.addRange(P))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}lc=!!Jf,Wf=Jf=null}finally{qt=h,nt.p=o,F.T=r}}e.current=n,Se=2}}function Ty(){if(Se===2){Se=0;var e=Ir,n=wa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{Xg(e,n.alternate,n)}finally{qt=h,nt.p=o,F.T=r}}Se=3}}function Ay(){if(Se===4||Se===3){Se=0,io();var e=Ir,n=wa,r=ki,o=ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Se=5:(Se=0,wa=Ir=null,Sy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),uo(r),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Yi,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(ki&3)!==0&&$u(),ri(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===zf?Yo++:(Yo=0,zf=e):Yo=0,Xo(0)}}function Sy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,No(n)))}function $u(){return Ey(),Ty(),Ay(),by()}function by(){if(Se!==5)return!1;var e=Ir,n=kf;kf=0;var r=uo(ki),o=F.T,h=nt.p;try{nt.p=32>r?32:r,F.T=null,r=Pf,Pf=null;var f=Ir,y=ki;if(Se=0,wa=Ir=null,ki=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,sy(f.current),ny(f,f.current,y,r),qt=E,Xo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Yi,f)}catch{}return!0}finally{nt.p=h,F.T=o,Sy(e,n)}}function wy(e,n,r){n=Cn(r,n),n=yf(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(Zi(e,2),ri(e))}function Qt(e,n,r){if(e.tag===3)wy(e,e,r);else for(;n!==null;){if(n.tag===3){wy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=Cn(r,e),r=Rg(2),o=Er(n,r,2),o!==null&&(Ig(r,o,n,e),Zi(o,2),ri(o));break}}n=n.return}}function qf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new YT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Vf=!0,h.add(r),e=WT.bind(null,e,n,r),n.then(e,e))}function WT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(Dt&r)===r&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>Me()-Gu?(qt&2)===0&&Ra(e,0):Uf|=r,ba===Dt&&(ba=0)),ri(e)}function Ry(e,n){n===0&&(n=ao()),e=_s(e,n),e!==null&&(Zi(e,n),ri(e))}function tA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ry(e,r)}function eA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ry(e,r)}function nA(e,n){return is(e,n)}var Zu=null,Ca=null,Hf=!1,Ju=!1,Gf=!1,Nr=0;function ri(e){e!==Ca&&e.next===null&&(Ca===null?Zu=Ca=e:Ca=Ca.next=e),Ju=!0,Hf||(Hf=!0,rA())}function Xo(e,n){if(!Gf&&Ju){Gf=!0;do for(var r=!1,o=Zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Je(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Dy(o,f))}else f=Dt,f=bn(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$i(o,f)||(r=!0,Dy(o,f));o=o.next}while(r);Gf=!1}}function iA(){Iy()}function Iy(){Ju=Hf=!1;var e=0;Nr!==0&&mA()&&(e=Nr);for(var n=Me(),r=null,o=Zu;o!==null;){var h=o.next,f=Cy(o,n);f===0?(o.next=null,r===null?Zu=h:r.next=h,h===null&&(Ca=r)):(r=o,(e!==0||(f&3)!==0)&&(Ju=!0)),o=h}Se!==0&&Se!==5||Xo(e),Nr!==0&&(Nr=0)}function Cy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Je(f),E=1<<y,R=h[y];R===-1?((E&r)===0||(E&o)!==0)&&(h[y]=Ys(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=Dt,r=bn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ks(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||$i(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Ks(o),uo(r)){case 2:case 8:r=we;break;case 32:r=di;break;case 268435456:r=ro;break;default:r=di}return o=Ny.bind(null,e),r=is(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Ks(o),e.callbackPriority=2,e.callbackNode=null,2}function Ny(e,n){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if($u()&&e.callbackNode!==r)return null;var o=Dt;return o=bn(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(cy(e,o,n),Cy(e,Me()),e.callbackNode!=null&&e.callbackNode===r?Ny.bind(null,e):null)}function Dy(e,n){if($u())return null;cy(e,n,!0)}function rA(){gA(function(){(qt&6)!==0?is(Ae,iA):Iy()})}function Ff(){if(Nr===0){var e=da;e===0&&(e=ss,ss<<=1,(ss&261888)===0&&(ss=256)),Nr=e}return Nr}function Oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jn(""+e)}function xy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function sA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Oy((h[Ue]||null).action),y=o.submitter;y&&(n=(n=y[Ue]||null)?Oy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new hs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var R=y?xy(h,y):new FormData(h);hf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?xy(h,y):new FormData(h),hf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Qf=0;Qf<Ih.length;Qf++){var Kf=Ih[Qf],aA=Kf.toLowerCase(),oA=Kf[0].toUpperCase()+Kf.slice(1);jn(aA,"on"+oA)}jn(up,"onAnimationEnd"),jn(cp,"onAnimationIteration"),jn(hp,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(ST,"onTransitionRun"),jn(bT,"onTransitionStart"),jn(wT,"onTransitionCancel"),jn(fp,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function My(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){du(G)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){du(G)}h.currentTarget=null,f=R}}}}function Ct(e,n){var r=n[tr];r===void 0&&(r=n[tr]=new Set);var o=e+"__bubble";r.has(o)||(Vy(n,e,2,!1),r.add(o))}function Yf(e,n,r){var o=0;n&&(o|=4),Vy(r,e,o,n)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[Wu]){e[Wu]=!0,Xs.forEach(function(r){r!=="selectionchange"&&(lA.has(r)||Yf(r,!1,e),Yf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wu]||(n[Wu]=!0,Yf("selectionchange",!1,n))}}function Vy(e,n,r,o){switch(u_(n)){case 2:var h=LA;break;case 8:h=kA;break;default:h=cd}r=h.bind(null,n,r,e),h=void 0,!_o||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function $f(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=yi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Zl(function(){var z=f,G=ta(r),Y=[];t:{var j=dp.get(e);if(j!==void 0){var B=hs,it=e;switch(e){case"keypress":if(cs(r)===0)break t;case"keydown":case"keyup":B=au;break;case"focusin":it="focus",B=cr;break;case"focusout":it="blur",B=cr;break;case"beforeblur":case"afterblur":B=cr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=lu;break;case up:case cp:case hp:B=ia;break;case fp:B=ra;break;case"scroll":case"scrollend":B=Jl;break;case"wheel":B=cu;break;case"copy":case"cut":case"paste":B=nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=So;break;case"toggle":case"beforetoggle":B=fr}var pt=(n&4)!==0,$t=!pt&&(e==="scroll"||e==="scrollend"),M=pt?j!==null?j+"Capture":null:j;pt=[];for(var N=z,P;N!==null;){var K=N;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||M===null||(K=an(N,M),K!=null&&pt.push(Zo(N,K,P))),$t)break;N=N.return}0<pt.length&&(j=new B(j,it,null,r,G),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&r!==Ws&&(it=r.relatedTarget||r.fromElement)&&(yi(it)||it[Xn]))break t;if((B||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,B?(it=r.relatedTarget||r.toElement,B=z,it=it?yi(it):null,it!==null&&($t=c(it),pt=it.tag,it!==$t||pt!==5&&pt!==27&&pt!==6)&&(it=null)):(B=null,it=z),B!==it)){if(pt=Wl,K="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=So,K="onPointerLeave",M="onPointerEnter",N="pointer"),$t=B==null?j:os(B),P=it==null?j:os(it),j=new pt(K,N+"leave",B,r,G),j.target=$t,j.relatedTarget=P,K=null,yi(G)===z&&(pt=new pt(M,N+"enter",it,r,G),pt.target=P,pt.relatedTarget=$t,K=pt),$t=K,B&&it)e:{for(pt=uA,M=B,N=it,P=0,K=M;K;K=pt(K))P++;K=0;for(var ht=N;ht;ht=pt(ht))K++;for(;0<P-K;)M=pt(M),P--;for(;0<K-P;)N=pt(N),K--;for(;P--;){if(M===N||N!==null&&M===N.alternate){pt=M;break e}M=pt(M),N=pt(N)}pt=null}else pt=null;B!==null&&Uy(Y,j,B,pt,!1),it!==null&&$t!==null&&Uy(Y,$t,it,pt,!0)}}t:{if(j=z?os(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var zt=Jm;else if(on(j))if(Wm)zt=ET;else{zt=_T;var lt=yT}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&go(z.elementType)&&(zt=Jm):zt=vT;if(zt&&(zt=zt(e,z))){ps(Y,zt,r,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Js(j,"number",j.value)}switch(lt=z?os(z):window,e){case"focusin":(on(lt)||lt.contentEditable==="true")&&(sa=lt,bh=z,Ro=null);break;case"focusout":Ro=bh=sa=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,op(Y,r,G);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":op(Y,r,G)}var bt;if(m)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Rt?Gt(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(k&&r.locale!=="ko"&&(Rt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Rt&&(bt=ar()):(mn=G,ea="value"in mn?mn.value:mn.textContent,Rt=!0)),lt=tc(z,Ot),0<lt.length&&(Ot=new Eo(Ot,e,null,r,G),Y.push({event:Ot,listeners:lt}),bt?Ot.data=bt:(bt=me(r),bt!==null&&(Ot.data=bt)))),(bt=T?Ie(e,r):Ce(e,r))&&(Ot=tc(z,"onBeforeInput"),0<Ot.length&&(lt=new Eo("onBeforeInput","beforeinput",null,r,G),Y.push({event:lt,listeners:Ot}),lt.data=bt)),sA(Y,e,z,r,G)}My(Y,n)})}function Zo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function tc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=an(e,r),h!=null&&o.unshift(Zo(e,h,f)),h=an(e,n),h!=null&&o.push(Zo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function uA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uy(e,n,r,o,h){for(var f=n._reactName,y=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=an(r,f),z!=null&&y.unshift(Zo(r,z,R))):h||(z=an(r,f),z!=null&&y.push(Zo(r,z,R)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var cA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function Ly(e){return(typeof e=="string"?e:""+e).replace(cA,`
`).replace(hA,"")}function ky(e,n){return n=Ly(n),Ly(e)===n}function Xt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Rn(e,""+o);break;case"className":ir(e,"class",o);break;case"tabIndex":ir(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(e,r,o);break;case"style":Xl(e,o,f);break;case"data":if(n!=="object"){ir(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Jn(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Jn(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Re);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Jn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),nr(e,"popover",o);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":nr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_h.get(r)||r,nr(e,r,o))}}function Zf(e,n,r,o,h,f){switch(r){case"style":Xl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&Rn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Re);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!er.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):nr(e,r,o)}}}function ze(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,y,r,null)}}h&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=y=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Xt(e,n,o,G,r,null)}}ls(e,f,E,R,z,y,h,!1);return;case"select":Ct("invalid",e),o=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Xt(e,n,h,E,r,null)}n=f,r=y,e.multiple=!!o,n!=null?Pt(e,!!o,n,!1):r!=null&&Pt(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,y,E,r,null)}sr(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,R,o,r,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<$o.length;o++)Ct($o[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,z,o,r,null)}return;default:if(go(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&Zf(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function fA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,z=null,G=null;for(B in r){var Y=r[B];if(r.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(B)||Xt(e,n,B,null,o,Y)}}for(var j in o){var B=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(B!=null||Y!=null))switch(j){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Y&&Xt(e,n,j,B,o,Y)}}rr(e,y,E,R,z,G,f,h);return;case"select":B=y=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,r=y,o=B,j!=null?Pt(e,!!r,j,!1):!!o!=!!r&&(n!=null?Pt(e,!!r,n,!0):Pt(e,!!r,r?[]:"",!1));return;case"textarea":B=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=r[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,y,h,o,f)}us(e,j,B);return;case"option":for(var it in r)if(j=r[it],r.hasOwnProperty(it)&&j!=null&&!o.hasOwnProperty(it))switch(it){case"selected":e.selected=!1;break;default:Xt(e,n,it,null,o,j)}for(R in o)if(j=o[R],B=r[R],o.hasOwnProperty(R)&&j!==B&&(j!=null||B!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,n,R,j,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&Xt(e,n,pt,null,o,j);for(z in o)if(j=o[z],B=r[z],o.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Xt(e,n,z,j,o,B)}return;default:if(go(n)){for(var $t in r)j=r[$t],r.hasOwnProperty($t)&&j!==void 0&&!o.hasOwnProperty($t)&&Zf(e,n,$t,void 0,o,j);for(G in o)j=o[G],B=r[G],!o.hasOwnProperty(G)||j===B||j===void 0&&B===void 0||Zf(e,n,G,j,o,B);return}}for(var M in r)j=r[M],r.hasOwnProperty(M)&&j!=null&&!o.hasOwnProperty(M)&&Xt(e,n,M,null,o,j);for(Y in o)j=o[Y],B=r[Y],!o.hasOwnProperty(Y)||j===B||j==null&&B==null||Xt(e,n,Y,j,o,B)}function Py(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&Py(y)){for(y=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&Py(Y)&&(R=R.responseEnd,y+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jf=null,Wf=null;function ec(e){return e.nodeType===9?e:e.ownerDocument}function zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ed=null;function mA(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var By=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(e){return qy.resolve(null).then(e).catch(yA)}:By;function yA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function Hy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),xa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Jo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Jo(r);for(var f=r.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[gi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&Jo(e.ownerDocument.body);r=h}while(r);xa(n)}function Gy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function nd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nd(r),as(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function _A(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[gi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function vA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Mn(e.nextSibling),e===null))return null;return e}function Fy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function EA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var sd=null;function Qy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Mn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Ky(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Yy(e,n,r){switch(n=ec(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Jo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);as(e)}var Vn=new Map,Xy=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pi=nt.d;nt.d={f:TA,r:AA,D:SA,C:bA,L:wA,m:RA,X:CA,S:IA,M:NA};function TA(){var e=Pi.f(),n=Ku();return e||n}function AA(e){var n=_i(e);n!==null&&n.tag===5&&n.type==="form"?fg(n):Pi.r(e)}var Na=typeof document>"u"?null:document;function $y(e,n,r){var o=Na;if(o&&typeof n=="string"&&n){var h=oe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Xy.has(h)||(Xy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ze(n,"link",e),ce(n),o.head.appendChild(n)))}}function SA(e){Pi.D(e),$y("dns-prefetch",e,null)}function bA(e,n){Pi.C(e,n),$y("preconnect",e,n)}function wA(e,n,r){Pi.L(e,n,r);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+oe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+oe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+oe(r.imageSizes)+'"]')):h+='[href="'+oe(e)+'"]';var f=h;switch(n){case"style":f=Da(e);break;case"script":f=Oa(e)}Vn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Wo(f))||n==="script"&&o.querySelector(tl(f))||(n=o.createElement("link"),ze(n,"link",e),ce(n),o.head.appendChild(n)))}}function RA(e,n){Pi.m(e,n);var r=Na;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+oe(o)+'"][href="'+oe(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Vn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Vn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(tl(f)))return}o=r.createElement("link"),ze(o,"link",e),ce(o),r.head.appendChild(o)}}}function IA(e,n,r){Pi.S(e,n,r);var o=Na;if(o&&e){var h=Pn(o).hoistableStyles,f=Da(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Wo(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(f))&&ad(e,r);var R=y=o.createElement("link");ce(R),ze(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ic(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function CA(e,n){Pi.X(e,n);var r=Na;if(r&&e){var o=Pn(r).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=r.querySelector(tl(h)),f||(e=b({src:e,async:!0},n),(n=Vn.get(h))&&od(e,n),f=r.createElement("script"),ce(f),ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function NA(e,n){Pi.M(e,n);var r=Na;if(r&&e){var o=Pn(r).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=r.querySelector(tl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&od(e,n),f=r.createElement("script"),ce(f),ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Zy(e,n,r,o){var h=(h=wt.current)?nc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Da(r.href),r=Pn(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Da(r.href);var f=Pn(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Wo(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),f||DA(h,e,r,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(r),r=Pn(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Da(e){return'href="'+oe(e)+'"'}function Wo(e){return'link[rel="stylesheet"]['+e+"]"}function Jy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function DA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ze(n,"link",r),ce(n),e.head.appendChild(n))}function Oa(e){return'[src="'+oe(e)+'"]'}function tl(e){return"script[async]"+e}function Wy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+oe(r.href)+'"]');if(o)return n.instance=o,ce(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),ze(o,"style",h),ic(o,r.precedence,e),n.instance=o;case"stylesheet":h=Da(r.href);var f=e.querySelector(Wo(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;o=Jy(r),(h=Vn.get(h))&&ad(o,h),f=(e.ownerDocument||e).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",o),n.state.loading|=4,ic(f,r.precedence,e),n.instance=f;case"script":return f=Oa(r.src),(h=e.querySelector(tl(f)))?(n.instance=h,ce(h),h):(o=r,(h=Vn.get(f))&&(o=b({},r),od(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ic(o,r.precedence,e));return n.instance}function ic(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function t_(e,n,r){if(rc===null){var o=new Map,h=rc=new Map;h.set(r,o)}else h=rc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[gi]||f[ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function e_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function OA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function n_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Da(o.href),f=n.querySelector(Wo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=sc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ce(f);return}f=n.ownerDocument||n,o=Jy(o),(h=Vn.get(h))&&ad(o,h),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=sc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var ld=0;function MA(e,n){return e.stylesheets&&e.count===0&&oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ld===0&&(ld=62500*dA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ld?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function oc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,n.forEach(VA,e),ac=null,sc.call(e))}function VA(e,n){if(!(n.state.loading&4)){var r=ac.get(e);if(r)var o=r.get(null);else{r=new Map,ac.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,h),r.set(y,h),this.count++,o=sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var el={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function UA(e,n,r,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function i_(e,n,r,o,h,f,y,E,R,z,G,Y){return e=new UA(e,n,r,y,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Gh(f),e}function r_(e){return e?(e=la,e):la}function s_(e,n,r,o,h,f){h=r_(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Er(e,o,n),r!==null&&(fn(r,e,n),Mo(r,e,n))}function a_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ud(e,n){a_(e,n),(e=e.alternate)&&a_(e,n)}function o_(e){if(e.tag===13||e.tag===31){var n=_s(e,67108864);n!==null&&fn(n,e,67108864),ud(e,67108864)}}function l_(e){if(e.tag===13||e.tag===31){var n=Tn();n=lo(n);var r=_s(e,n);r!==null&&fn(r,e,n),ud(e,n)}}var lc=!0;function LA(e,n,r,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,cd(e,n,r,o)}finally{nt.p=f,F.T=h}}function kA(e,n,r,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,cd(e,n,r,o)}finally{nt.p=f,F.T=h}}function cd(e,n,r,o){if(lc){var h=hd(o);if(h===null)$f(e,n,o,uc,r),c_(e,o);else if(zA(h,e,n,r,o))o.stopPropagation();else if(c_(e,o),n&4&&-1<PA.indexOf(e)){for(;h!==null;){var f=_i(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=kn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Je(y);E.entanglements[1]|=R,y&=~R}ri(f),(qt&6)===0&&(Fu=Me()+500,Xo(0))}}break;case 31:case 13:E=_s(f,2),E!==null&&fn(E,f,2),Ku(),ud(f,2)}if(f=hd(o),f===null&&$f(e,n,o,uc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else $f(e,n,o,null,r)}}function hd(e){return e=ta(e),fd(e)}var uc=null;function fd(e){if(uc=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return uc=e,null}function u_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ql()){case Ae:return 2;case we:return 8;case di:case Hl:return 32;case ro:return 268435456;default:return 32}default:return 32}}var dd=!1,Or=null,xr=null,Mr=null,nl=new Map,il=new Map,Vr=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(n.pointerId)}}function rl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=_i(n),n!==null&&o_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function zA(e,n,r,o,h){switch(n){case"focusin":return Or=rl(Or,e,n,r,o,h),!0;case"dragenter":return xr=rl(xr,e,n,r,o,h),!0;case"mouseover":return Mr=rl(Mr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return nl.set(f,rl(nl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,il.set(f,rl(il.get(f)||null,e,n,r,o,h)),!0}return!1}function h_(e){var n=yi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Fl(e.priority,function(){l_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Fl(e.priority,function(){l_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=hd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ws=o,r.target.dispatchEvent(o),Ws=null}else return n=_i(r),n!==null&&o_(n),e.blockedOn=r,!1;n.shift()}return!0}function f_(e,n,r){cc(e)&&r.delete(n)}function jA(){dd=!1,Or!==null&&cc(Or)&&(Or=null),xr!==null&&cc(xr)&&(xr=null),Mr!==null&&cc(Mr)&&(Mr=null),nl.forEach(f_),il.forEach(f_)}function hc(e,n){e.blockedOn===n&&(e.blockedOn=null,dd||(dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jA)))}var fc=null;function d_(e){fc!==e&&(fc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(fd(o||r)===null)continue;break}var f=_i(r);f!==null&&(e.splice(n,3),n-=3,hf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function xa(e){function n(R){return hc(R,e)}Or!==null&&hc(Or,e),xr!==null&&hc(xr,e),Mr!==null&&hc(Mr,e),nl.forEach(n),il.forEach(n);for(var r=0;r<Vr.length;r++){var o=Vr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)h_(r),r.blockedOn===null&&Vr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],y=h[Ue]||null;if(typeof f=="function")y||d_(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ue]||null)E=y.formAction;else if(fd(h)!==null)continue}else E=y.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),d_(r)}}}function m_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function md(e){this._internalRoot=e}dc.prototype.render=md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Tn();s_(r,o,e,n,null,null)},dc.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;s_(e.current,2,null,e,null,null),Ku(),n[Xn]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=pi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vr.length&&n!==0&&n<Vr[r].priority;r++);Vr.splice(r,0,e),r===0&&h_(e)}};var p_=t.version;if(p_!=="19.2.0")throw Error(a(527,p_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var BA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Yi=mc.inject(BA),Ge=mc}catch{}}return al.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Ag,f=Sg,y=bg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=i_(e,1,!1,null,null,r,o,null,h,f,y,m_),e[Xn]=n.current,Xf(e),new md(n)},al.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Ag,y=Sg,E=bg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=i_(e,1,!0,n,r??null,o,h,R,f,y,E,m_),n.context=r_(null),r=n.current,o=Tn(),o=lo(o),h=vr(o),h.callback=null,Er(r,h,o),r=o,n.current.lanes=r,Zi(n,r),ri(n),e[Xn]=n.current,Xf(e),new dc(n)},al.version="19.2.0",al}var w_;function ZA(){if(w_)return yd.exports;w_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),yd.exports=$A(),yd.exports}var JA=ZA();const WA="modulepreload",tS=function(s){return"/BudgetIOS/"+s},R_={},Fv=function(t,i,a){let l=Promise.resolve();if(i&&i.length>0){let v=function(A){return Promise.all(A.map(b=>Promise.resolve(b).then(U=>({status:"fulfilled",value:U}),U=>({status:"rejected",reason:U}))))};var d=v;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=v(i.map(A=>{if(A=tS(A),A in R_)return;R_[A]=!0;const b=A.endsWith(".css"),U=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${U}`))return;const H=document.createElement("link");if(H.rel=b?"stylesheet":WA,b||(H.as="script"),H.crossOrigin="",H.href=A,g&&H.setAttribute("nonce",g),document.head.appendChild(H),b)return new Promise((Z,W)=>{H.addEventListener("load",Z),H.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${A}`)))})}))}function c(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return l.then(p=>{for(const g of p||[])g.status==="rejected"&&c(g.reason);return t().catch(c)})};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},eS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,v=g?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let U=(p&15)<<2|v>>6,H=v&63;g||(H=64,d||(U=64)),a.push(i[A],i[b],i[U],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Qv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):eS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||v==null||b==null)throw new nS;const U=c<<2|p>>4;if(a.push(U),v!==64){const H=p<<4&240|v>>2;if(a.push(H),b!==64){const Z=v<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(s){const t=Qv(s);return Kv.encodeByteArray(t,!0)},Dc=function(s){return iS(s).replace(/\./g,"")},Yv=function(s){try{return Kv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=()=>rS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof I_>"u")return;const s=I_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Yv(s[1]);return t&&JSON.parse(t)},Kc=()=>{try{return sS()||aS()||oS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Xv=s=>{var t,i;return(i=(t=Kc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},lS=s=>{const t=Xv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},$v=()=>{var s;return(s=Kc())===null||s===void 0?void 0:s.config},Zv=s=>{var t;return(t=Kc())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Dc(JSON.stringify(i)),Dc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function fS(){var s;const t=(s=Kc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gS(){const s=$e();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yS(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="FirebaseError";class Ki extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=ES,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?TS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ki(l,p,a)}}function TS(s,t){return s.replace(AS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const AS=/\{\$([^}]+)}/g;function SS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Oc(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(C_(c)&&C_(d)){if(!Oc(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function C_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ll(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function ul(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function bS(s,t){const i=new wS(s,t);return i.subscribe.bind(i)}class wS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");RS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Td),l.error===void 0&&(l.error=Td),l.complete===void 0&&(l.complete=Td);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(s){return s&&s._delegate?s._delegate:s}class Us{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new uS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t?.identifier),l=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NS(t))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Os){return this.instances.has(t)}getOptions(t=Os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Os){return this.component?this.component.multipleInstances?t:Os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CS(s){return s===Os?void 0:s}function NS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new IS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const OS={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},xS=Ut.INFO,MS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},VS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=MS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class am{constructor(t){this.name=t,this._logLevel=xS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const US=(s,t)=>t.some(i=>s instanceof i);let N_,D_;function LS(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,xd=new WeakMap,Wv=new WeakMap,Ad=new WeakMap,om=new WeakMap;function PS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Jv.set(i,s)}).catch(()=>{}),om.set(t,s),t}function zS(s){if(xd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});xd.set(s,t)}let Md={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return xd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Wv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function jS(s){Md=s(Md)}function BS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Sd(this),t,...i);return Wv.set(a,t.sort?t.sort():[t]),qr(a)}:kS().includes(s)?function(...t){return s.apply(Sd(this),t),qr(Jv.get(this))}:function(...t){return qr(s.apply(Sd(this),t))}}function qS(s){return typeof s=="function"?BS(s):(s instanceof IDBTransaction&&zS(s),US(s,LS())?new Proxy(s,Md):s)}function qr(s){if(s instanceof IDBRequest)return PS(s);if(Ad.has(s))return Ad.get(s);const t=qS(s);return t!==s&&(Ad.set(s,t),om.set(t,s)),t}const Sd=s=>om.get(s);function HS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=qr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(qr(d.result),g.oldVersion,g.newVersion,qr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const GS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],bd=new Map;function O_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(bd.get(t))return bd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=FS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||GS.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let v=g.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&g.done]))[0]};return bd.set(t,c),c}jS(s=>({...s,get:(t,i,a)=>O_(t,i)||s.get(t,i,a),has:(t,i)=>!!O_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function KS(s){const t=s.getComponent();return t?.type==="VERSION"}const Vd="@firebase/app",x_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new am("@firebase/app"),YS="@firebase/app-compat",XS="@firebase/analytics-compat",$S="@firebase/analytics",ZS="@firebase/app-check-compat",JS="@firebase/app-check",WS="@firebase/auth",tb="@firebase/auth-compat",eb="@firebase/database",nb="@firebase/data-connect",ib="@firebase/database-compat",rb="@firebase/functions",sb="@firebase/functions-compat",ab="@firebase/installations",ob="@firebase/installations-compat",lb="@firebase/messaging",ub="@firebase/messaging-compat",cb="@firebase/performance",hb="@firebase/performance-compat",fb="@firebase/remote-config",db="@firebase/remote-config-compat",mb="@firebase/storage",pb="@firebase/storage-compat",gb="@firebase/firestore",yb="@firebase/vertexai-preview",_b="@firebase/firestore-compat",vb="firebase",Eb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]",Tb={[Vd]:"fire-core",[YS]:"fire-core-compat",[$S]:"fire-analytics",[XS]:"fire-analytics-compat",[JS]:"fire-app-check",[ZS]:"fire-app-check-compat",[WS]:"fire-auth",[tb]:"fire-auth-compat",[eb]:"fire-rtdb",[nb]:"fire-data-connect",[ib]:"fire-rtdb-compat",[rb]:"fire-fn",[sb]:"fire-fn-compat",[ab]:"fire-iid",[ob]:"fire-iid-compat",[lb]:"fire-fcm",[ub]:"fire-fcm-compat",[cb]:"fire-perf",[hb]:"fire-perf-compat",[fb]:"fire-rc",[db]:"fire-rc-compat",[mb]:"fire-gcs",[pb]:"fire-gcs-compat",[gb]:"fire-fst",[_b]:"fire-fst-compat",[yb]:"fire-vertex","fire-js":"fire-js",[vb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,Ab=new Map,Ld=new Map;function M_(s,t){try{s.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ba(s){const t=s.name;if(Ld.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Ld.set(t,s);for(const i of xc.values())M_(i,s);for(const i of Ab.values())M_(i,s);return!0}function lm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function si(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Nl("app","Firebase",Sb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=Eb;function t0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Ud,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=$v()),!i)throw Hr.create("no-options");const c=xc.get(l);if(c){if(Oc(i,c.options)&&Oc(a,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new DS(l);for(const g of Ld.values())d.addComponent(g);const p=new bb(i,a,d);return xc.set(l,p),p}function e0(s=Ud){const t=xc.get(s);if(!t&&s===Ud&&$v())return t0();if(!t)throw Hr.create("no-app",{appName:s});return t}function Gr(s,t,i){var a;let l=(a=Tb[s])!==null&&a!==void 0?a:s;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${l}" with version "${t}":`];c&&p.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(p.join(" "));return}Ba(new Us(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebase-heartbeat-database",Rb=1,vl="firebase-heartbeat-store";let wd=null;function n0(){return wd||(wd=HS(wb,Rb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(vl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hr.create("idb-open",{originalErrorMessage:s.message})})),wd}async function Ib(s){try{const i=(await n0()).transaction(vl),a=await i.objectStore(vl).get(i0(s));return await i.done,a}catch(t){if(t instanceof Ki)Hi.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}async function V_(s,t){try{const a=(await n0()).transaction(vl,"readwrite");await a.objectStore(vl).put(t,i0(s)),await a.done}catch(i){if(i instanceof Ki)Hi.warn(i.message);else{const a=Hr.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(a.message)}}}function i0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=1024,Nb=720*60*60*1e3;class Db{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=U_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=Nb}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Hi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=U_(),{heartbeatsToSend:a,unsentEntries:l}=Ob(this._heartbeatsCache.heartbeats),c=Dc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Hi.warn(i),""}}}function U_(){return new Date().toISOString().substring(0,10)}function Ob(s,t=Cb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),L_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),L_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class xb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?vS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ib(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function L_(s){return Dc(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(s){Ba(new Us("platform-logger",t=>new QS(t),"PRIVATE")),Ba(new Us("heartbeat",t=>new Db(t),"PRIVATE")),Gr(Vd,x_,s),Gr(Vd,x_,"esm2017"),Gr("fire-js","")}Mb("");function um(s,t){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(i[a[l]]=s[a[l]]);return i}function r0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vb=r0,s0=new Nl("auth","Firebase",r0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new am("@firebase/auth");function Ub(s,...t){Mc.logLevel<=Ut.WARN&&Mc.warn(`Auth (${$a}): ${s}`,...t)}function Tc(s,...t){Mc.logLevel<=Ut.ERROR&&Mc.error(`Auth (${$a}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(s,...t){throw cm(s,...t)}function ai(s,...t){return cm(s,...t)}function a0(s,t,i){const a=Object.assign(Object.assign({},Vb()),{[t]:i});return new Nl("auth","Firebase",a).create(t,{appName:s.name})}function qi(s){return a0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return s0.create(s,...t)}function _t(s,t,...i){if(!s)throw cm(t,...i)}function zi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Tc(t),new Error(t)}function Gi(s,t){s||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function Lb(){return k_()==="http:"||k_()==="https:"}function k_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lb()||mS()||"connection"in navigator)?navigator.onLine:!0}function Pb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,i){this.shortDelay=t,this.longDelay=i,Gi(i>t,"Short delay should be less than long delay!"),this.isMobile=hS()||pS()}get(){return kb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(s,t){Gi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Ol(3e4,6e4);function Jr(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Wr(s,t,i,a,l={}){return l0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Dl(Object.assign({key:s.config.apiKey},d)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:t,headers:g},c);return dS()||(v.referrerPolicy="no-referrer"),o0.fetch()(u0(s,s.config.apiHost,i,p),v)})}async function l0(s,t,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},zb),t);try{const l=new qb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw pc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,v]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw pc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw pc(s,"user-disabled",d);const A=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw a0(s,A,v);Gn(s,A)}}catch(l){if(l instanceof Ki)throw l;Gn(s,"network-request-failed",{message:String(l)})}}async function xl(s,t,i,a,l={}){const c=await Wr(s,t,i,a,l);return"mfaPendingCredential"in c&&Gn(s,"multi-factor-auth-required",{_serverResponse:c}),c}function u0(s,t,i,a){const l=`${t}${i}?${a}`;return s.config.emulator?hm(s.config,l):`${s.config.apiScheme}://${l}`}function Bb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qb{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ai(this.auth,"network-request-failed")),jb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ai(s,t,a);return l.customData._tokenResponse=i,l}function P_(s){return s!==void 0&&s.enterprise!==void 0}class Hb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Bb(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Gb(s,t){return Wr(s,"GET","/v2/recaptchaConfig",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(s,t){return Wr(s,"POST","/v1/accounts:delete",t)}async function c0(s,t){return Wr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Qb(s,t=!1){const i=Ze(s),a=await i.getIdToken(t),l=fm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:ml(Rd(l.auth_time)),issuedAtTime:ml(Rd(l.iat)),expirationTime:ml(Rd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Rd(s){return Number(s)*1e3}function fm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Yv(i);return l?JSON.parse(l):(Tc("Failed to decode base64 JWT payload"),null)}catch(l){return Tc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function z_(s){const t=fm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ki&&Kb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Kb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(s){var t;const i=s.auth,a=await s.getIdToken(),l=await El(s,c0(i,{idToken:a}));_t(l?.users.length,i,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?h0(c.providerUserInfo):[],p=$b(s.providerData,d),g=s.isAnonymous,v=!(s.email&&c.passwordHash)&&!p?.length,A=g?v:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Pd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(s,b)}async function Xb(s){const t=Ze(s);await Vc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $b(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function h0(s){return s.map(t=>{var{providerId:i}=t,a=um(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(s,t){const i=await l0(s,{},async()=>{const a=Dl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=u0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",o0.fetch()(d,{method:"POST",headers:p,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Jb(s,t){return Wr(s,"POST","/v2/accounts:revokeToken",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Zb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ka;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ji{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=um(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Pd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await El(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Qb(this,t)}reload(){return Xb(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ji(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Vc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await El(this,Fb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,p,g,v,A;const b=(a=i.displayName)!==null&&a!==void 0?a:void 0,U=(l=i.email)!==null&&l!==void 0?l:void 0,H=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,W=(p=i.tenantId)!==null&&p!==void 0?p:void 0,J=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,at=(v=i.createdAt)!==null&&v!==void 0?v:void 0,gt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ut,emailVerified:Nt,isAnonymous:ct,providerData:mt,stsTokenManager:C}=i;_t(ut&&C,t,"internal-error");const S=ka.fromJSON(this.name,C);_t(typeof ut=="string",t,"internal-error"),Lr(b,t.name),Lr(U,t.name),_t(typeof Nt=="boolean",t,"internal-error"),_t(typeof ct=="boolean",t,"internal-error"),Lr(H,t.name),Lr(Z,t.name),Lr(W,t.name),Lr(J,t.name),Lr(at,t.name),Lr(gt,t.name);const w=new ji({uid:ut,auth:t,email:U,emailVerified:Nt,displayName:b,isAnonymous:ct,photoURL:Z,phoneNumber:H,tenantId:W,stsTokenManager:S,createdAt:at,lastLoginAt:gt});return mt&&Array.isArray(mt)&&(w.providerData=mt.map(O=>Object.assign({},O))),J&&(w._redirectEventId=J),w}static async _fromIdTokenResponse(t,i,a=!1){const l=new ka;l.updateFromServerResponse(i);const c=new ji({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Vc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?h0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ka;p.updateFromIdToken(a);const g=new ji({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Pd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function Bi(s){Gi(s instanceof Function,"Expected a class definition");let t=j_.get(s);return t?(Gi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,j_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}f0.type="NONE";const B_=f0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(s,t,i){return`firebase:${s}:${t}:${i}`}class Pa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Ac(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ac("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ji._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Pa(Bi(B_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Bi(B_);const d=Ac(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){const b=ji._fromJSON(t,A);v!==c&&(p=b),c=v;break}}catch{}const g=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Pa(c,t,a):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Pa(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(g0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(d0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_0(t))return"Blackberry";if(v0(t))return"Webos";if(m0(t))return"Safari";if((t.includes("chrome/")||p0(t))&&!t.includes("edge/"))return"Chrome";if(y0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function d0(s=$e()){return/firefox\//i.test(s)}function m0(s=$e()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function p0(s=$e()){return/crios\//i.test(s)}function g0(s=$e()){return/iemobile/i.test(s)}function y0(s=$e()){return/android/i.test(s)}function _0(s=$e()){return/blackberry/i.test(s)}function v0(s=$e()){return/webos/i.test(s)}function dm(s=$e()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Wb(s=$e()){var t;return dm(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function t1(){return gS()&&document.documentMode===10}function E0(s=$e()){return dm(s)||y0(s)||v0(s)||_0(s)||/windows phone/i.test(s)||g0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(s,t=[]){let i;switch(s){case"Browser":i=q_($e());break;case"Worker":i=`${q_($e())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const g=t(c);d(g)}catch(g){p(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(s,t={}){return Wr(s,"GET","/v2/passwordPolicy",Jr(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=6;class r1{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:i1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(l=g.containsLowercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new e1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Bi(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await c0(this,{idToken:t}),a=await ji._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(si(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=l?._redirectEventId,g=await this.tryRedirectSignIn(t);(!d||d===p)&&g?.user&&(l=g.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Vc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Pb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(qi(this));const i=t?Ze(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await n1(this),i=new r1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Jb(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Bi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Bi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=T0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i?.error&&Ub(`Error while retrieving App Check token: ${i.error}`),i?.token}}function Bs(s){return Ze(s)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=bS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a1(s){Yc=s}function A0(s){return Yc.loadJS(s)}function o1(){return Yc.recaptchaEnterpriseScript}function l1(){return Yc.gapiScript}function u1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}const c1="recaptcha-enterprise",h1="NO_RECAPTCHA";class f1{constructor(t){this.type=c1,this.auth=Bs(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Gb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new Hb(g);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;P_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(h1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&P_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=o1();g.length!==0&&(g+=p),A0(g).then(()=>{l(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function G_(s,t,i,a=!1){const l=new f1(s);let c;try{c=await l.verify(i)}catch{c=await l.verify(i,!0)}const d=Object.assign({},t);return a?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function zd(s,t,i,a){var l;if(!((l=s._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await G_(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await G_(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(s,t){const i=lm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Oc(c,t??{}))return l;Gn(l,"already-initialized")}return i.initialize({options:t})}function m1(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Bi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function p1(s,t,i){const a=Bs(s);_t(a._canInitEmulator,a,"emulator-config-failed"),_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=S0(t),{host:d,port:p}=g1(t),g=p===null?"":`:${p}`;a.config.emulator={url:`${c}//${d}${g}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),y1()}function S0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function g1(s){const t=S0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:F_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:F_(d)}}}function F_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function y1(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,i){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function _1(s,t){return Wr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(s,t){return xl(s,"POST","/v1/accounts:signInWithPassword",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(s,t){return xl(s,"POST","/v1/accounts:signInWithEmailLink",Jr(s,t))}async function T1(s,t){return xl(s,"POST","/v1/accounts:signInWithEmailLink",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends mm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Tl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Tl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zd(t,i,"signInWithPassword",v1);case"emailLink":return E1(t,{email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zd(t,a,"signUpPassword",_1);case"emailLink":return T1(t,{idToken:i,email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(s,t){return xl(s,"POST","/v1/accounts:signInWithIdp",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="http://localhost";class Ls extends mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Gn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=um(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Ls(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,za(t,i)}buildRequest(){const t={requestUri:A1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Dl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b1(s){const t=ll(ul(s)).link,i=t?ll(ul(t)).deep_link_id:null,a=ll(ul(s)).deep_link_id;return(a?ll(ul(a)).link:null)||a||i||t||s}class pm{constructor(t){var i,a,l,c,d,p;const g=ll(ul(t)),v=(i=g.apiKey)!==null&&i!==void 0?i:null,A=(a=g.oobCode)!==null&&a!==void 0?a:null,b=S1((l=g.mode)!==null&&l!==void 0?l:null);_t(v&&A&&b,"argument-error"),this.apiKey=v,this.operation=b,this.code=A,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=g.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(t){const i=b1(t);try{return new pm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(t,i){return Tl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=pm.parseLink(i);return _t(a,"argument-error"),Tl._fromEmailAndCode(t,a.code,a.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends b0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ml{constructor(){super("facebook.com")}static credential(t){return Ls._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ls._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ml{constructor(){super("github.com")}static credential(t){return Ls._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ml{constructor(){super("twitter.com")}static credential(t,i){return Ls._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return jr.credential(i,a)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(s,t){return xl(s,"POST","/v1/accounts:signUp",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ji._fromIdTokenResponse(t,a,l),d=Q_(a);return new ks({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Q_(a);return new ks({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Q_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Ki{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Uc(t,i,a,l)}}function w0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(s,c,t,a):c})}async function R1(s,t,i=!1){const a=await El(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ks._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(s,t,i=!1){const{auth:a}=s;if(si(a.app))return Promise.reject(qi(a));const l="reauthenticate";try{const c=await El(s,w0(a,l,t,s),i);_t(c.idToken,a,"internal-error");const d=fm(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(s.uid===p,a,"user-mismatch"),ks._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Gn(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(s,t,i=!1){if(si(s.app))return Promise.reject(qi(s));const a="signIn",l=await w0(s,a,t),c=await ks._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function C1(s,t){return R0(Bs(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0(s){const t=Bs(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function N1(s,t,i){if(si(s.app))return Promise.reject(qi(s));const a=Bs(s),d=await zd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&I0(s),g}),p=await ks._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function D1(s,t,i){return si(s.app)?Promise.reject(qi(s)):C1(Ze(s),Za.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&I0(s),a})}function O1(s,t,i,a){return Ze(s).onIdTokenChanged(t,i,a)}function x1(s,t,i){return Ze(s).beforeAuthStateChanged(t,i)}function M1(s,t,i,a){return Ze(s).onAuthStateChanged(t,i,a)}function V1(s){return Ze(s).signOut()}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1e3,L1=10;class N0 extends C0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);t1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,L1):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},U1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}N0.type="LOCAL";const k1=N0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends C0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}D0.type="SESSION";const O0=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Xc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),g=await P1(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const v=gm("",20);l.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const U=b;if(U.data.eventId===v)switch(U.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(U.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function j1(s){oi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function B1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q1(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function H1(){return x0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="firebaseLocalStorageDb",G1=1,kc="firebaseLocalStorage",V0="fbase_key";class Vl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function $c(s,t){return s.transaction([kc],t?"readwrite":"readonly").objectStore(kc)}function F1(){const s=indexedDB.deleteDatabase(M0);return new Vl(s).toPromise()}function jd(){const s=indexedDB.open(M0,G1);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(kc,{keyPath:V0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(kc)?t(a):(a.close(),await F1(),t(await jd()))})})}async function K_(s,t,i){const a=$c(s,!0).put({[V0]:t,value:i});return new Vl(a).toPromise()}async function Q1(s,t){const i=$c(s,!1).get(t),a=await new Vl(i).toPromise();return a===void 0?null:a.value}function Y_(s,t){const i=$c(s,!0).delete(t);return new Vl(i).toPromise()}const K1=800,Y1=3;class U0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Y1)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(H1()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await B1(),!this.activeServiceWorker)return;this.sender=new z1(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||q1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jd();return await K_(t,Lc,"1"),await Y_(t,Lc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>K_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Q1(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=$c(l,!1).getAll();return new Vl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U0.type="LOCAL";const X1=U0;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(s,t){return t?Bi(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends mm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Z1(s){return R0(s.auth,new ym(s),s.bypassAuthState)}function J1(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),I1(i,new ym(s),s.bypassAuthState)}async function W1(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),R1(i,new ym(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Z1;case"linkViaPopup":case"linkViaRedirect":return W1;case"reauthViaPopup":case"reauthViaRedirect":return J1;default:Gn(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Ol(2e3,1e4);class La extends L0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tw.get())};t()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="pendingRedirect",Sc=new Map;class nw extends L0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Sc.get(this.auth._key());if(!t){try{const a=await iw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Sc.set(this.auth._key(),t)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iw(s,t){const i=aw(t),a=sw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function rw(s,t){Sc.set(s._key(),t)}function sw(s){return Bi(s._redirectPersistence)}function aw(s){return Ac(ew,s.config.apiKey,s.name)}async function ow(s,t,i=!1){if(si(s.app))return Promise.reject(qi(s));const a=Bs(s),l=$1(a,t),d=await new nw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=600*1e3;class uw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!k0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(ai(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lw&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(t))}saveEventToCache(t){this.cachedEventUids.add(X_(t)),this.lastProcessedEventTime=Date.now()}}function X_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function k0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function cw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(s,t={}){return Wr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dw=/^https?/;async function mw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await hw(s);for(const i of t)try{if(pw(i))return}catch{}Gn(s,"unauthorized-domain")}function pw(s){const t=kd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!dw.test(i))return!1;if(fw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Ol(3e4,6e4);function $_(){const s=oi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function yw(s){return new Promise((t,i)=>{var a,l,c;function d(){$_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$_(),i(ai(s,"network-request-failed"))},timeout:gw.get()})}if(!((l=(a=oi().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=oi().gapi)===null||c===void 0)&&c.load)d();else{const p=u1("iframefcb");return oi()[p]=()=>{gapi.load?d():i(ai(s,"network-request-failed"))},A0(`${l1()}?onload=${p}`).catch(g=>i(g))}}).catch(t=>{throw bc=null,t})}let bc=null;function _w(s){return bc=bc||yw(s),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Ol(5e3,15e3),Ew="__/auth/iframe",Tw="emulator/auth/iframe",Aw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bw(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?hm(t,Tw):`https://${s.config.authDomain}/${Ew}`,a={apiKey:t.apiKey,appName:s.name,v:$a},l=Sw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Dl(a).slice(1)}`}async function ww(s){const t=await _w(s),i=oi().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:bw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ai(s,"network-request-failed"),p=oi().setTimeout(()=>{c(d)},vw.get());function g(){oi().clearTimeout(p),l(a)}a.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Iw=500,Cw=600,Nw="_blank",Dw="http://localhost";class Z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ow(s,t,i,a=Iw,l=Cw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g=Object.assign(Object.assign({},Rw),{width:a.toString(),height:l.toString(),top:c,left:d}),v=$e().toLowerCase();i&&(p=p0(v)?Nw:i),d0(v)&&(t=t||Dw,g.scrollbars="yes");const A=Object.entries(g).reduce((U,[H,Z])=>`${U}${H}=${Z},`,"");if(Wb(v)&&p!=="_self")return xw(t||"",p),new Z_(null);const b=window.open(t||"",p,A);_t(b,s,"popup-blocked");try{b.focus()}catch{}return new Z_(b)}function xw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__/auth/handler",Vw="emulator/auth/handler",Uw=encodeURIComponent("fac");async function J_(s,t,i,a,l,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:$a,eventId:l};if(t instanceof b0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",SS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Ml){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await s._getAppCheckToken(),v=g?`#${Uw}=${encodeURIComponent(g)}`:"";return`${Lw(s)}?${Dl(p).slice(1)}${v}`}function Lw({config:s}){return s.emulator?hm(s,Vw):`https://${s.authDomain}/${Mw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O0,this._completeRedirectFn=ow,this._overrideRedirectResult=rw}async _openPopup(t,i,a,l){var c;Gi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await J_(t,i,a,kd(),l);return Ow(t,d,gm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await J_(t,i,a,kd(),l);return j1(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Gi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await ww(t),a=new uw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Id,{type:Id},l=>{var c;const d=(c=l?.[0])===null||c===void 0?void 0:c[Id];d!==void 0&&i(!!d),Gn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return E0()||m0()||dm()}}const Pw=kw;var W_="@firebase/auth",tv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bw(s){Ba(new Us("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T0(s)},v=new s1(a,l,c,g);return m1(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ba(new Us("auth-internal",t=>{const i=Bs(t.getProvider("auth").getImmediate());return(a=>new zw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(W_,tv,jw(s)),Gr(W_,tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=300,Hw=Zv("authIdTokenMaxAge")||qw;let ev=null;const Gw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Hw)return;const l=i?.token;ev!==l&&(ev=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Fw(s=e0()){const t=lm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=d1(s,{popupRedirectResolver:Pw,persistence:[X1,k1,O0]}),a=Zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Gw(c.toString());x1(i,d,()=>d(i.currentUser)),O1(i,p=>d(p))}}const l=Xv("auth");return l&&p1(i,`http://${l}`),i}function Qw(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}a1({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=ai("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Qw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bw("Browser");var Kw="firebase",Yw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(Kw,Yw,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,P0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,S){function w(){}w.prototype=S.prototype,C.D=S.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(O,x,L){for(var I=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)I[Te-2]=arguments[Te];return S.prototype[x].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)O[x]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(x=0;16>x;++x)O[x]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=C.g[0],w=C.g[1],x=C.g[2];var L=C.g[3],I=S+(L^w&(x^L))+O[0]+3614090360&4294967295;S=w+(I<<7&4294967295|I>>>25),I=L+(x^S&(w^x))+O[1]+3905402710&4294967295,L=S+(I<<12&4294967295|I>>>20),I=x+(w^L&(S^w))+O[2]+606105819&4294967295,x=L+(I<<17&4294967295|I>>>15),I=w+(S^x&(L^S))+O[3]+3250441966&4294967295,w=x+(I<<22&4294967295|I>>>10),I=S+(L^w&(x^L))+O[4]+4118548399&4294967295,S=w+(I<<7&4294967295|I>>>25),I=L+(x^S&(w^x))+O[5]+1200080426&4294967295,L=S+(I<<12&4294967295|I>>>20),I=x+(w^L&(S^w))+O[6]+2821735955&4294967295,x=L+(I<<17&4294967295|I>>>15),I=w+(S^x&(L^S))+O[7]+4249261313&4294967295,w=x+(I<<22&4294967295|I>>>10),I=S+(L^w&(x^L))+O[8]+1770035416&4294967295,S=w+(I<<7&4294967295|I>>>25),I=L+(x^S&(w^x))+O[9]+2336552879&4294967295,L=S+(I<<12&4294967295|I>>>20),I=x+(w^L&(S^w))+O[10]+4294925233&4294967295,x=L+(I<<17&4294967295|I>>>15),I=w+(S^x&(L^S))+O[11]+2304563134&4294967295,w=x+(I<<22&4294967295|I>>>10),I=S+(L^w&(x^L))+O[12]+1804603682&4294967295,S=w+(I<<7&4294967295|I>>>25),I=L+(x^S&(w^x))+O[13]+4254626195&4294967295,L=S+(I<<12&4294967295|I>>>20),I=x+(w^L&(S^w))+O[14]+2792965006&4294967295,x=L+(I<<17&4294967295|I>>>15),I=w+(S^x&(L^S))+O[15]+1236535329&4294967295,w=x+(I<<22&4294967295|I>>>10),I=S+(x^L&(w^x))+O[1]+4129170786&4294967295,S=w+(I<<5&4294967295|I>>>27),I=L+(w^x&(S^w))+O[6]+3225465664&4294967295,L=S+(I<<9&4294967295|I>>>23),I=x+(S^w&(L^S))+O[11]+643717713&4294967295,x=L+(I<<14&4294967295|I>>>18),I=w+(L^S&(x^L))+O[0]+3921069994&4294967295,w=x+(I<<20&4294967295|I>>>12),I=S+(x^L&(w^x))+O[5]+3593408605&4294967295,S=w+(I<<5&4294967295|I>>>27),I=L+(w^x&(S^w))+O[10]+38016083&4294967295,L=S+(I<<9&4294967295|I>>>23),I=x+(S^w&(L^S))+O[15]+3634488961&4294967295,x=L+(I<<14&4294967295|I>>>18),I=w+(L^S&(x^L))+O[4]+3889429448&4294967295,w=x+(I<<20&4294967295|I>>>12),I=S+(x^L&(w^x))+O[9]+568446438&4294967295,S=w+(I<<5&4294967295|I>>>27),I=L+(w^x&(S^w))+O[14]+3275163606&4294967295,L=S+(I<<9&4294967295|I>>>23),I=x+(S^w&(L^S))+O[3]+4107603335&4294967295,x=L+(I<<14&4294967295|I>>>18),I=w+(L^S&(x^L))+O[8]+1163531501&4294967295,w=x+(I<<20&4294967295|I>>>12),I=S+(x^L&(w^x))+O[13]+2850285829&4294967295,S=w+(I<<5&4294967295|I>>>27),I=L+(w^x&(S^w))+O[2]+4243563512&4294967295,L=S+(I<<9&4294967295|I>>>23),I=x+(S^w&(L^S))+O[7]+1735328473&4294967295,x=L+(I<<14&4294967295|I>>>18),I=w+(L^S&(x^L))+O[12]+2368359562&4294967295,w=x+(I<<20&4294967295|I>>>12),I=S+(w^x^L)+O[5]+4294588738&4294967295,S=w+(I<<4&4294967295|I>>>28),I=L+(S^w^x)+O[8]+2272392833&4294967295,L=S+(I<<11&4294967295|I>>>21),I=x+(L^S^w)+O[11]+1839030562&4294967295,x=L+(I<<16&4294967295|I>>>16),I=w+(x^L^S)+O[14]+4259657740&4294967295,w=x+(I<<23&4294967295|I>>>9),I=S+(w^x^L)+O[1]+2763975236&4294967295,S=w+(I<<4&4294967295|I>>>28),I=L+(S^w^x)+O[4]+1272893353&4294967295,L=S+(I<<11&4294967295|I>>>21),I=x+(L^S^w)+O[7]+4139469664&4294967295,x=L+(I<<16&4294967295|I>>>16),I=w+(x^L^S)+O[10]+3200236656&4294967295,w=x+(I<<23&4294967295|I>>>9),I=S+(w^x^L)+O[13]+681279174&4294967295,S=w+(I<<4&4294967295|I>>>28),I=L+(S^w^x)+O[0]+3936430074&4294967295,L=S+(I<<11&4294967295|I>>>21),I=x+(L^S^w)+O[3]+3572445317&4294967295,x=L+(I<<16&4294967295|I>>>16),I=w+(x^L^S)+O[6]+76029189&4294967295,w=x+(I<<23&4294967295|I>>>9),I=S+(w^x^L)+O[9]+3654602809&4294967295,S=w+(I<<4&4294967295|I>>>28),I=L+(S^w^x)+O[12]+3873151461&4294967295,L=S+(I<<11&4294967295|I>>>21),I=x+(L^S^w)+O[15]+530742520&4294967295,x=L+(I<<16&4294967295|I>>>16),I=w+(x^L^S)+O[2]+3299628645&4294967295,w=x+(I<<23&4294967295|I>>>9),I=S+(x^(w|~L))+O[0]+4096336452&4294967295,S=w+(I<<6&4294967295|I>>>26),I=L+(w^(S|~x))+O[7]+1126891415&4294967295,L=S+(I<<10&4294967295|I>>>22),I=x+(S^(L|~w))+O[14]+2878612391&4294967295,x=L+(I<<15&4294967295|I>>>17),I=w+(L^(x|~S))+O[5]+4237533241&4294967295,w=x+(I<<21&4294967295|I>>>11),I=S+(x^(w|~L))+O[12]+1700485571&4294967295,S=w+(I<<6&4294967295|I>>>26),I=L+(w^(S|~x))+O[3]+2399980690&4294967295,L=S+(I<<10&4294967295|I>>>22),I=x+(S^(L|~w))+O[10]+4293915773&4294967295,x=L+(I<<15&4294967295|I>>>17),I=w+(L^(x|~S))+O[1]+2240044497&4294967295,w=x+(I<<21&4294967295|I>>>11),I=S+(x^(w|~L))+O[8]+1873313359&4294967295,S=w+(I<<6&4294967295|I>>>26),I=L+(w^(S|~x))+O[15]+4264355552&4294967295,L=S+(I<<10&4294967295|I>>>22),I=x+(S^(L|~w))+O[6]+2734768916&4294967295,x=L+(I<<15&4294967295|I>>>17),I=w+(L^(x|~S))+O[13]+1309151649&4294967295,w=x+(I<<21&4294967295|I>>>11),I=S+(x^(w|~L))+O[4]+4149444226&4294967295,S=w+(I<<6&4294967295|I>>>26),I=L+(w^(S|~x))+O[11]+3174756917&4294967295,L=S+(I<<10&4294967295|I>>>22),I=x+(S^(L|~w))+O[2]+718787259&4294967295,x=L+(I<<15&4294967295|I>>>17),I=w+(L^(x|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var w=S-this.blockSize,O=this.B,x=this.h,L=0;L<S;){if(x==0)for(;L<=w;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<S;)if(O[x++]=C.charCodeAt(L++),x==this.blockSize){l(this,O),x=0;break}}else for(;L<S;)if(O[x++]=C[L++],x==this.blockSize){l(this,O),x=0;break}}this.h=x,this.o+=S},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var w=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=w&255,w/=256;for(this.u(C),C=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)C[w++]=this.g[S]>>>O&255;return C};function c(C,S){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=S(C)}function d(C,S){this.h=S;for(var w=[],O=!0,x=C.length-1;0<=x;x--){var L=C[x]|0;O&&L==S||(w[x]=L,O=!1)}this.g=w}var p={};function g(C){return-128<=C&&128>C?c(C,function(S){return new d([S|0],0>S?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return b;if(0>C)return J(v(-C));for(var S=[],w=1,O=0;C>=w;O++)S[O]=C/w|0,w*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return J(A(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),O=b,x=0;x<C.length;x+=8){var L=Math.min(8,C.length-x),I=parseInt(C.substring(x,x+L),S);8>L?(L=v(Math.pow(S,L)),O=O.j(L).add(v(I))):(O=O.j(w),O=O.add(v(I)))}return O}var b=g(0),U=g(1),H=g(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();for(var C=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);C+=(0<=O?O:4294967296+O)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(W(this))return"-"+J(this).toString(C);for(var S=v(Math.pow(C,6)),w=this,O="";;){var x=Nt(w,S).g;w=at(w,x.j(S));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=x,Z(w))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},s.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function W(C){return C.h==-1}s.l=function(C){return C=at(this,C),W(C)?-1:Z(C)?0:1};function J(C){for(var S=C.g.length,w=[],O=0;O<S;O++)w[O]=~C.g[O];return new d(w,~C.h).add(U)}s.abs=function(){return W(this)?J(this):this},s.add=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],O=0,x=0;x<=S;x++){var L=O+(this.i(x)&65535)+(C.i(x)&65535),I=(L>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);O=I>>>16,L&=65535,I&=65535,w[x]=I<<16|L}return new d(w,w[w.length-1]&-2147483648?-1:0)};function at(C,S){return C.add(J(S))}s.j=function(C){if(Z(this)||Z(C))return b;if(W(this))return W(C)?J(this).j(J(C)):J(J(this).j(C));if(W(C))return J(this.j(J(C)));if(0>this.l(H)&&0>C.l(H))return v(this.m()*C.m());for(var S=this.g.length+C.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<C.g.length;x++){var L=this.i(O)>>>16,I=this.i(O)&65535,Te=C.i(x)>>>16,Oe=C.i(x)&65535;w[2*O+2*x]+=I*Oe,gt(w,2*O+2*x),w[2*O+2*x+1]+=L*Oe,gt(w,2*O+2*x+1),w[2*O+2*x+1]+=I*Te,gt(w,2*O+2*x+1),w[2*O+2*x+2]+=L*Te,gt(w,2*O+2*x+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function gt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ut(C,S){this.g=C,this.h=S}function Nt(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new ut(b,b);if(W(C))return S=Nt(J(C),S),new ut(J(S.g),J(S.h));if(W(S))return S=Nt(C,J(S)),new ut(J(S.g),S.h);if(30<C.g.length){if(W(C)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,O=S;0>=O.l(C);)w=ct(w),O=ct(O);var x=mt(w,1),L=mt(O,1);for(O=mt(O,2),w=mt(w,2);!Z(O);){var I=L.add(O);0>=I.l(C)&&(x=x.add(w),L=I),O=mt(O,1),w=mt(w,1)}return S=at(C,x.j(S)),new ut(x,S)}for(x=b;0<=C.l(S);){for(w=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=v(w),I=L.j(S);W(I)||0<I.l(C);)w-=O,L=v(w),I=L.j(S);Z(L)&&(L=U),x=x.add(L),C=at(C,I)}return new ut(x,C)}s.A=function(C){return Nt(this,C).h},s.and=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&C.i(O);return new d(w,this.h&C.h)},s.or=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|C.i(O);return new d(w,this.h|C.h)},s.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^C.i(O);return new d(w,this.h^C.h)};function ct(C){for(var S=C.g.length+1,w=[],O=0;O<S;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(w,C.h)}function mt(C,S){var w=S>>5;S%=32;for(var O=C.g.length-w,x=[],L=0;L<O;L++)x[L]=0<S?C.i(L+w)>>>S|C.i(L+w+1)<<32-S:C.i(L+w);return new d(x,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,P0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ms=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z0,cl,j0,wc,Bd,B0,q0,H0;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,k={next:function(){if(!T&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function U(u,m,_){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,U.apply(null,arguments)}function H(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,k,q){for(var et=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)et[Gt-2]=arguments[Gt];return m.prototype[k].apply(T,et)}}function W(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function J(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(g(T)){const k=u.length||0,q=T.length||0;u.length=k+q;for(let et=0;et<q;et++)u[k+et]=T[et]}else u.push(T)}}class at{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Nt(u){return Nt[" "](u),u}Nt[" "]=function(){};var ct=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function mt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function C(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function L(u){p.setTimeout(()=>{throw u},0)}function I(){var u=kt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,_){const T=Oe.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Oe=new at(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ft=!1,kt=new Te,Ht=()=>{const u=p.Promise.resolve(void 0);nt=()=>{u.then(D)}};var D=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){L(_)}var m=Oe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var st=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u})();function yt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{Nt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:wt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&yt.aa.h.call(this)}}Z(yt,tt);var wt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),xe=0;function re(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++xe,this.da=this.fa=!1}function Qn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fi(u){this.src=u,this.g={},this.h=0}fi.prototype.add=function(u,m,_,T,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Gs(u,m,T,k);return-1<et?(m=u[et],_||(m.fa=!1)):(m=new re(m,this.src,q,!!T,k),m.fa=_,u.push(m)),m};function es(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(T,k,1),q&&(Qn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Gs(u,m,_,T){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return k}return-1}var Ln="closure_lm_"+(1e6*Math.random()|0),ns={};function Fs(u,m,_,T,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Fs(u,m[q],_,T,k);return null}return _=ql(_),u&&u[Mt]?u.K(m,_,v(T)?!!T.capture:!1,k):hh(u,m,_,!1,T,k)}function hh(u,m,_,T,k,q){if(!m)throw Error("Invalid event type");var et=v(k)?!!k.capture:!!k,Gt=io(u);if(Gt||(u[Ln]=Gt=new fi(u)),_=Gt.add(m,_,T,et,q),_.proxy)return _;if(T=Bl(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)st||(k=et),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Ks(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bl(){function u(_){return m.call(u.src,u.listener,_)}const m=fh;return u}function Qs(u,m,_,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)Qs(u,m[q],_,T,k);else T=v(T)?!!T.capture:!!T,_=ql(_),u&&u[Mt]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=Gs(q,_,T,k),-1<_&&(Qn(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=io(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Gs(m,_,T,k)),(_=-1<u?m[u]:null)&&is(_))}function is(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Mt])es(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Ks(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=io(m))?(es(_,u),_.h==0&&(_.src=null,m[Ln]=null)):Qn(u)}}}function Ks(u){return u in ns?ns[u]:ns[u]="on"+u}function fh(u,m){if(u.da)u=!0;else{m=new yt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&is(u),u=_.call(T,m)}return u}function io(u){return u=u[Ln],u instanceof fi?u:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(u){return typeof u=="function"?u:(u[Me]||(u[Me]=function(m){return u.handleEvent(m)}),u[Me])}function Ae(){Q.call(this),this.i=new fi(this),this.M=this,this.F=null}Z(Ae,Q),Ae.prototype[Mt]=!0,Ae.prototype.removeEventListener=function(u,m,_,T){Qs(this,u,m,_,T)};function we(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var k=m;m=new tt(T,u),O(m,k)}if(k=!0,_)for(var q=_.length-1;0<=q;q--){var et=m.g=_[q];k=di(et,T,!0,m)&&k}if(et=m.g=u,k=di(et,T,!0,m)&&k,k=di(et,T,!1,m)&&k,_)for(q=0;q<_.length;q++)et=m.g=_[q],k=di(et,T,!1,m)&&k}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Qn(_[T]);delete u.g[m],u.h--}}this.F=null},Ae.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Ae.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function di(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==_){var Gt=et.listener,me=et.ha||et.src;et.fa&&es(u.i,et),k=Gt.call(me,T)!==!1&&k}}return k&&!T.defaultPrevented}function Hl(u,m,_){if(typeof u=="function")_&&(u=U(u,_));else if(u&&typeof u.handleEvent=="function")u=U(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function ro(u){u.g=Hl(()=>{u.g=null,u.i&&(u.i=!1,ro(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class dh extends Q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(u){Q.call(this),this.h=u,this.g={}}Z(rs,Q);var Yi=[];function Ge(u){mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&is(m)},u),u.g={}}rs.prototype.N=function(){rs.aa.N.call(this),Ge(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=p.JSON.stringify,Je=p.JSON.parse,mh=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function Gl(u){return u.h||(u.h=u.i())}function ss(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){tt.call(this,"d")}Z(Xi,tt);function kn(){tt.call(this,"c")}Z(kn,tt);var bn={},$i=null;function Ys(){return $i=$i||new Ae}bn.La="serverreachability";function ao(u){tt.call(this,bn.La,u)}Z(ao,tt);function mi(u){const m=Ys();we(m,new ao(m))}bn.STAT_EVENT="statevent";function Zi(u,m){tt.call(this,bn.STAT_EVENT,u),this.stat=m}Z(Zi,tt);function Ve(u){const m=Ys();we(m,new Zi(m,u))}bn.Ma="timingevent";function oo(u,m){tt.call(this,bn.Ma,u),this.size=m}Z(oo,tt);function Ji(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function lo(u,m,_,T,k,q){u.info(function(){if(u.g)if(q)for(var et="",Gt=q.split("&"),me=0;me<Gt.length;me++){var Rt=Gt[me].split("=");if(1<Rt.length){var Ie=Rt[0];Rt=Rt[1];var Ce=Ie.split("_");et=2<=Ce.length&&Ce[1]=="type"?et+(Ie+"="+Rt+"&"):et+(Ie+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+et})}function uo(u,m,_,T,k,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+q+" "+et})}function pi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yn(u,_)+(T?" "+T:"")})}function Fl(u,m){u.info(function(){return"TIMEOUT: "+m})}Wi.prototype.info=function(){};function Yn(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<k.length;et++)k[et]=""}}}}return Sn(_)}catch{return m}}var ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function tr(){}Z(tr,so),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},Xn=new tr;function $n(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ql}function Ql(){this.i=null,this.g="",this.h=!1}var co={},gi={};function as(u,m,_){u.L=1,u.v=us(oe(m)),u.m=_,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Pn(u),u.A=oe(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ei(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Ql,u.g=lu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new dh(U(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Yi[0]=k.toString()),k=Yi);for(var q=0;q<k.length;q++){var et=Fs(_,k[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),mi(),lo(u.i,u.u,u.A,u.l,u.R,u.m)}$n.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const Ce=en(this.g);var m=this.g.Ba();const dr=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||fs(this.g)))){this.J||Ce!=4||m==7||(m==8||0>=dr?mi(3):mi(2)),Xs(this);var _=this.g.Z();this.X=_;e:if(_i(this)){var T=fs(this.g);u="";var k=T.length,q=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),er(this);var et="";break e}this.h.i=new p.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,uo(this.i,this.u,this.A,this.l,this.R,Ce,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,me=this.g;if((Gt=me.g?me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Gt)){var Rt=Gt;break e}}Rt=null}if(_=Rt)pi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zn(this,_);else{this.o=!1,this.s=3,Ve(12),We(this),er(this);break t}}if(this.P){_=!0;let on;for(;!this.J&&this.C<et.length;)if(on=os(this,et),on==gi){Ce==4&&(this.s=4,Ve(14),_=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==co){this.s=4,Ve(15),pi(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else pi(this.i,this.l,on,null),Zn(this,on);if(_i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||et.length!=0||this.h.h||(this.s=1,Ve(16),_=!1),this.o=this.o&&_,!_)pi(this.i,this.l,et,"[Invalid Chunked Response]"),We(this),er(this);else if(0<et.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Ao(Ie),Ie.M=!0,Ve(11))}}else pi(this.i,this.l,et,null),Zn(this,et);Ce==4&&We(this),this.o&&!this.J&&(Ce==4?su(this.j,this):(this.o=!1,Pn(this)))}else Wl(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),We(this),er(this)}}}catch{}finally{}};function _i(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function os(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?gi:(_=Number(m.substring(_,T)),isNaN(_)?co:(T+=1,T+_>m.length?gi:(m=m.slice(T,T+_),u.C=T+_,m)))}$n.prototype.cancel=function(){this.J=!0,We(this)};function Pn(u){u.S=Date.now()+u.I,ce(u,u.I)}function ce(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ji(U(u.ba,u),m)}function Xs(u){u.B&&(p.clearTimeout(u.B),u.B=null)}$n.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fl(this.i,this.A),this.L!=2&&(mi(),Ve(17)),We(this),this.s=2,er(this)):ce(this,this.S-u)};function er(u){u.j.G==0||u.J||su(u.j,u)}function We(u){Xs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ge(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||nr(_.h,u))){if(!u.K&&nr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)hr(_),cr(_);else break t;To(_),Ve(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ji(U(_.Za,_),6e3));if(1>=Kl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((u.K||_.g==u)&&hr(_),!gt(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let Rt=k[m];if(_.T=Rt[0],Rt=Rt[1],_.G==2)if(Rt[0]=="c"){_.K=Rt[1],_.ia=Rt[2];const Ie=Rt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Ce=Rt[4];Ce!=null&&(_.Aa=Ce,_.j.info("SVER="+_.Aa));const dr=Rt[5];dr!=null&&typeof dr=="number"&&0<dr&&(T=1.5*dr,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const on=u.g;if(on){const ps=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var q=T.h;q.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ir(q,q.h),q.h=null))}if(T.D){const Si=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Si&&(T.ya=Si,Pt(T.I,T.D,Si))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var et=u;if(T.qa=ou(T,T.J?T.ia:null,T.W),et.K){wn(T.h,et);var Gt=et,me=T.L;me&&(Gt.I=me),Gt.B&&(Xs(Gt),Pn(Gt)),T.g=et}else iu(T);0<_.i.length&&ia(_)}else Rt[0]!="stop"&&Rt[0]!="close"||Ai(_,7);else _.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Ai(_,7):vo(_):Rt[0]!="noop"&&_.l&&_.l.ta(Rt),_.v=0)}}mi(4)}catch{}}var ph=class{constructor(u,m){this.g=u,this.map=m}};function ho(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kl(u){return u.h?1:u.g?u.g.size:0}function nr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ir(u,m){u.g?u.g.add(m):u.h=m}function wn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ho.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return W(u.i)}function Yl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function gh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function $s(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=gh(u),T=Yl(u),k=T.length,q=0;q<k;q++)m.call(void 0,T[q],_&&_[q],u)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),k=null;if(0<=T){var q=u[_].substring(0,T);k=u[_].substring(T+1)}else q=u[_];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function vi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vi){this.h=u.h,rr(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.s),this.l=u.l;var m=u.i,_=new Jn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Js(this,_),this.m=u.m}else u&&(m=String(u).match(mo))?(this.h=!1,rr(this,m[1]||"",!0),this.o=sr(m[2]||""),this.g=sr(m[3]||"",!0),ls(this,m[4]),this.l=sr(m[5]||"",!0),Js(this,m[6]||"",!0),this.m=sr(m[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}vi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Rn(m,po,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rn(m,po,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Rn(_,_.charAt(0)=="/"?go:Xl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Rn(_,vh)),u.join("")};function oe(u){return new vi(u)}function rr(u,m,_){u.j=_?sr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Js(u,m,_){m instanceof Jn?(u.i=m,$l(u.i,u.h)):(_||(m=Rn(m,_h)),u.i=new Jn(m,u.h))}function Pt(u,m,_){u.i.set(m,_)}function us(u){return Pt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function sr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,yh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,Xl=/[#\?:]/g,go=/[#\?]/g,_h=/[#\?@]/g,vh=/#/g;function Jn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Re(u){u.g||(u.g=new Map,u.h=0,u.i&&Zs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Jn.prototype,s.add=function(u,m){Re(this),this.i=null,u=dn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ws(u,m){Re(u),m=dn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ta(u,m){return Re(u),m=dn(u,m),u.g.has(m)}s.forEach=function(u,m){Re(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)},s.na=function(){Re(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const k=u[T];for(let q=0;q<k.length;q++)_.push(m[T])}return _},s.V=function(u){Re(this);let m=[];if(typeof u=="string")ta(this,u)&&(m=m.concat(this.g.get(dn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},s.set=function(u,m){return Re(this),this.i=null,u=dn(this,u),ta(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ei(u,m,_){Ws(u,m),0<_.length&&(u.i=null,u.g.set(dn(u,m),W(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var k=q;et[T]!==""&&(k+="="+encodeURIComponent(String(et[T]))),u.push(k)}}return this.i=u.join("&")};function dn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $l(u,m){m&&!u.j&&(Re(u),u.i=null,u.g.forEach(function(_,T){var k=T.toLowerCase();T!=k&&(Ws(this,T),Ei(this,k,_))},u)),u.j=m}function yo(u,m){const _=new Wi;if(p.Image){const T=new Image;T.onload=H(an,_,"TestLoadImage: loaded",!0,m,T),T.onerror=H(an,_,"TestLoadImage: error",!1,m,T),T.onabort=H(an,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(an,_,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Zl(u,m){const _=new Wi,T=new AbortController,k=setTimeout(()=>{T.abort(),an(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?an(_,"TestPingServer: ok",!0,m):an(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),an(_,"TestPingServer: error",!1,m)})}function an(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function zn(){this.g=new mh}function _o(u,m,_){const T=_||"";try{$s(u,function(k,q){let et=k;v(k)&&(et=Sn(k)),m.push(T+q+"="+encodeURIComponent(et))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function Wn(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(Wn,so),Wn.prototype.g=function(){return new mn(this.l,this.j)},Wn.prototype.i=(function(u){return function(){return u}})({});function mn(u,m){Ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(mn,Ae),s=mn.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ar(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ea(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ti(this):ar(this),this.readyState==3&&ea(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ti(this))},s.Qa=function(u){this.g&&(this.response=u,ti(this))},s.ga=function(){this.g&&ti(this)};function ti(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ar(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function cs(u){let m="";return mt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function or(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=cs(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Pt(u,m,_))}function Wt(u){Ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Wt,Ae);var Fe=/^https?$/i,Ti=["POST","PUT"];s=Wt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Gl(this.o):Gl(Xn),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){hs(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),k=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ti,m,void 0))||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of _)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{na(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){hs(this,q)}};function hs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,lr(u),ur(u)}function lr(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,we(this,"complete"),we(this,"abort"),ur(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),Wt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Jl(this):this.bb())},s.bb=function(){Jl(this)};function Jl(u){if(u.h&&typeof d<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)Hl(u.Ea,0,u);else if(we(u,"readystatechange"),en(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=et===0){var k=String(u.D).match(mo)[1]||null;!k&&p.self&&p.self.location&&(k=p.self.location.protocol.slice(0,-1)),T=!Fe.test(k?k.toLowerCase():"")}_=T}if(_)we(u,"complete"),we(u,"success");else{u.m=6;try{var q=2<en(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",lr(u)}}finally{ur(u)}}}}function ur(u,m){if(u.g){na(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||we(u,"ready");try{_.onreadystatechange=T}catch{}}}function na(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Je(m)}};function fs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wl(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(gt(u[T]))continue;var _=x(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[k]||[];m[k]=q,q.push(_)}C(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function tu(u){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,u),this.cb=ds("retryDelaySeedMs",1e4,u),this.Wa=ds("forwardChannelMaxRetries",2,u),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(u&&u.concurrentRequestLimit),this.Da=new zn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=tu.prototype,s.la=8,s.G=1,s.connect=function(u,m,_,T){Ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=ou(this,null,this.W),ia(this)};function vo(u){if(eu(u),u.G==3){var m=u.U++,_=oe(u.I);if(Pt(_,"SID",u.K),Pt(_,"RID",m),Pt(_,"TYPE","terminate"),ms(u,_),m=new $n(u,u.j,m),m.L=2,m.v=us(oe(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=lu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pn(m)}So(u)}function cr(u){u.g&&(Ao(u),u.g.cancel(),u.g=null)}function eu(u){cr(u),u.u&&(p.clearTimeout(u.u),u.u=null),hr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ia(u){if(!fo(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||Ht(),ft||(nt(),ft=!0),kt.add(m,u),u.B=0}}function Eh(u,m){return Kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ji(U(u.Ga,u,m),au(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new $n(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Eo(this,k,m),_=oe(this.I),Pt(_,"RID",u),Pt(_,"CVER",22),this.D&&Pt(_,"X-HTTP-Session-Id",this.D),ms(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(cs(q)))+"&"+m:this.m&&or(_,this.m,q)),ir(this.h,k),this.Ua&&Pt(_,"TYPE","init"),this.P?(Pt(_,"$req",m),Pt(_,"SID","null"),k.T=!0,as(k,_,null)):as(k,_,m),this.G=2}}else this.G==3&&(u?nu(this,u):this.i.length==0||fo(this.h)||nu(this))};function nu(u,m){var _;m?_=m.l:_=u.U++;const T=oe(u.I);Pt(T,"SID",u.K),Pt(T,"RID",_),Pt(T,"AID",u.T),ms(u,T),u.m&&u.o&&or(T,u.m,u.o),_=new $n(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Eo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ir(u.h,_),as(_,T,m)}function ms(u,m){u.H&&mt(u.H,function(_,T){Pt(m,T,_)}),u.l&&$s({},function(_,T){Pt(m,T,_)})}function Eo(u,m,_){_=Math.min(u.i.length,_);var T=u.l?U(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const et=["count="+_];q==-1?0<_?(q=k[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Gt=!0;for(let me=0;me<_;me++){let Rt=k[me].g;const Ie=k[me].map;if(Rt-=q,0>Rt)q=Math.max(0,k[me].g-100),Gt=!1;else try{_o(Ie,et,"req"+Rt+"_")}catch{T&&T(Ie)}}if(Gt){T=et.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function iu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||Ht(),ft||(nt(),ft=!0),kt.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ji(U(u.Fa,u),au(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ji(U(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),cr(this),ru(this))};function Ao(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function ru(u){u.g=new $n(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=oe(u.qa);Pt(m,"RID","rpc"),Pt(m,"SID",u.K),Pt(m,"AID",u.T),Pt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pt(m,"TO",u.ja),Pt(m,"TYPE","xmlhttp"),ms(u,m),u.m&&u.o&&or(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=us(oe(m)),_.m=null,_.P=!0,yi(_,u)}s.Za=function(){this.C!=null&&(this.C=null,cr(this),To(this),Ve(19))};function hr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function su(u,m){var _=null;if(u.g==m){hr(u),Ao(u),u.g=null;var T=2}else if(nr(u.h,m))_=m.D,wn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Ys(),we(T,new oo(T,_)),ia(u)}else iu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&Eh(u,m)||T==2&&To(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function au(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=U(u.fb,u),T=u.Xa;const k=!T;T=new vi(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||rr(T,"https"),us(T),k?yo(T.toString(),_):Zl(T.toString(),_)}else Ve(2);u.G=0,u.l&&u.l.sa(m),So(u),eu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function So(u){if(u.G=0,u.ka=[],u.l){const m=tn(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function ou(u,m,_){var T=_ instanceof vi?oe(_):new vi(_);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.s);else{var k=p.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new vi(null);T&&rr(q,T),m&&(q.g=m),k&&ls(q,k),_&&(q.l=_),T=q}return _=u.D,m=u.ya,_&&m&&Pt(T,_,m),Pt(T,"VER",u.la),ms(u,T),T}function lu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Wt(new Wn({eb:_})):new Wt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}s=uu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ra(){}ra.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Ae.call(this),this.g=new tu(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!gt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new fr(this)}Z(nn,Ae),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){vo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Sn(u),u=_);m.i.push(new ph(m.Ya++,u)),m.G==3&&ia(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,nn.aa.N.call(this)};function cu(u){Xi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(cu,Xi);function hu(){kn.call(this),this.status=1}Z(hu,kn);function fr(u){this.g=u}Z(fr,uu),fr.prototype.ua=function(){we(this.g,"a")},fr.prototype.ta=function(u){we(this.g,new cu(u))},fr.prototype.sa=function(u){we(this.g,new hu)},fr.prototype.ra=function(){we(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,H0=function(){return new ra},q0=function(){return Ys()},B0=bn,Bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,wc=ae,Ue.COMPLETE="complete",j0=Ue,ss.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,cl=ss,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,z0=Wt}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ye=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new am("@firebase/firestore");function ol(){return Ps.logLevel}function ot(s,...t){if(Ps.logLevel<=Ut.DEBUG){const i=t.map(_m);Ps.debug(`Firestore (${Ja}): ${s}`,...i)}}function Fi(s,...t){if(Ps.logLevel<=Ut.ERROR){const i=t.map(_m);Ps.error(`Firestore (${Ja}): ${s}`,...i)}}function qa(s,...t){if(Ps.logLevel<=Ut.WARN){const i=t.map(_m);Ps.warn(`Firestore (${Ja}): ${s}`,...i)}}function _m(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s="Unexpected state"){const t=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+s;throw Fi(t),new Error(t)}function Kt(s,t){s||vt()}function At(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Ki{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class $w{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Zw{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string"),new G0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new Ye(t)}}class Jw{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ww{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new Jw(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Kt(this.o===void 0);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string"),this.R=i.token,new tR(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let a="";for(;a.length<20;){const l=nR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%t.length))}return a}}function Bt(s,t){return s<t?-1:s>t?1:0}function Ha(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new be(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new be(0,0))}static max(){return new Tt(new be(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(),a===void 0?a=t.length-i:a>t.length-i&&vt(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Al.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Al?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=t.get(l),d=i.get(l);if(c<d)return-1;if(c>d)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class ne extends Al{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const iR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Al{construct(t,i,a){return new Be(t,i,a)}static isValidIdentifier(t){return iR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function rR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new be(i+1,0):new be(i,a));return new Xr(l,dt.empty(),t)}function sR(s){return new Xr(s.readTime,s.key,-1)}class Xr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xr(Tt.min(),dt.empty(),-1)}static max(){return new Xr(Tt.max(),dt.empty(),-1)}}function aR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Bt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==oR)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const v=g;i(t[v]).next((A=>{d[v]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function uR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ll(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}vm.oe=-1;function Zc(s){return s==null}function Pc(s){return s===0&&1/s==-1/0}function cR(s){return typeof s=="number"&&Number.isInteger(s)&&!Pc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Wa(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Q0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new se(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??je.RED,this.left=l??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new je(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,i,a,l,c){return this}insert(t,i,a){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(t){return new sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new Hn([])}unionWith(t){let i=new qe(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Hn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new K0("Invalid base64 string: "+c):c}})(t);return new He(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(s){if(Kt(!!s),typeof s=="string"){let t=0;const i=hR.exec(s);if(Kt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function zs(s){return typeof s=="string"?He.fromBase64String(s):He.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Tm(s){const t=s.mapValue.fields.__previous_value__;return Em(t)?Tm(t):t}function Sl(s){const t=$r(s.mapValue.fields.__local_write_time__.timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t,i,a,l,c,d,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v}}class bl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{}};function js(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Em(s)?4:mR(s)?9007199254740991:dR(s)?10:11:vt()}function hi(s,t){if(s===t)return!0;const i=js(s);if(i!==js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Sl(s).isEqual(Sl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$r(l.timestampValue),p=$r(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return zs(l.bytesValue).isEqual(zs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=de(l.doubleValue),p=de(c.doubleValue);return d===p?Pc(d)===Pc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ha(s.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(rv(d)!==rv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!hi(d[g],p[g])))return!1;return!0})(s,t);default:return vt()}}function wl(s,t){return(s.values||[]).find((i=>hi(i,t)))!==void 0}function Ga(s,t){if(s===t)return 0;const i=js(s),a=js(t);if(i!==a)return Bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=de(c.integerValue||c.doubleValue),g=de(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return av(s.timestampValue,t.timestampValue);case 4:return av(Sl(s),Sl(t));case 5:return Bt(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=zs(c),g=zs(d);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let v=0;v<p.length&&v<g.length;v++){const A=Bt(p[v],g[v]);if(A!==0)return A}return Bt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Bt(de(c.latitude),de(d.latitude));return p!==0?p:Bt(de(c.longitude),de(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return ov(s.arrayValue,t.arrayValue);case 10:return(function(c,d){var p,g,v,A;const b=c.fields||{},U=d.fields||{},H=(p=b.value)===null||p===void 0?void 0:p.arrayValue,Z=(g=U.value)===null||g===void 0?void 0:g.arrayValue,W=Bt(((v=H?.values)===null||v===void 0?void 0:v.length)||0,((A=Z?.values)===null||A===void 0?void 0:A.length)||0);return W!==0?W:ov(H,Z)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===_c.mapValue&&d===_c.mapValue)return 0;if(c===_c.mapValue)return 1;if(d===_c.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),v=d.fields||{},A=Object.keys(v);g.sort(),A.sort();for(let b=0;b<g.length&&b<A.length;++b){const U=Bt(g[b],A[b]);if(U!==0)return U;const H=Ga(p[g[b]],v[A[b]]);if(H!==0)return H}return Bt(g.length,A.length)})(s.mapValue,t.mapValue);default:throw vt()}}function av(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Bt(s,t);const i=$r(s),a=$r(t),l=Bt(i.seconds,a.seconds);return l!==0?l:Bt(i.nanos,a.nanos)}function ov(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ga(i[l],a[l]);if(c)return c}return Bt(i.length,a.length)}function Fa(s){return qd(s)}function qd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=$r(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return zs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=qd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${qd(i.fields[d])}`;return l+"}"})(s.mapValue):vt()}function lv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Hd(s){return!!s&&"integerValue"in s}function Am(s){return!!s&&"arrayValue"in s}function uv(s){return!!s&&"nullValue"in s}function cv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Rc(s){return!!s&&"mapValue"in s}function dR(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function pl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Wa(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=pl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pl(s.arrayValue.values[i]);return t}return Object.assign({},s)}function mR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Rc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(i)}setAll(t){let i=Be.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=pl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Rc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Wa(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Un(pl(this.value))}}function Y0(s){const t=[];return Wa(s.fields,((i,a)=>{const l=new Be([i]);if(Rc(a)){const c=Y0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Hn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,Tt.min(),Tt.min(),Tt.min(),Un.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,Tt.min(),Tt.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,Tt.min(),Tt.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i){this.position=t,this.inclusive=i}}function hv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Ga(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function fv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!hi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,i="asc"){this.field=t,this.dir=i}}function pR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{}class Ee extends X0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new yR(t,i,a):i==="array-contains"?new ER(t,a):i==="in"?new TR(t,a):i==="not-in"?new AR(t,a):i==="array-contains-any"?new SR(t,a):new Ee(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new _R(t,a):new vR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ga(i,this.value)):i!==null&&js(this.value)===js(i)&&this.matchesComparison(Ga(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends X0{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new Fn(t,i)}matches(t){return $0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $0(s){return s.op==="and"}function Z0(s){return gR(s)&&$0(s)}function gR(s){for(const t of s.filters)if(t instanceof Fn)return!1;return!0}function Gd(s){if(s instanceof Ee)return s.field.canonicalString()+s.op.toString()+Fa(s.value);if(Z0(s))return s.filters.map((t=>Gd(t))).join(",");{const t=s.filters.map((i=>Gd(i))).join(",");return`${s.op}(${t})`}}function J0(s,t){return s instanceof Ee?(function(a,l){return l instanceof Ee&&a.op===l.op&&a.field.isEqual(l.field)&&hi(a.value,l.value)})(s,t):s instanceof Fn?(function(a,l){return l instanceof Fn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&J0(d,l.filters[p])),!0):!1})(s,t):void vt()}function W0(s){return s instanceof Ee?(function(i){return`${i.field.canonicalString()} ${i.op} ${Fa(i.value)}`})(s):s instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(W0).join(" ,")+"}"})(s):"Filter"}class yR extends Ee{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class _R extends Ee{constructor(t,i){super(t,"in",i),this.keys=tE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class vR extends Ee{constructor(t,i){super(t,"not-in",i),this.keys=tE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function tE(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>dt.fromName(a.referenceValue)))}class ER extends Ee{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&wl(i.arrayValue,this.value)}}class TR extends Ee{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wl(this.value.arrayValue,i)}}class AR extends Ee{constructor(t,i){super(t,"not-in",i)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!wl(this.value.arrayValue,i)}}class SR extends Ee{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>wl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.ue=null}}function dv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new bR(s,t,i,a,l,c,d)}function Sm(s){const t=At(s);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Gd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Zc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Fa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Fa(a))).join(",")),t.ue=i}return t.ue}function bm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!pR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!J0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!fv(s.startAt,t.startAt)&&fv(s.endAt,t.endAt)}function Fd(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wR(s,t,i,a,l,c,d,p){return new to(s,t,i,a,l,c,d,p)}function wm(s){return new to(s)}function mv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function eE(s){return s.collectionGroup!==null}function gl(s){const t=At(s);if(t.ce===null){t.ce=[];const i=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qe(Be.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Rl(c,a))})),i.has(Be.keyField().canonicalString())||t.ce.push(new Rl(Be.keyField(),a))}return t.ce}function li(s){const t=At(s);return t.le||(t.le=RR(t,gl(s))),t.le}function RR(s,t){if(s.limitType==="F")return dv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Rl(l.field,c)}));const i=s.endAt?new zc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new zc(s.startAt.position,s.startAt.inclusive):null;return dv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Qd(s,t){const i=s.filters.concat([t]);return new to(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Kd(s,t,i){return new to(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Jc(s,t){return bm(li(s),li(t))&&s.limitType===t.limitType}function nE(s){return`${Sm(li(s))}|lt:${s.limitType}`}function Ma(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>W0(l))).join(", ")}]`),Zc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Fa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Fa(l))).join(",")),`Target(${a})`})(li(s))}; limitType=${s.limitType})`}function Wc(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of gl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,g){const v=hv(d,p,g);return d.inclusive?v<=0:v<0})(a.startAt,gl(a),l)||a.endAt&&!(function(d,p,g){const v=hv(d,p,g);return d.inclusive?v>=0:v>0})(a.endAt,gl(a),l))})(s,t)}function IR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function iE(s){return(t,i)=>{let a=!1;for(const l of gl(s)){const c=CR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function CR(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const g=d.data.field(c),v=p.data.field(c);return g!==null&&v!==null?Ga(g,v):vt()})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wa(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new se(dt.comparator);function Qi(){return NR}const rE=new se(dt.comparator);function hl(...s){let t=rE;for(const i of s)t=t.insert(i.key,i);return t}function sE(s){let t=rE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function xs(){return yl()}function aE(){return yl()}function yl(){return new eo((s=>s.toString()),((s,t)=>s.isEqual(t)))}const DR=new se(dt.comparator),OR=new qe(dt.comparator);function xt(...s){let t=OR;for(const i of s)t=t.add(i);return t}const xR=new qe(Bt);function MR(){return xR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function oE(s){return{integerValue:""+s}}function VR(s,t){return cR(t)?oE(t):Rm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function UR(s,t,i){return s instanceof jc?(function(l,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Em(c)&&(c=Tm(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}})(i,t):s instanceof Il?uE(s,t):s instanceof Cl?cE(s,t):(function(l,c){const d=lE(l,c),p=pv(d)+pv(l.Pe);return Hd(d)&&Hd(l.Pe)?oE(p):Rm(l.serializer,p)})(s,t)}function LR(s,t,i){return s instanceof Il?uE(s,t):s instanceof Cl?cE(s,t):i}function lE(s,t){return s instanceof Bc?(function(a){return Hd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class jc extends th{}class Il extends th{constructor(t){super(),this.elements=t}}function uE(s,t){const i=hE(t);for(const a of s.elements)i.some((l=>hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Cl extends th{constructor(t){super(),this.elements=t}}function cE(s,t){let i=hE(t);for(const a of s.elements)i=i.filter((l=>!hi(l,a)));return{arrayValue:{values:i}}}class Bc extends th{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function pv(s){return de(s.integerValue||s.doubleValue)}function hE(s){return Am(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function kR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Il&&l instanceof Il||a instanceof Cl&&l instanceof Cl?Ha(a.elements,l.elements,hi):a instanceof Bc&&l instanceof Bc?hi(a.Pe,l.Pe):a instanceof jc&&l instanceof jc})(s.transform,t.transform)}class PR{constructor(t,i){this.version=t,this.transformResults=i}}class ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class eh{}function fE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Im(s.key,ui.none()):new kl(s.key,s.data,ui.none());{const i=s.data,a=Un.empty();let l=new qe(Be.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new qs(s.key,a,new Hn(l.toArray()),ui.none())}}function zR(s,t,i){s instanceof kl?(function(l,c,d){const p=l.value.clone(),g=yv(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof qs?(function(l,c,d){if(!Ic(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=yv(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(dE(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function _l(s,t,i,a){return s instanceof kl?(function(c,d,p,g){if(!Ic(c.precondition,d))return p;const v=c.value.clone(),A=_v(c.fieldTransforms,g,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,t,i,a):s instanceof qs?(function(c,d,p,g){if(!Ic(c.precondition,d))return p;const v=_v(c.fieldTransforms,g,d),A=d.data;return A.setAll(dE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return Ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function jR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=lE(a.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function gv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ha(a,l,((c,d)=>kR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class kl extends eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qs extends eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function yv(s,t,i){const a=new Map;Kt(s.length===i.length);for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,LR(d,p,i[l]))}return a}function _v(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,UR(c,d,t))}return a}class Im extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BR extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&zR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=_l(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=_l(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=aE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=fE(d,p);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,((i,a)=>gv(i,a)))&&Ha(this.baseMutations,t.baseMutations,((i,a)=>gv(i,a)))}}class Cm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Kt(t.mutations.length===a.length);let l=(function(){return DR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Cm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function FR(s){switch(s){default:return vt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function mE(s){if(s===void 0)return Fi("GRPC error has no .code"),X.UNKNOWN;switch(s){case ve.OK:return X.OK;case ve.CANCELLED:return X.CANCELLED;case ve.UNKNOWN:return X.UNKNOWN;case ve.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ve.INTERNAL:return X.INTERNAL;case ve.UNAVAILABLE:return X.UNAVAILABLE;case ve.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ve.NOT_FOUND:return X.NOT_FOUND;case ve.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ve.ABORTED:return X.ABORTED;case ve.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ve.DATA_LOSS:return X.DATA_LOSS;default:return vt()}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Ms([4294967295,4294967295],0);function vv(s){const t=QR().encode(s),i=new P0;return i.update(t),new Uint8Array(i.digest())}function Ev(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ms([i,a],0),new Ms([l,c],0)]}class Nm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new fl(`Invalid padding: ${i}`);if(a<0)throw new fl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new fl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Ms.fromNumber(this.Ie)}Ee(t,i,a){let l=t.add(i.multiply(Ms.fromNumber(a)));return l.compare(KR)===1&&(l=new Ms([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=vv(t),[a,l]=Ev(i);for(let c=0;c<this.hashCount;c++){const d=this.Ee(a,l,c);if(!this.de(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Nm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.Ie===0)return;const i=vv(t),[a,l]=Ev(i);for(let c=0;c<this.hashCount;c++){const d=this.Ee(a,l,c);this.Ae(d)}}Ae(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Pl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new nh(Tt.min(),l,new se(Bt),Qi(),xt())}}class Pl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Pl(a,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,i,a,l){this.Re=t,this.removedTargetIds=i,this.key=a,this.Ve=l}}class pE{constructor(t,i){this.targetId=t,this.me=i}}class gE{constructor(t,i,a=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Tv{constructor(){this.fe=0,this.ge=Sv(),this.pe=He.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=xt(),i=xt(),a=xt();return this.ge.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt()}})),new Pl(this.pe,this.ye,t,i,a)}Ce(){this.we=!1,this.ge=Sv()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YR{constructor(t){this.Le=t,this.Be=new Map,this.ke=Qi(),this.qe=Av(),this.Qe=new se(Bt)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const a=this.Ge(i);switch(t.state){case 0:this.ze(i)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(t.resumeToken));break;default:vt()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(t){const i=t.targetId,a=t.me.count,l=this.Je(i);if(l){const c=l.target;if(Fd(c))if(a===0){const d=new dt(c.path);this.Ue(i,d,Xe.newNoDocument(d,Tt.min()))}else Kt(a===1);else{const d=this.Ye(i);if(d!==a){const p=this.Ze(t),g=p?this.Xe(p,t,d):1;if(g!==0){this.je(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=zs(a).toUint8Array()}catch(g){if(g instanceof K0)return qa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Nm(d,l,c)}catch(g){return qa(g instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Ie===0?null:p}Xe(t,i,a){return i.me.count===a-this.nt(t,i.targetId)?0:2}nt(t,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Le.tt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.Ue(i,c,null),l++)})),l}rt(t){const i=new Map;this.Be.forEach(((c,d)=>{const p=this.Je(d);if(p){if(c.current&&Fd(p.target)){const g=new dt(p.target.path);this.ke.get(g)!==null||this.it(d,g)||this.Ue(d,g,Xe.newNoDocument(g,t))}c.be&&(i.set(d,c.ve()),c.Ce())}}));let a=xt();this.qe.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const v=this.Je(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.ke.forEach(((c,d)=>d.setReadTime(t)));const l=new nh(t,i,this.Qe,this.ke,a);return this.ke=Qi(),this.qe=Av(),this.Qe=new se(Bt),l}$e(t,i){if(!this.ze(t))return;const a=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,a){if(!this.ze(t))return;const l=this.Ge(t);this.it(t,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Tv,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new qe(Bt),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Tv),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Av(){return new se(dt.comparator)}function Sv(){return new se(dt.comparator)}const XR={asc:"ASCENDING",desc:"DESCENDING"},$R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZR={and:"AND",or:"OR"};class JR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Yd(s,t){return s.useProto3Json||Zc(t)?t:{value:t}}function qc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function WR(s,t){return qc(s,t.toTimestamp())}function ci(s){return Kt(!!s),Tt.fromTimestamp((function(i){const a=$r(i);return new be(a.seconds,a.nanos)})(s))}function Dm(s,t){return Xd(s,t).canonicalString()}function Xd(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function _E(s){const t=ne.fromString(s);return Kt(SE(t)),t}function $d(s,t){return Dm(s.databaseId,t.path)}function Cd(s,t){const i=_E(t);if(i.get(1)!==s.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(EE(i))}function vE(s,t){return Dm(s.databaseId,t)}function t2(s){const t=_E(s);return t.length===4?ne.emptyPath():EE(t)}function Zd(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function EE(s){return Kt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function bv(s,t,i){return{name:$d(s,t),fields:i.value.mapValue.fields}}function e2(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:vt()})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Kt(A===void 0||typeof A=="string"),He.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),He.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?X.UNKNOWN:mE(v.code);return new rt(A,v.message||"")})(d);i=new gE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Cd(s,a.document.name),c=ci(a.document.updateTime),d=a.document.createTime?ci(a.document.createTime):Tt.min(),p=new Un({mapValue:{fields:a.document.fields}}),g=Xe.newFoundDocument(l,c,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Cc(v,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Cd(s,a.document),c=a.readTime?ci(a.readTime):Tt.min(),d=Xe.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Cc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Cd(s,a.document),c=a.removedTargetIds||[];i=new Cc([],c,l,null)}else{if(!("filter"in t))return vt();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new GR(l,c),p=a.targetId;i=new pE(p,d)}}return i}function n2(s,t){let i;if(t instanceof kl)i={update:bv(s,t.key,t.value)};else if(t instanceof Im)i={delete:$d(s,t.key)};else if(t instanceof qs)i={update:bv(s,t.key,t.data),updateMask:h2(t.fieldMask)};else{if(!(t instanceof BR))return vt();i={verify:$d(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Bc)return{fieldPath:d.field.canonicalString(),increment:p.Pe};throw vt()})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:WR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt()})(s,t.precondition)),i}function i2(s,t){return s&&s.length>0?(Kt(t!==void 0),s.map((i=>(function(l,c){let d=l.updateTime?ci(l.updateTime):ci(c);return d.isEqual(Tt.min())&&(d=ci(c)),new PR(d,l.transformResults||[])})(i,t)))):[]}function r2(s,t){return{documents:[vE(s,t.path)]}}function s2(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=vE(s,l);const c=(function(v){if(v.length!==0)return AE(Fn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(U){return{field:Va(U.field),direction:l2(U.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Yd(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:l}}function a2(s){let t=t2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Kt(a===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const U=TE(b);return U instanceof Fn&&Z0(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((U=>(function(Z){return new Rl(Ua(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let U;return U=typeof b=="object"?b.value:b,Zc(U)?null:U})(i.limit));let g=null;i.startAt&&(g=(function(b){const U=!!b.before,H=b.values||[];return new zc(H,U)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const U=!b.before,H=b.values||[];return new zc(H,U)})(i.endAt)),wR(t,l,d,c,p,"F",g,v)}function o2(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function TE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Ee.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Ee.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return Ee.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});default:return vt()}})(s):s.fieldFilter!==void 0?(function(i){return Ee.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((a=>TE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt()}})(i.compositeFilter.op))})(s):vt()}function l2(s){return XR[s]}function u2(s){return $R[s]}function c2(s){return ZR[s]}function Va(s){return{fieldPath:s.canonicalString()}}function Ua(s){return Be.fromServerFormat(s.fieldPath)}function AE(s){return s instanceof Ee?(function(i){if(i.op==="=="){if(cv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NAN"}};if(uv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(cv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NAN"}};if(uv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(i.field),op:u2(i.op),value:i.value}}})(s):s instanceof Fn?(function(i){const a=i.getFilters().map((l=>AE(l)));return a.length===1?a[0]:{compositeFilter:{op:c2(i.op),filters:a}}})(s):vt()}function h2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function SE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t){this.ct=t}}function d2(s){const t=a2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.un=new p2}addToCollectionParentIndex(t,i){return this.un.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Xr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class p2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new qe(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new qe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qa(0)}static kn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.changes=new eo((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&_l(a.mutation,l,Hn.empty(),be.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,xt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=xt()){const l=xs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=hl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=xs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,xt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Qi();const d=yl(),p=(function(){return yl()})();return i.forEach(((g,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof qs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),_l(A.mutation,v,A.mutation.getFieldMask(),be.now())):d.set(v.key,Hn.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var b;return p.set(v,new y2(A,(b=d.get(v))!==null&&b!==void 0?b:null))})),p)))}recalculateAndSaveOverlays(t,i){const a=yl();let l=new se(((d,p)=>d-p)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let A=a.get(g)||Hn.empty();A=p.applyToLocalView(v,A),a.set(g,A);const b=(l.get(p.batchId)||xt()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,A=g.value,b=aE();A.forEach((U=>{if(!c.has(U)){const H=fE(i.get(U),a.get(U));H!==null&&b.set(U,H),c=c.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(xs());let p=-1,g=c;return d.next((v=>$.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((U=>{g=g.insert(A,U)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,g,v,xt()))).next((A=>({batchId:p,changes:sE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=hl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(g=>{const v=(function(b,U){return new to(U,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((b,U)=>{d=d.insert(b,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((g,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=hl();return d.forEach(((g,v)=>{const A=c.get(g);A!==void 0&&_l(A.mutation,v,Hn.empty(),be.now()),Wc(i,v)&&(p=p.insert(g,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return $.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ci(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:d2(l.bundledQuery),readTime:ci(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.overlays=new se(dt.comparator),this.Ir=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=xs();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.ht(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=xs(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new se(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=xs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=xs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return $.resolve(p)}ht(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new HR(i,a));let c=this.Ir.get(i);c===void 0&&(c=xt(),this.Ir.set(i,c)),this.Ir.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Tr=new qe(De.Er),this.dr=new qe(De.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const a=new De(t,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Vr(new De(t,i))}mr(t,i){t.forEach((a=>this.removeReference(a,i)))}gr(t){const i=new dt(new ne([])),a=new De(i,t),l=new De(i,t+1),c=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),c.push(d.key)})),c}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new dt(new ne([])),a=new De(i,t),l=new De(i,t+1);let c=xt();return this.dr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new De(t,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class De{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return dt.comparator(t.key,i.key)||Bt(t.wr,i.wr)}static Ar(t,i){return Bt(t.wr,i.wr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new qe(De.Er)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.br=this.br.add(new De(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.vr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new De(i,0),l=new De(i,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([a,l],(d=>{const p=this.Dr(d.wr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new qe(Bt);return i.forEach((l=>{const c=new De(l,0),d=new De(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,d],(p=>{a=a.add(p.wr)}))})),$.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new De(new dt(c),0);let p=new qe(Bt);return this.br.forEachWhile((g=>{const v=g.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(p=p.add(g.wr)),!0)}),d),$.resolve(this.Cr(p))}Cr(t){const i=[];return t.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return $.forEach(i.mutations,(l=>{const c=new De(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.br=a}))}On(t){}containsKey(t,i){const a=new De(i,0),l=this.br.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t){this.Mr=t,this.docs=(function(){return new se(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=Qi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Qi();const d=i.path,p=new dt(d.child("")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:A}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||aR(sR(A),a)<=0||(l.has(A.key)||Wc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt()}Or(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new b2(this)}getSize(t){return $.resolve(this.size)}}class b2 extends g2{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(t,l)):this.cr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.persistence=t,this.Nr=new eo((i=>Sm(i)),bm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Om,this.targetCount=0,this.kr=Qa.Bn()}forEachTarget(t,i){return this.Nr.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),$.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Qa(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Kn(i),$.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.Nr.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.Nr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.Nr.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.Br.Rr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Br.yr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,i){this.qr={},this.overlays={},this.Qr=new vm(0),this.Kr=!1,this.Kr=!0,this.$r=new T2,this.referenceDelegate=t(this),this.Ur=new w2(this),this.indexManager=new m2,this.remoteDocumentCache=(function(l){return new S2(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new f2(i),this.Gr=new v2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new E2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.qr[t.toKey()];return a||(a=new A2(i,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new I2(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((c=>this.referenceDelegate.jr(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Hr(t,i){return $.or(Object.values(this.qr).map((a=>()=>a.containsKey(t,i))))}}class I2 extends lR{constructor(t){super(),this.currentSequenceNumber=t}}class xm{constructor(t){this.persistence=t,this.Jr=new Om,this.Yr=null}static Zr(t){return new xm(t)}get Xr(){if(this.Yr)return this.Yr;throw vt()}addReference(t,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),$.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.Xr.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,(a=>{const l=dt.fromPath(a);return this.ei(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return $.or([()=>$.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(t,i){let a=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Mm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return yS()?8:uR($e())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.Yi(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.Zi(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new C2;return this.Xi(t,i,d).next((p=>{if(c.result=p,this.zi)return this.es(t,i,d,p.size)}))})).next((()=>c.result))}es(t,i,a,l){return a.documentReadCount<this.ji?(ol()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(ol()<=Ut.DEBUG&&ot("QueryEngine","Query:",Ma(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(ol()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(i))):$.resolve())}Yi(t,i){if(mv(i))return $.resolve(null);let a=li(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Kd(i,null,"F"),a=li(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=xt(...c);return this.Ji.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((g=>{const v=this.ts(i,p);return this.ns(i,v,d,g.readTime)?this.Yi(t,Kd(i,null,"F")):this.rs(t,v,i,g)}))))})))))}Zi(t,i,a,l){return mv(i)||l.isEqual(Tt.min())?$.resolve(null):this.Ji.getDocuments(t,a).next((c=>{const d=this.ts(i,c);return this.ns(i,d,a,l)?$.resolve(null):(ol()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(i)),this.rs(t,d,i,rR(l,-1)).next((p=>p)))}))}ts(t,i){let a=new qe(iE(t));return i.forEach(((l,c)=>{Wc(t,c)&&(a=a.add(c))})),a}ns(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(t,i,a){return ol()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.Ji.getDocumentsMatchingQuery(t,i,Xr.min(),a)}rs(t,i,a,l){return this.Ji.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,i,a,l){this.persistence=t,this.ss=i,this.serializer=l,this.os=new se(Bt),this._s=new eo((c=>Sm(c)),bm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function O2(s,t,i,a){return new D2(s,t,i,a)}async function bE(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.ls(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let g=xt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)g=g.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(a,g).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function x2(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.cs.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,A){const b=v.batch,U=b.keys();let H=$.resolve();return U.forEach((Z=>{H=H.next((()=>A.getEntry(g,Z))).next((W=>{const J=v.docVersions.get(Z);Kt(J!==null),W.version.compareTo(J)<0&&(b.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),A.addEntry(W)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=xt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function wE(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function M2(s,t){const i=At(s),a=t.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const p=[];t.targetChanges.forEach(((A,b)=>{const U=l.get(b);if(!U)return;p.push(i.Ur.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Ur.addMatchingKeys(c,A.addedDocuments,b))));let H=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(b,H),(function(W,J,at){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(U,H,A)&&p.push(i.Ur.updateTargetData(c,H))}));let g=Qi(),v=xt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(V2(c,d,t.documentUpdates).next((A=>{g=A.Ps,v=A.Is}))),!a.isEqual(Tt.min())){const A=i.Ur.getLastRemoteSnapshotVersion(c).next((b=>i.Ur.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,v))).next((()=>g))})).then((c=>(i.os=l,c)))}function V2(s,t,i){let a=xt(),l=xt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Qi();return i.forEach(((p,g)=>{const v=c.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):ot("LocalStore","Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{Ps:d,Is:l}}))}function U2(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function L2(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new Br(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(t,a.targetId)),a}))}async function Jd(s,t,i){const a=At(s),l=a.os.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ll(d))throw d;ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}a.os=a.os.remove(t),a._s.delete(l.target)}function wv(s,t,i){const a=At(s);let l=Tt.min(),c=xt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,v,A){const b=At(g),U=b._s.get(A);return U!==void 0?$.resolve(b.os.get(U)):b.Ur.getTargetData(v,A)})(a,d,li(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:xt()))).next((p=>(k2(a,IR(t),p),{documents:p,Ts:c})))))}function k2(s,t,i){let a=s.us.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.us.set(t,a)}class Rv{constructor(){this.activeTargetIds=MR()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class P2{constructor(){this.so=new Rv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,a){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Rv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function Nd(){return vc===null?vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class q2 extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(i,a,l,c,d){const p=Nd(),g=this.xo(i,a.toUriEncodedString());ot("RestConnection",`Sending RPC '${i}' ${p}:`,g,l);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,c,d),this.No(i,g,v,l).then((A=>(ot("RestConnection",`Received RPC '${i}' ${p}: `,A),A)),(A=>{throw qa("RestConnection",`RPC '${i}' ${p} failed with error: `,A,"url: ",g,"request:",l),A}))}Lo(i,a,l,c,d,p){return this.Mo(i,a,l,c,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((c,d)=>i[d]=c)),l&&l.headers.forEach(((c,d)=>i[d]=c))}xo(i,a){const l=j2[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,a,l){const c=Nd();return new Promise(((d,p)=>{const g=new z0;g.setWithCredentials(!0),g.listenOnce(j0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wc.NO_ERROR:const A=g.getResponseJson();ot(Ke,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case wc.TIMEOUT:ot(Ke,`RPC '${t}' ${c} timed out`),p(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const b=g.getStatus();if(ot(Ke,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const H=U?.error;if(H&&H.status&&H.message){const Z=(function(J){const at=J.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(at)>=0?at:X.UNKNOWN})(H.status);p(new rt(Z,H.message))}else p(new rt(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new rt(X.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{ot(Ke,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(l);ot(Ke,`RPC '${t}' ${c} sending request:`,l),g.send(i,"POST",v,a,15)}))}Bo(t,i,a){const l=Nd(),c=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=H0(),p=q0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const A=c.join("");ot(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,g);const b=d.createWebChannel(A,g);let U=!1,H=!1;const Z=new B2({Io:J=>{H?ot(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(U||(ot(Ke,`Opening RPC '${t}' stream ${l} transport.`),b.open(),U=!0),ot(Ke,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},To:()=>b.close()}),W=(J,at,gt)=>{J.listen(at,(ut=>{try{gt(ut)}catch(Nt){setTimeout((()=>{throw Nt}),0)}}))};return W(b,cl.EventType.OPEN,(()=>{H||(ot(Ke,`RPC '${t}' stream ${l} transport opened.`),Z.yo())})),W(b,cl.EventType.CLOSE,(()=>{H||(H=!0,ot(Ke,`RPC '${t}' stream ${l} transport closed`),Z.So())})),W(b,cl.EventType.ERROR,(J=>{H||(H=!0,qa(Ke,`RPC '${t}' stream ${l} transport errored:`,J),Z.So(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),W(b,cl.EventType.MESSAGE,(J=>{var at;if(!H){const gt=J.data[0];Kt(!!gt);const ut=gt,Nt=ut.error||((at=ut[0])===null||at===void 0?void 0:at.error);if(Nt){ot(Ke,`RPC '${t}' stream ${l} received error:`,Nt);const ct=Nt.status;let mt=(function(w){const O=ve[w];if(O!==void 0)return mE(O)})(ct),C=Nt.message;mt===void 0&&(mt=X.INTERNAL,C="Unknown error status: "+ct+" with message "+Nt.message),H=!0,Z.So(new rt(mt,C)),b.close()}else ot(Ke,`RPC '${t}' stream ${l} received:`,gt),Z.bo(gt)}})),W(p,B0.STAT_EVENT,(J=>{J.stat===Bd.PROXY?ot(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Bd.NOPROXY&&ot(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.wo()}),0),Z}}function Dd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(s){return new JR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.ui=t,this.timerId=i,this.ko=a,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,i,a,l,c,d,p,g){this.ui=t,this.Ho=a,this.Jo=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RE(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(t,i){const a=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H2 extends IE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=e2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ci(d.readTime):Tt.min()})(t);return this.listener.d_(i,a)}A_(t){const i={};i.database=Zd(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=Fd(g)?{documents:r2(c,g)}:{query:s2(c,g)._t},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=yE(c,d.resumeToken);const v=Yd(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=qc(c,d.snapshotVersion.toTimestamp());const v=Yd(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=o2(this.serializer,t);a&&(i.labels=a),this.a_(i)}R_(t){const i={};i.database=Zd(this.serializer),i.removeTarget=t,this.a_(i)}}class G2 extends IE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=i2(t.writeResults,t.commitTime),a=ci(t.commitTime);return this.listener.g_(a,i)}p_(){const t={};t.database=Zd(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>n2(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Mo(t,Xd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}Lo(t,i,a,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Lo(t,Xd(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Q2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fi(i),this.D_=!1):ot("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((d=>{a.enqueueAndForget((async()=>{Hs(this)&&(ot("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const v=At(g);v.L_.add(4),await zl(v),v.q_.set("Unknown"),v.L_.delete(4),await rh(v)})(this))}))})),this.q_=new Q2(a,l)}}async function rh(s){if(Hs(s))for(const t of s.B_)await t(!0)}async function zl(s){for(const t of s.B_)await t(!1)}function CE(s,t){const i=At(s);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),km(i)?Lm(i):no(i).r_()&&Um(i,t))}function Vm(s,t){const i=At(s),a=no(i);i.N_.delete(t),a.r_()&&NE(i,t),i.N_.size===0&&(a.r_()?a.o_():Hs(i)&&i.q_.set("Unknown"))}function Um(s,t){if(s.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(s).A_(t)}function NE(s,t){s.Q_.xe(t),no(s).R_(t)}function Lm(s){s.Q_=new YR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>s.N_.get(t)||null,tt:()=>s.datastore.serializer.databaseId}),no(s).start(),s.q_.v_()}function km(s){return Hs(s)&&!no(s).n_()&&s.N_.size>0}function Hs(s){return At(s).L_.size===0}function DE(s){s.Q_=void 0}async function Y2(s){s.q_.set("Online")}async function X2(s){s.N_.forEach(((t,i)=>{Um(s,t)}))}async function $2(s,t){DE(s),km(s)?(s.q_.M_(t),Lm(s)):s.q_.set("Unknown")}async function Z2(s,t,i){if(s.q_.set("Online"),t instanceof gE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.N_.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.N_.delete(p),l.Q_.removeTarget(p))})(s,t)}catch(a){ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Hc(s,a)}else if(t instanceof Cc?s.Q_.Ke(t):t instanceof pE?s.Q_.He(t):s.Q_.We(t),!i.isEqual(Tt.min()))try{const a=await wE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Q_.rt(d);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.N_.get(v);A&&c.N_.set(v,A.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,v)=>{const A=c.N_.get(g);if(!A)return;c.N_.set(g,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),NE(c,g);const b=new Br(A.target,g,v,A.sequenceNumber);Um(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ot("RemoteStore","Failed to raise snapshot:",a),await Hc(s,a)}}async function Hc(s,t,i){if(!Ll(t))throw t;s.L_.add(1),await zl(s),s.q_.set("Offline"),i||(i=()=>wE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot("RemoteStore","Retrying IndexedDB access"),await i(),s.L_.delete(1),await rh(s)}))}function OE(s,t){return t().catch((i=>Hc(s,i,t)))}async function sh(s){const t=At(s),i=Zr(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;J2(t);)try{const l=await U2(t.localStore,a);if(l===null){t.O_.length===0&&i.o_();break}a=l.batchId,W2(t,l)}catch(l){await Hc(t,l)}xE(t)&&ME(t)}function J2(s){return Hs(s)&&s.O_.length<10}function W2(s,t){s.O_.push(t);const i=Zr(s);i.r_()&&i.V_&&i.m_(t.mutations)}function xE(s){return Hs(s)&&!Zr(s).n_()&&s.O_.length>0}function ME(s){Zr(s).start()}async function tI(s){Zr(s).p_()}async function eI(s){const t=Zr(s);for(const i of s.O_)t.m_(i.mutations)}async function nI(s,t,i){const a=s.O_.shift(),l=Cm.from(a,t,i);await OE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await sh(s)}async function iI(s,t){t&&Zr(s).V_&&await(async function(a,l){if((function(d){return FR(d)&&d!==X.ABORTED})(l.code)){const c=a.O_.shift();Zr(a).s_(),await OE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await sh(a)}})(s,t),xE(s)&&ME(s)}async function Cv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const a=Hs(i);i.L_.add(3),await zl(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await rh(i)}async function rI(s,t){const i=At(s);t?(i.L_.delete(2),await rh(i)):t||(i.L_.add(2),await zl(i),i.q_.set("Unknown"))}function no(s){return s.K_||(s.K_=(function(i,a,l){const c=At(i);return c.w_(),new H2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Eo:Y2.bind(null,s),Ro:X2.bind(null,s),mo:$2.bind(null,s),d_:Z2.bind(null,s)}),s.B_.push((async t=>{t?(s.K_.s_(),km(s)?Lm(s):s.q_.set("Unknown")):(await s.K_.stop(),DE(s))}))),s.K_}function Zr(s){return s.U_||(s.U_=(function(i,a,l){const c=At(i);return c.w_(),new G2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tI.bind(null,s),mo:iI.bind(null,s),f_:eI.bind(null,s),g_:nI.bind(null,s)}),s.B_.push((async t=>{t?(s.U_.s_(),await sh(s)):(await s.U_.stop(),s.O_.length>0&&(ot("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Pm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(s,t){if(Fi("AsyncQueue",`${t}: ${s}`),Ll(s))return new rt(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=hl(),this.sortedSet=new se(this.comparator)}static emptySet(t){return new ja(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.W_=new se(dt.comparator)}track(t){const i=t.doc.key,a=this.W_.get(i);a?t.type!==0&&a.type===3?this.W_=this.W_.insert(i,t):t.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.W_=this.W_.remove(i):t.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):vt():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ka{constructor(t,i,a,l,c,d,p,g,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ka(t,i,ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class aI{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Dv(),c.forEach(((d,p)=>{for(const g of p.j_)g.onError(a)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function Dv(){return new eo((s=>nE(s)),Jc)}async function VE(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.H_()&&t.J_()&&(a=2):(c=new sI,a=t.J_()?0:1);try{switch(a){case 0:c.z_=await i.onListen(l,!0);break;case 1:c.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=zm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.j_.push(t),t.Z_(i.onlineState),c.z_&&t.X_(c.z_)&&jm(i)}async function UE(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.j_.indexOf(t);d>=0&&(c.j_.splice(d,1),c.j_.length===0?l=t.J_()?0:1:!c.H_()&&t.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function oI(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.j_)p.X_(l)&&(a=!0);d.z_=l}}a&&jm(i)}function lI(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.j_)c.onError(i);a.queries.delete(t)}function jm(s){s.Y_.forEach((t=>{t.next()}))}var Wd,Ov;(Ov=Wd||(Wd={})).ea="default",Ov.Cache="cache";class LE{constructor(t,i,a){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ka(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=Ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t){this.key=t}}class PE{constructor(t){this.key=t}}class uI{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xt(),this.mutatedKeys=xt(),this.Aa=iE(t),this.Ra=new ja(this.Aa)}get Va(){return this.Ta}ma(t,i){const a=i?i.fa:new Nv,l=i?i.Ra:this.Ra;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const U=l.get(A),H=Wc(this.query,b)?b:null,Z=!!U&&this.mutatedKeys.has(U.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;U&&H?U.data.isEqual(H.data)?Z!==W&&(a.track({type:3,doc:H}),J=!0):this.ga(U,H)||(a.track({type:2,doc:H}),J=!0,(g&&this.Aa(H,g)>0||v&&this.Aa(H,v)<0)&&(p=!0)):!U&&H?(a.track({type:0,doc:H}),J=!0):U&&!H&&(a.track({type:1,doc:U}),J=!0,(g||v)&&(p=!0)),J&&(H?(d=d.add(H),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{Ra:d,fa:a,ns:p,mutatedKeys:c}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const d=t.fa.G_();d.sort(((A,b)=>(function(H,Z){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return W(H)-W(Z)})(A.type,b.type)||this.Aa(A.doc,b.doc))),this.pa(a),l=l!=null&&l;const p=i&&!l?this.ya():[],g=this.da.size===0&&this.current&&!l?1:0,v=g!==this.Ea;return this.Ea=g,d.length!==0||v?{snapshot:new Ka(this.query,t.Ra,c,d,t.mutatedKeys,g===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:p}:{wa:p}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=xt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return t.forEach((a=>{this.da.has(a)||i.push(new PE(a))})),this.da.forEach((a=>{t.has(a)||i.push(new kE(a))})),i}ba(t){this.Ta=t.Ts,this.da=xt();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return Ka.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class hI{constructor(t){this.key=t,this.va=!1}}class fI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new eo((p=>nE(p)),Jc),this.Ma=new Map,this.xa=new Set,this.Oa=new se(dt.comparator),this.Na=new Map,this.La=new Om,this.Ba={},this.ka=new Map,this.qa=Qa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function dI(s,t,i=!0){const a=GE(s);let l;const c=a.Fa.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await zE(a,t,i,!0),l}async function mI(s,t){const i=GE(s);await zE(i,t,!0,!1)}async function zE(s,t,i,a){const l=await L2(s.localStore,li(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await pI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&CE(s.remoteStore,l),p}async function pI(s,t,i,a,l){s.Ka=(b,U,H)=>(async function(W,J,at,gt){let ut=J.view.ma(at);ut.ns&&(ut=await wv(W.localStore,J.query,!1).then((({documents:C})=>J.view.ma(C,ut))));const Nt=gt&&gt.targetChanges.get(J.targetId),ct=gt&&gt.targetMismatches.get(J.targetId)!=null,mt=J.view.applyChanges(ut,W.isPrimaryClient,Nt,ct);return Mv(W,J.targetId,mt.wa),mt.snapshot})(s,b,U,H);const c=await wv(s.localStore,t,!0),d=new uI(t,c.Ts),p=d.ma(c.documents),g=Pl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(p,s.isPrimaryClient,g);Mv(s,i,v.wa);const A=new cI(t,i,d);return s.Fa.set(t,A),s.Ma.has(i)?s.Ma.get(i).push(t):s.Ma.set(i,[t]),v.snapshot}async function gI(s,t,i){const a=At(s),l=a.Fa.get(t),c=a.Ma.get(l.targetId);if(c.length>1)return a.Ma.set(l.targetId,c.filter((d=>!Jc(d,t)))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Jd(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Vm(a.remoteStore,l.targetId),tm(a,l.targetId)})).catch(Ul)):(tm(a,l.targetId),await Jd(a.localStore,l.targetId,!0))}async function yI(s,t){const i=At(s),a=i.Fa.get(t),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Vm(i.remoteStore,a.targetId))}async function _I(s,t,i){const a=wI(s);try{const l=await(function(d,p){const g=At(d),v=be.now(),A=p.reduce(((H,Z)=>H.add(Z.key)),xt());let b,U;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=Qi(),W=xt();return g.cs.getEntries(H,A).next((J=>{Z=J,Z.forEach(((at,gt)=>{gt.isValidDocument()||(W=W.add(at))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,Z))).next((J=>{b=J;const at=[];for(const gt of p){const ut=jR(gt,b.get(gt.key).overlayedDocument);ut!=null&&at.push(new qs(gt.key,ut,Y0(ut.value.mapValue),ui.exists(!0)))}return g.mutationQueue.addMutationBatch(H,v,at,p)})).next((J=>{U=J;const at=J.applyToLocalDocumentSet(b,W);return g.documentOverlayCache.saveOverlays(H,J.batchId,at)}))})).then((()=>({batchId:U.batchId,changes:sE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let v=d.Ba[d.currentUser.toKey()];v||(v=new se(Bt)),v=v.insert(p,g),d.Ba[d.currentUser.toKey()]=v})(a,l.batchId,i),await jl(a,l.changes),await sh(a.remoteStore)}catch(l){const c=zm(l,"Failed to persist write");i.reject(c)}}async function jE(s,t){const i=At(s);try{const a=await M2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Na.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?Kt(d.va):l.removedDocuments.size>0&&(Kt(d.va),d.va=!1))})),await jl(i,a,t)}catch(a){await Ul(a)}}function xv(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((c,d)=>{const p=d.view.Z_(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=At(d);g.onlineState=p;let v=!1;g.queries.forEach(((A,b)=>{for(const U of b.j_)U.Z_(p)&&(v=!0)})),v&&jm(g)})(a.eventManager,t),l.length&&a.Ca.d_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function vI(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Na.get(t),c=l&&l.key;if(c){let d=new se(dt.comparator);d=d.insert(c,Xe.newNoDocument(c,Tt.min()));const p=xt().add(c),g=new nh(Tt.min(),new Map,new se(Bt),d,p);await jE(a,g),a.Oa=a.Oa.remove(c),a.Na.delete(t),Bm(a)}else await Jd(a.localStore,t,!1).then((()=>tm(a,t,i))).catch(Ul)}async function EI(s,t){const i=At(s),a=t.batch.batchId;try{const l=await x2(i.localStore,t);qE(i,a,null),BE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await jl(i,l)}catch(l){await Ul(l)}}async function TI(s,t,i){const a=At(s);try{const l=await(function(d,p){const g=At(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return g.mutationQueue.lookupMutationBatch(v,p).next((b=>(Kt(b!==null),A=b.keys(),g.mutationQueue.removeMutationBatch(v,b)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>g.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);qE(a,t,i),BE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await jl(a,l)}catch(l){await Ul(l)}}function BE(s,t){(s.ka.get(t)||[]).forEach((i=>{i.resolve()})),s.ka.delete(t)}function qE(s,t,i){const a=At(s);let l=a.Ba[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Ba[a.currentUser.toKey()]=l}}function tm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Ma.get(t))s.Fa.delete(a),i&&s.Ca.$a(a,i);s.Ma.delete(t),s.isPrimaryClient&&s.La.gr(t).forEach((a=>{s.La.containsKey(a)||HE(s,a)}))}function HE(s,t){s.xa.delete(t.path.canonicalString());const i=s.Oa.get(t);i!==null&&(Vm(s.remoteStore,i),s.Oa=s.Oa.remove(t),s.Na.delete(i),Bm(s))}function Mv(s,t,i){for(const a of i)a instanceof kE?(s.La.addReference(a.key,t),AI(s,a)):a instanceof PE?(ot("SyncEngine","Document no longer in limbo: "+a.key),s.La.removeReference(a.key,t),s.La.containsKey(a.key)||HE(s,a.key)):vt()}function AI(s,t){const i=t.key,a=i.path.canonicalString();s.Oa.get(i)||s.xa.has(a)||(ot("SyncEngine","New document in limbo: "+i),s.xa.add(a),Bm(s))}function Bm(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const t=s.xa.values().next().value;s.xa.delete(t);const i=new dt(ne.fromString(t)),a=s.qa.next();s.Na.set(a,new hI(i)),s.Oa=s.Oa.insert(i,a),CE(s.remoteStore,new Br(li(wm(i.path)),a,"TargetPurposeLimboResolution",vm.oe))}}async function jl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((p,g)=>{d.push(a.Ka(g,t,i).then((v=>{var A;if((v||i)&&a.isPrimaryClient){const b=v?!v.fromCache:(A=i?.targetChanges.get(g.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(v){l.push(v);const b=Mm.Wi(g.targetId,v);c.push(b)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(g,v){const A=At(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(v,(U=>$.forEach(U.$i,(H=>A.persistence.referenceDelegate.addReference(b,U.targetId,H))).next((()=>$.forEach(U.Ui,(H=>A.persistence.referenceDelegate.removeReference(b,U.targetId,H)))))))))}catch(b){if(!Ll(b))throw b;ot("LocalStore","Failed to update sequence numbers: "+b)}for(const b of v){const U=b.targetId;if(!b.fromCache){const H=A.os.get(U),Z=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(Z);A.os=A.os.insert(U,W)}}})(a.localStore,c))}async function SI(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){ot("SyncEngine","User change. New user:",t.toKey());const a=await bE(i.localStore,t);i.currentUser=t,(function(c,d){c.ka.forEach((p=>{p.forEach((g=>{g.reject(new rt(X.CANCELLED,d))}))})),c.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await jl(i,a.hs)}}function bI(s,t){const i=At(s),a=i.Na.get(t);if(a&&a.va)return xt().add(a.key);{let l=xt();const c=i.Ma.get(t);if(!c)return l;for(const d of c){const p=i.Fa.get(d);l=l.unionWith(p.view.Va)}return l}}function GE(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vI.bind(null,t),t.Ca.d_=oI.bind(null,t.eventManager),t.Ca.$a=lI.bind(null,t.eventManager),t}function wI(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TI.bind(null,t),t}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return O2(this.persistence,new N2,t.initialUser,this.serializer)}Ga(t){return new R2(xm.Zr,this.serializer)}Wa(t){return new P2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>xv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await rI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new aI})()}createDatastore(t){const i=ih(t.databaseInfo.databaseId),a=(function(c){return new q2(c)})(t.databaseInfo);return(function(c,d,p,g){return new F2(c,d,p,g)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new K2(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>xv(this.syncEngine,i,0)),(function(){return Iv.D()?new Iv:new z2})())}createSyncEngine(t,i){return(function(l,c,d,p,g,v,A){const b=new fI(l,c,d,p,g,v);return A&&(b.Qa=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=At(l);ot("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await zl(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=F0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Od(s,t){s.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await bE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Vv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await II(s);ot("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Cv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Cv(t.remoteStore,l))),s._onlineComponents=t}async function II(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await Od(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Od(s,new Gc)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),await Od(s,new Gc);return s._offlineComponents}async function QE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),await Vv(s,s._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),await Vv(s,new em))),s._onlineComponents}function CI(s){return QE(s).then((t=>t.syncEngine))}async function nm(s){const t=await QE(s),i=t.eventManager;return i.onListen=dI.bind(null,t.syncEngine),i.onUnlisten=gI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=mI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=yI.bind(null,t.syncEngine),i}function NI(s,t,i={}){const a=new Fr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,v){const A=new FE({next:U=>{A.Za(),d.enqueueAndForget((()=>UE(c,b))),U.fromCache&&g.source==="server"?v.reject(new rt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(U)},error:U=>v.reject(U)}),b=new LE(p,A,{includeMetadataChanges:!0,_a:!0});return VE(c,b)})(await nm(s),s.asyncQueue,t,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(s,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function DI(s,t,i,a){if(t===!0&&a===!0)throw new rt(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Lv(s){if(!dt.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function kv(s){if(dt.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt()}function Qr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(s);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(t),t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Xw;switch(a.type){case"firstParty":return new Ww(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Uv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),Uv.delete(i),a.terminate())})(this),Promise.resolve()}}function OI(s,t,i,a={}){var l;const c=(s=Qr(s,oh))._getSettings(),d=`${t}:${i}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),a.mockUserToken){let p,g;if(typeof a.mockUserToken=="string")p=a.mockUserToken,g=Ye.MOCK_USER;else{p=cS(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ye(v)}s._authCredentials=new $w(new G0(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ts(this.firestore,t,this._query)}}class An{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new An(this.firestore,t,this._key)}}class Kr extends ts{constructor(t,i,a){super(t,i,wm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new An(this.firestore,null,new dt(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function Vs(s,t,...i){if(s=Ze(s),YE("collection","path",t),s instanceof oh){const a=ne.fromString(t,...i);return kv(a),new Kr(s,null,a)}{if(!(s instanceof An||s instanceof Kr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return kv(a),new Kr(s.firestore,null,a)}}function XE(s,t,...i){if(s=Ze(s),arguments.length===1&&(t=F0.newId()),YE("doc","path",t),s instanceof oh){const a=ne.fromString(t,...i);return Lv(a),new An(s,null,new dt(a))}{if(!(s instanceof An||s instanceof Kr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return Lv(a),new An(s.firestore,s instanceof Kr?s.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RE(this,"async_queue_retry"),this.Vu=()=>{const a=Dd();a&&ot("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const i=Dd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Dd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Fr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Ll(t))throw t;ot("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p})(a);throw Fi("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(t,i,a){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const l=Pm.createAndSchedule(this,t,i,a,(c=>this.yu(c)));return this.Tu.push(l),l}fu(){this.Eu&&vt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function jv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ya extends oh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zv(t),this._firestoreClient=void 0,await t}}}function xI(s,t){const i=typeof s=="object"?s:e0(),a=typeof s=="string"?s:"(default)",l=lm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=lS("firestore");c&&OI(l,...c)}return l}function qm(s){if(s._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MI(s),s._firestoreClient}function MI(s){var t,i,a;const l=s._freezeSettings(),c=(function(p,g,v,A){return new fR(p,g,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,KE(A.experimentalLongPollingOptions),A.useFetchStreams)})(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new RI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&(function(p){const g=p?._online.build();return{_offline:p?._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xa(He.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xa(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=/^__.*__$/;class UI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new qs(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}function ZE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class Qm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Qm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.Ou(t),l}Nu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Fc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(ZE(this.Cu)&&VI.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class LI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ih(t)}Qu(t,i,a,l=!1){return new Qm({Cu:t,methodName:i,qu:a,path:Be.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JE(s){const t=s._freezeSettings(),i=ih(s._databaseId);return new LI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function kI(s,t,i,a,l,c={}){const d=s.Qu(c.merge||c.mergeFields?2:0,t,i,l);eT("Data must be an object, but it was:",d,a);const p=WE(a,d);let g,v;if(c.merge)g=new Hn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const U=zI(t,b,i);if(!d.contains(U))throw new rt(X.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);BI(A,U)||A.push(U)}g=new Hn(A),v=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,v=d.fieldTransforms;return new UI(new Un(p),g,v)}function PI(s,t,i,a=!1){return Km(i,s.Qu(a?4:3,t))}function Km(s,t){if(tT(s=Ze(s)))return eT("Unsupported field value:",t,s),WE(s,t);if(s instanceof $E)return(function(a,l){if(!ZE(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let g=Km(p,l.Lu(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return VR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=be.fromDate(a);return{timestampValue:qc(l.serializer,c)}}if(a instanceof be){const c=new be(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qc(l.serializer,c)}}if(a instanceof Gm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xa)return{bytesValue:yE(l.serializer,a._byteString)};if(a instanceof An){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Fm)return(function(d,p){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Bu("VectorValues must only contain numeric values.");return Rm(p.serializer,g)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${ah(a)}`)})(s,t)}function WE(s,t){const i={};return Q0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wa(s,((a,l)=>{const c=Km(l,t.Mu(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function tT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof be||s instanceof Gm||s instanceof Xa||s instanceof An||s instanceof $E||s instanceof Fm)}function eT(s,t,i){if(!tT(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=ah(i);throw a==="an object"?t.Bu(s+" a custom object"):t.Bu(s+" "+a)}}function zI(s,t,i){if((t=Ze(t))instanceof Hm)return t._internalPath;if(typeof t=="string")return nT(s,t);throw Fc("Field path arguments must be of type string or ",s,!1,void 0,i)}const jI=new RegExp("[~\\*/\\[\\]]");function nT(s,t,i){if(t.search(jI)>=0)throw Fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Hm(...t.split("."))._internalPath}catch{throw Fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Fc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new rt(X.INVALID_ARGUMENT,p+s+g)}function BI(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(lh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qI extends iT{data(){return super.data()}}function lh(s,t){return typeof t=="string"?nT(s,t):t instanceof Hm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ym{}class sT extends Ym{}function im(s,t,...i){let a=[];t instanceof Ym&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((g=>g instanceof Xm)).length,p=c.filter((g=>g instanceof uh)).length;if(d>1||d>0&&p>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class uh extends sT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new uh(t,i,a)}_apply(t){const i=this._parse(t);return aT(t._query,i),new ts(t.firestore,t.converter,Qd(t._query,i))}_parse(t){const i=JE(t.firestore);return(function(c,d,p,g,v,A,b){let U;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){qv(b,A);const H=[];for(const Z of b)H.push(Bv(g,c,Z));U={arrayValue:{values:H}}}else U=Bv(g,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||qv(b,A),U=PI(p,d,b,A==="in"||A==="not-in");return Ee.create(v,A,U)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function rm(s,t,i){const a=t,l=lh("where",s);return uh._create(l,a,i)}class Xm extends Ym{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Xm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)aT(d,g),d=Qd(d,g)})(t._query,i),new ts(t.firestore,t.converter,Qd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $m extends sT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new $m(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rl(c,d)})(t._query,this._field,this._direction);return new ts(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new to(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function HI(s,t="asc"){const i=t,a=lh("orderBy",s);return $m._create(a,i)}function Bv(s,t,i){if(typeof(i=Ze(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(t)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ne.fromString(i));if(!dt.isDocumentKey(a))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return lv(s,new dt(a))}if(i instanceof An)return lv(s,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function qv(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aT(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class GI{convertValue(t,i="none"){switch(js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Wa(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>de(d.doubleValue)));return new Fm(c)}convertGeoPoint(t){return new Gm(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Tm(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Sl(t));default:return null}}convertTimestamp(t){const i=$r(t);return new be(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Kt(SE(a));const l=new bl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||Fi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oT extends iT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(lh("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Nc extends oT{data(t={}){return super.data(t)}}class lT{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Nc(this._firestore,this._userDataWriter,a.key,a,new dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Nc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Nc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:QI(p.type),doc:g,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function QI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}class Zm extends GI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new An(this.firestore,null,i)}}function KI(s){s=Qr(s,ts);const t=Qr(s.firestore,Ya),i=qm(t),a=new Zm(t);return rT(s._query),NI(i,s._query).then((l=>new lT(t,a,s,l)))}function YI(s){return uT(Qr(s.firestore,Ya),[new Im(s._key,ui.none())])}function Qc(s,t){const i=Qr(s.firestore,Ya),a=XE(s),l=FI(s.converter,t);return uT(i,[kI(JE(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,ui.exists(!1))]).then((()=>a))}function Hv(s,...t){var i,a,l;s=Ze(s);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||jv(t[d])||(c=t[d],d++);const p={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(jv(t[d])){const b=t[d];t[d]=(i=b.next)===null||i===void 0?void 0:i.bind(b),t[d+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),t[d+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let g,v,A;if(s instanceof An)v=Qr(s.firestore,Ya),A=wm(s._key.path),g={next:b=>{t[d]&&t[d](XI(v,s,b))},error:t[d+1],complete:t[d+2]};else{const b=Qr(s,ts);v=Qr(b.firestore,Ya),A=b._query;const U=new Zm(v);g={next:H=>{t[d]&&t[d](new lT(v,U,b,H))},error:t[d+1],complete:t[d+2]},rT(s._query)}return(function(U,H,Z,W){const J=new FE(W),at=new LE(H,J,Z);return U.asyncQueue.enqueueAndForget((async()=>VE(await nm(U),at))),()=>{J.Za(),U.asyncQueue.enqueueAndForget((async()=>UE(await nm(U),at)))}})(qm(v),A,p,g)}function uT(s,t){return(function(a,l){const c=new Fr;return a.asyncQueue.enqueueAndForget((async()=>_I(await CI(a),l,c))),c.promise})(qm(s),t)}function XI(s,t,i){const a=i.docs.get(t._key),l=new Zm(s);return new oT(s,l,t._key,a,new dl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Ja=l})($a),Ba(new Us("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ya(new Zw(a.getProvider("auth-internal")),new eR(a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(v.options.projectId,A)})(d,l),d);return c=Object.assign({useFetchStreams:i},c),p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gr(iv,"4.7.3",t),Gr(iv,"4.7.3","esm2017")})();const $I={apiKey:"AIzaSyCGN93LsNnRGcqGpesVWAg8jP0m6XsQAuA",authDomain:"budget-ami.firebaseapp.com",databaseURL:"https://budget-ami-default-rtdb.europe-west1.firebasedatabase.app",projectId:"budget-ami",storageBucket:"budget-ami.firebasestorage.app",messagingSenderId:"976854941281",appId:"1:976854941281:web:f40e81033cf52d236af420"},cT=t0($I),Yr=xI(cT),Ec=Fw(cT),hT=async s=>{console.log("Создаю базовые категории для пользователя:",s);const t=[{name:"Зарплата",type:"income",userId:s},{name:"Подработка",type:"income",userId:s},{name:"Инвестиции",type:"income",userId:s},{name:"Продукты",type:"expense",userId:s},{name:"Транспорт",type:"expense",userId:s},{name:"Развлечения",type:"expense",userId:s},{name:"Здоровье",type:"expense",userId:s},{name:"Образование",type:"expense",userId:s},{name:"Одежда",type:"expense",userId:s},{name:"Коммунальные услуги",type:"expense",userId:s},{name:"Другое",type:"expense",userId:s}];try{const i=await KI(im(Vs(Yr,"categories"),rm("userId","==",s)));if(console.log("Существующие категории:",i.size),i.empty){console.log("Создаю базовые категории...");const a=t.map(l=>Qc(Vs(Yr,"categories"),{...l,createdAt:new Date}));await Promise.all(a),console.log("Базовые категории созданы успешно!")}else console.log("Категории уже существуют")}catch(i){console.error("Ошибка при создании базовых категорий:",i)}},fT=Object.freeze(Object.defineProperty({__proto__:null,createDefaultCategories:hT},Symbol.toStringTag,{value:"Module"})),dT=Zt.createContext();function ch(){return Zt.useContext(dT)}function ZI({children:s}){const[t,i]=Zt.useState(null),[a,l]=Zt.useState(!0);async function c(v,A){const b=await N1(Ec,v,A);try{await hT(b.user.uid),console.log("Категории созданы при регистрации")}catch(U){console.error("Ошибка создания категорий при регистрации:",U)}return b}function d(v,A){return D1(Ec,v,A)}function p(){return V1(Ec)}Zt.useEffect(()=>M1(Ec,async A=>{if(i(A),A)try{const{createDefaultCategories:b}=await Fv(async()=>{const{createDefaultCategories:U}=await Promise.resolve().then(()=>fT);return{createDefaultCategories:U}},void 0);await b(A.uid)}catch(b){console.error("Ошибка проверки категорий:",b)}l(!1)}),[]);const g={currentUser:t,signup:c,login:d,logout:p};return V.jsx(dT.Provider,{value:g,children:!a&&s})}/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Zt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},g)=>Zt.createElement("svg",{ref:g,...WI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:mT("lucide",l),...p},[...d.map(([v,A])=>Zt.createElement(v,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=(s,t)=>{const i=Zt.forwardRef(({className:a,...l},c)=>Zt.createElement(tC,{ref:c,iconNode:t,className:mT(`lucide-${JI(s)}`,a),...l}));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=sn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=sn("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=sn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=sn("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=sn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=sn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=sn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=sn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=sn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=sn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=sn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=sn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=sn("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=sn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mC(){const[s,t]=Zt.useState(!0),[i,a]=Zt.useState(""),[l,c]=Zt.useState(""),[d,p]=Zt.useState(""),[g,v]=Zt.useState(!1),[A,b]=Zt.useState(""),[U,H]=Zt.useState(!1),{login:Z,signup:W}=ch();async function J(at){if(at.preventDefault(),!s&&l!==d)return b("Пароли не совпадают");try{b(""),H(!0),s?await Z(i,l):await W(i,l)}catch(gt){let ut="Ошибка аутентификации";switch(gt.code){case"auth/user-not-found":ut="Пользователь не найден";break;case"auth/wrong-password":ut="Неверный пароль";break;case"auth/email-already-in-use":ut="Email уже используется";break;case"auth/weak-password":ut="Слишком слабый пароль";break;case"auth/invalid-email":ut="Неверный формат email";break;default:ut=gt.message}b(ut)}H(!1)}return V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:V.jsxs("div",{className:"max-w-md w-full",children:[V.jsxs("div",{className:"text-center mb-8",children:[V.jsx("div",{className:"mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center mb-4",children:V.jsx("span",{className:"text-white text-2xl font-bold",children:"₽"})}),V.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"BudgetIOS"}),V.jsx("p",{className:"text-gray-600 mt-2",children:s?"Войдите в свой аккаунт":"Создайте новый аккаунт"})]}),V.jsxs("div",{className:"card",children:[A&&V.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:A}),V.jsxs("form",{onSubmit:J,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),V.jsx("input",{type:"email",value:i,onChange:at=>a(at.target.value),className:"input-field",required:!0,placeholder:"your@email.com"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Пароль"}),V.jsxs("div",{className:"relative",children:[V.jsx("input",{type:g?"text":"password",value:l,onChange:at=>c(at.target.value),className:"input-field pr-10",required:!0,placeholder:"••••••••"}),V.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:g?V.jsx(rC,{size:20}):V.jsx(sC,{size:20})})]})]}),!s&&V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Подтвердите пароль"}),V.jsx("input",{type:"password",value:d,onChange:at=>p(at.target.value),className:"input-field",required:!0,placeholder:"••••••••"})]}),V.jsx("button",{type:"submit",disabled:U,className:"w-full btn-primary flex items-center justify-center gap-2",children:U?V.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):V.jsxs(V.Fragment,{children:[s?V.jsx(aC,{size:20}):V.jsx(hC,{size:20}),s?"Войти":"Зарегистрироваться"]})})]}),V.jsx("div",{className:"mt-6 text-center",children:V.jsx("button",{type:"button",onClick:()=>t(!s),className:"text-primary-600 hover:text-primary-700 font-medium",children:s?"Нет аккаунта? Зарегистрироваться":"Уже есть аккаунт? Войти"})})]})]})})}function pC({isOpen:s,onClose:t,categories:i}){const{currentUser:a}=ch(),[l,c]=Zt.useState({type:"expense",amount:"",category:"",description:"",owner:"artur",date:new Date().toISOString().split("T")[0]}),[d,p]=Zt.useState(""),[g,v]=Zt.useState(!1),[A,b]=Zt.useState(!1);if(!s)return null;const U=async W=>{if(W.preventDefault(),!!a)try{b(!0);let J=l.category;d.trim()&&g&&(await Qc(Vs(Yr,"categories"),{name:d.trim(),userId:a.uid,createdAt:new Date}),J=d.trim()),await Qc(Vs(Yr,"transactions"),{...l,category:J,amount:parseFloat(l.amount),userId:a.uid,createdAt:new Date,date:new Date(l.date)}),c({type:"expense",amount:"",category:"",description:"",date:new Date().toISOString().split("T")[0]}),p(""),v(!1),t()}catch(J){console.error("Ошибка при добавлении транзакции:",J)}finally{b(!1)}},H=W=>{const{name:J,value:at}=W.target;c(gt=>({...gt,[J]:at}))},Z=i.filter(W=>l.type==="income"?["Зарплата","Подработка","Инвестиции","Другое"].includes(W.name):!["Зарплата","Подработка","Инвестиции"].includes(W.name));return V.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:V.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[V.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[V.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Добавить операцию"}),V.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:V.jsx(dC,{size:24})})]}),V.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип операции"}),V.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[V.jsx("button",{type:"button",onClick:()=>c({...l,type:"expense",category:""}),className:`p-3 rounded-lg border-2 transition-colors ${l.type==="expense"?"border-red-300 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:"Расход"}),V.jsx("button",{type:"button",onClick:()=>c({...l,type:"income",category:""}),className:`p-3 rounded-lg border-2 transition-colors ${l.type==="income"?"border-green-300 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:"Доход"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Владелец"}),V.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[V.jsx("button",{type:"button",onClick:()=>c({...l,owner:"artur"}),className:`p-3 rounded-lg border-2 transition-colors ${l.owner==="artur"?"border-blue-300 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:"Артур"}),V.jsx("button",{type:"button",onClick:()=>c({...l,owner:"valeria"}),className:`p-3 rounded-lg border-2 transition-colors ${l.owner==="valeria"?"border-purple-300 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:"Валерия"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Сумма (₽)"}),V.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:H,className:"input-field",required:!0,min:"0",step:"0.01",placeholder:"0.00"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Категория"}),g?V.jsxs("div",{className:"space-y-2",children:[V.jsx("input",{type:"text",value:d,onChange:W=>p(W.target.value),className:"input-field",placeholder:"Название новой категории",required:!0}),V.jsx("div",{className:"flex gap-2",children:V.jsx("button",{type:"button",onClick:()=>{v(!1),p("")},className:"text-sm text-gray-600 hover:text-gray-800",children:"Отмена"})})]}):V.jsxs("div",{className:"space-y-2",children:[V.jsxs("select",{name:"category",value:l.category,onChange:H,className:"input-field",required:!0,children:[V.jsx("option",{value:"",children:"Выберите категорию"}),Z.map(W=>V.jsx("option",{value:W.name,children:W.name},W.id))]}),V.jsxs("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[V.jsx(pT,{size:16}),"Создать новую категорию"]})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Описание (необязательно)"}),V.jsx("input",{type:"text",name:"description",value:l.description,onChange:H,className:"input-field",placeholder:"Комментарий к операции"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Дата"}),V.jsx("input",{type:"date",name:"date",value:l.date,onChange:H,className:"input-field",required:!0})]}),V.jsxs("div",{className:"flex gap-3 pt-4",children:[V.jsx("button",{type:"button",onClick:t,className:"flex-1 btn-secondary",children:"Отмена"}),V.jsx("button",{type:"submit",disabled:A,className:"flex-1 btn-primary",children:A?V.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mx-auto"}):"Добавить"})]})]})]})})}function gC({transactions:s}){const t=async a=>{if(window.confirm("Вы уверены, что хотите удалить эту операцию?"))try{await YI(XE(Yr,"transactions",a))}catch(l){console.error("Ошибка при удалении транзакции:",l)}},i=a=>new Date(a.seconds*1e3).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"});return s.length===0?V.jsxs("div",{className:"text-center py-8 text-gray-500",children:[V.jsx(eC,{size:48,className:"mx-auto mb-4 text-gray-300"}),V.jsx("p",{className:"text-lg font-medium",children:"Пока нет операций"}),V.jsx("p",{className:"text-sm",children:"Добавьте первую операцию, чтобы начать отслеживать бюджет"})]}):V.jsx("div",{className:"space-y-3",children:s.map(a=>V.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[V.jsx("div",{className:"flex-1",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{className:"flex items-center space-x-3",children:[V.jsx("div",{className:`w-3 h-3 rounded-full ${a.type==="income"?"bg-green-500":"bg-red-500"}`}),V.jsxs("div",{children:[V.jsx("p",{className:"font-medium text-gray-900",children:a.category}),a.description&&V.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),V.jsxs("div",{className:"text-right",children:[V.jsxs("p",{className:`font-semibold ${a.type==="income"?"text-green-600":"text-red-600"}`,children:[a.type==="income"?"+":"-",a.amount.toLocaleString("ru-RU")," ₽"]}),V.jsx("p",{className:"text-sm text-gray-500",children:i(a.date)})]})]})}),V.jsx("button",{onClick:()=>t(a.id),className:"ml-4 p-2 text-gray-400 hover:text-red-600 transition-colors",children:V.jsx(cC,{size:16})})]},a.id))})}function yC(){const{currentUser:s,logout:t}=ch(),[i,a]=Zt.useState([]),[l,c]=Zt.useState([]),[d,p]=Zt.useState(!1),[g,v]=Zt.useState(!0);Zt.useEffect(()=>{if(!s)return;const ct=im(Vs(Yr,"transactions"),rm("userId","==",s.uid),HI("date","desc")),mt=Hv(ct,C=>{const S=[];C.forEach(w=>{S.push({id:w.id,...w.data()})}),a(S),v(!1)},C=>{console.error("Ошибка получения транзакций:",C),v(!1)});return()=>mt()},[s]),Zt.useEffect(()=>{if(!s)return;const ct=im(Vs(Yr,"categories"),rm("userId","==",s.uid)),mt=Hv(ct,C=>{const S=[];C.forEach(w=>{S.push({id:w.id,...w.data()})}),c(S)},C=>{console.error("Ошибка получения категорий:",C)});return()=>mt()},[s]);const A=i.filter(ct=>ct.owner==="artur"||!ct.owner&&ct.type),b=i.filter(ct=>ct.owner==="valeria"),U=A.filter(ct=>ct.type==="income").reduce((ct,mt)=>ct+mt.amount,0),H=A.filter(ct=>ct.type==="expense").reduce((ct,mt)=>ct+mt.amount,0),Z=U-H,W=b.filter(ct=>ct.type==="income").reduce((ct,mt)=>ct+mt.amount,0),J=b.filter(ct=>ct.type==="expense").reduce((ct,mt)=>ct+mt.amount,0),at=W-J,gt=Z+at,ut=async()=>{try{await t()}catch(ct){console.error("Ошибка при выходе:",ct)}},Nt=async()=>{const ct=[{type:"income",amount:8e4,category:"Зарплата",description:"Зарплата Артур",owner:"artur",date:new Date},{type:"income",amount:6e4,category:"Зарплата",description:"Зарплата Валерия",owner:"valeria",date:new Date},{type:"expense",amount:15e3,category:"Продукты",description:"Покупки в Перекрестке",owner:"artur",date:new Date},{type:"expense",amount:8e3,category:"Развлечения",description:"Кино и ресторан",owner:"valeria",date:new Date},{type:"expense",amount:25e3,category:"Коммунальные услуги",description:"Квартплата",owner:"artur",date:new Date}];for(const mt of ct)await Qc(Vs(Yr,"transactions"),{...mt,userId:s.uid,createdAt:new Date})};return g?V.jsx("div",{className:"min-h-screen flex items-center justify-center",children:V.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent"})}):V.jsxs("div",{className:"min-h-screen",children:[V.jsx("header",{className:"backdrop-blur-md bg-white/10 border-b border-white/20",children:V.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:V.jsxs("div",{className:"flex justify-between items-center h-16",children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-4",children:V.jsx("span",{className:"text-white text-lg font-bold",children:"₽"})}),V.jsx("h1",{className:"text-2xl font-bold text-white",children:"BudgetIOS"})]}),V.jsxs("div",{className:"flex items-center space-x-4",children:[V.jsx("span",{className:"text-sm text-gray-300",children:s?.email}),V.jsx("button",{onClick:ut,className:"p-2 text-gray-300 hover:text-white transition-colors rounded-lg hover:bg-white/10",children:V.jsx(oC,{size:20})})]})]})})}),V.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[V.jsxs("div",{className:"profile-card",children:[V.jsx("div",{className:"flex items-center justify-between mb-4",children:V.jsxs("div",{className:"flex items-center",children:[V.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mr-3",children:V.jsx(Gv,{className:"h-6 w-6 text-white"})}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-lg font-semibold text-white",children:"Артур"}),V.jsxs("p",{className:"text-sm text-gray-300",children:[A.length," операций"]})]})]})}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("div",{className:"flex justify-between",children:[V.jsx("span",{className:"text-green-400",children:"Доходы:"}),V.jsxs("span",{className:"font-semibold text-green-400",children:[U.toLocaleString("ru-RU")," ₽"]})]}),V.jsxs("div",{className:"flex justify-between",children:[V.jsx("span",{className:"text-red-400",children:"Расходы:"}),V.jsxs("span",{className:"font-semibold text-red-400",children:[H.toLocaleString("ru-RU")," ₽"]})]}),V.jsx("div",{className:"border-t border-white/20 pt-2",children:V.jsxs("div",{className:"flex justify-between",children:[V.jsx("span",{className:"text-white font-medium",children:"Баланс:"}),V.jsxs("span",{className:`font-bold text-xl ${Z>=0?"text-green-400":"text-red-400"}`,children:[Z.toLocaleString("ru-RU")," ₽"]})]})})]})]}),V.jsxs("div",{className:"profile-card",children:[V.jsx("div",{className:"flex items-center justify-between mb-4",children:V.jsxs("div",{className:"flex items-center",children:[V.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center mr-3",children:V.jsx(Gv,{className:"h-6 w-6 text-white"})}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-lg font-semibold text-white",children:"Валерия"}),V.jsxs("p",{className:"text-sm text-gray-300",children:[b.length," операций"]})]})]})}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("div",{className:"flex justify-between",children:[V.jsx("span",{className:"text-green-400",children:"Доходы:"}),V.jsxs("span",{className:"font-semibold text-green-400",children:[W.toLocaleString("ru-RU")," ₽"]})]}),V.jsxs("div",{className:"flex justify-between",children:[V.jsx("span",{className:"text-red-400",children:"Расходы:"}),V.jsxs("span",{className:"font-semibold text-red-400",children:[J.toLocaleString("ru-RU")," ₽"]})]}),V.jsx("div",{className:"border-t border-white/20 pt-2",children:V.jsxs("div",{className:"flex justify-between",children:[V.jsx("span",{className:"text-white font-medium",children:"Баланс:"}),V.jsxs("span",{className:`font-bold text-xl ${at>=0?"text-green-400":"text-red-400"}`,children:[at.toLocaleString("ru-RU")," ₽"]})]})})]})]}),V.jsxs("div",{className:"profile-card bg-gradient-to-r from-yellow-500/20 to-orange-600/20 border-yellow-500/30",children:[V.jsx("div",{className:"flex items-center justify-between mb-4",children:V.jsxs("div",{className:"flex items-center",children:[V.jsx("div",{className:"h-12 w-12 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-full flex items-center justify-center mr-3",children:V.jsx(fC,{className:"h-6 w-6 text-white"})}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-lg font-semibold text-white",children:"Семейный"}),V.jsx("p",{className:"text-sm text-gray-300",children:"Общий баланс"})]})]})}),V.jsxs("div",{className:"text-center",children:[V.jsxs("div",{className:`text-3xl font-bold ${gt>=0?"text-green-400":"text-red-400"}`,children:[gt.toLocaleString("ru-RU")," ₽"]}),V.jsxs("p",{className:"text-gray-300 text-sm mt-1",children:[i.length," всего операций"]})]})]})]}),V.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-8",children:[V.jsxs("button",{onClick:()=>p(!0),className:"btn-primary flex items-center justify-center gap-2",children:[V.jsx(pT,{size:20}),"Добавить операцию"]}),V.jsxs("button",{onClick:Nt,className:"btn-secondary flex items-center justify-center gap-2",children:[V.jsx(nC,{size:20}),"Добавить примеры"]}),V.jsxs("button",{onClick:async()=>{const{createDefaultCategories:ct}=await Fv(async()=>{const{createDefaultCategories:mt}=await Promise.resolve().then(()=>fT);return{createDefaultCategories:mt}},void 0);await ct(s.uid)},className:"btn-secondary flex items-center justify-center gap-2",children:[V.jsx(lC,{size:20}),"Создать категории"]}),V.jsxs("button",{onClick:()=>alert("Функция в разработке"),className:"btn-secondary flex items-center justify-center gap-2",children:[V.jsx(uC,{size:20}),"Цели и лимиты"]})]}),V.jsxs("div",{className:"card",children:[V.jsx("div",{className:"flex items-center justify-between mb-6",children:V.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[V.jsx(iC,{size:24}),"Последние операции"]})}),V.jsx(gC,{transactions:i})]})]}),d&&V.jsx(pC,{isOpen:d,onClose:()=>p(!1),categories:l})]})}function _C(){const{currentUser:s}=ch();return s?V.jsx(yC,{}):V.jsx(mC,{})}function vC(){return V.jsx(ZI,{children:V.jsx(_C,{})})}JA.createRoot(document.getElementById("root")).render(V.jsx(Zt.StrictMode,{children:V.jsx(vC,{})}));
